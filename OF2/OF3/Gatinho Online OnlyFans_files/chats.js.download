(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chats"],{"0068":function(e,t,s){"use strict";function i(e){return Object.prototype.toString.call(e)}function r(e){return"[object String]"===i(e)}var n=Object.prototype.hasOwnProperty;function a(e,t){return n.call(e,t)}function o(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){if(t){if("object"!==typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(s){e[s]=t[s]}))}})),e}function c(e,t,s){return[].concat(e.slice(0,t),s,e.slice(t+1))}function u(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!==(65535&e)&&65534!==(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function l(e){if(e>65535){e-=65536;var t=55296+(e>>10),s=56320+(1023&e);return String.fromCharCode(t,s)}return String.fromCharCode(e)}var d=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,h=/&([a-z#][a-z0-9]{1,31});/gi,p=new RegExp(d.source+"|"+h.source,"gi"),m=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,f=s("bd68");function b(e,t){var s=0;return a(f,t)?f[t]:35===t.charCodeAt(0)&&m.test(t)&&(s="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10),u(s))?l(s):e}function g(e){return e.indexOf("\\")<0?e:e.replace(d,"$1")}function v(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(p,(function(e,t,s){return t||b(e,s)}))}var _=/[&<>"]/,y=/[&<>"]/g,w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function O(e){return w[e]}function C(e){return _.test(e)?e.replace(y,O):e}var k=/[.?*+^$[\]\\(){}|-]/g;function x(e){return e.replace(k,"\\$&")}function P(e){switch(e){case 9:case 32:return!0}return!1}function S(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var j=s("7ca0");function M(e){return j.test(e)}function I(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function $(e){return e=e.trim().replace(/\s+/g," "),"Ṿ"==="ẞ".toLowerCase()&&(e=e.replace(/ẞ/g,"ß")),e.toLowerCase().toUpperCase()}t.lib={},t.lib.mdurl=s("d8a6"),t.lib.ucmicro=s("d5d1"),t.assign=o,t.isString=r,t.has=a,t.unescapeMd=g,t.unescapeAll=v,t.isValidEntityCode=u,t.fromCodePoint=l,t.escapeHtml=C,t.arrayReplaceAt=c,t.isSpace=P,t.isWhiteSpace=S,t.isMdAsciiPunct=I,t.isPunctChar=M,t.escapeRE=x,t.normalizeReference=$},"0122":function(e,t,s){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}s.d(t,"a",(function(){return i}))},"0687":function(e,t,s){"use strict";s("8e6e"),s("ac6a"),s("456d");var i=s("bd86"),r=s("d634");function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function a(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={computed:a(a({},Object(r["b"])(["authUser"])),{},{canSetCustomName:function(){return!this.isAuthUser&&this.authUser.isPerformer&&!this.user.isBlocked&&(this.user.subscribedOn||this.user.subscribedOnExpiredNow)}}),methods:a(a({},Object(r["yc"])(["setModalUser"])),{},{openCustomNamePopup:function(e){var t=this;this.setModalUser({userId:e}),this.$nextTick((function(){t.$root.$emit("bv::show::modal","ModalCustomName")}))}})}},"0758":function(e,t,s){"use strict";var i=s("0068").isSpace;e.exports=function(e,t,s,r){var n,a,o,c,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(n=e.src.charCodeAt(u),35!==n||u>=l)return!1;a=1,n=e.src.charCodeAt(++u);while(35===n&&u<l&&a<=6)a++,n=e.src.charCodeAt(++u);return!(a>6||u<l&&!i(n))&&(r||(l=e.skipSpacesBack(l,u),o=e.skipCharsBack(l,35,u),o>u&&i(e.src.charCodeAt(o-1))&&(l=o),e.line=t+1,c=e.push("heading_open","h"+String(a),1),c.markup="########".slice(0,a),c.map=[t,e.line],c=e.push("inline","",0),c.content=e.src.slice(u,l).trim(),c.map=[t,e.line],c.children=[],c=e.push("heading_close","h"+String(a),-1),c.markup="########".slice(0,a)),!0)}},"08ae":function(e,t,s){"use strict";var i=s("0068"),r=s("565b"),n=s("7cc2"),a=s("a915"),o=s("7696"),c=s("4cb4"),u=s("fbcd"),l=s("d8a6"),d=s("1985"),h={default:s("8a31"),zero:s("1caa"),commonmark:s("428d")},p=/^(vbscript|javascript|file|data):/,m=/^data:image\/(gif|png|jpeg|webp);/;function f(e){var t=e.trim().toLowerCase();return!p.test(t)||!!m.test(t)}var b=["http:","https:","mailto:"];function g(e){var t=l.parse(e,!0);if(t.hostname&&(!t.protocol||b.indexOf(t.protocol)>=0))try{t.hostname=d.toASCII(t.hostname)}catch(s){}return l.encode(l.format(t))}function v(e){var t=l.parse(e,!0);if(t.hostname&&(!t.protocol||b.indexOf(t.protocol)>=0))try{t.hostname=d.toUnicode(t.hostname)}catch(s){}return l.decode(l.format(t),l.decode.defaultChars+"%")}function _(e,t){if(!(this instanceof _))return new _(e,t);t||i.isString(e)||(t=e||{},e="default"),this.inline=new c,this.block=new o,this.core=new a,this.renderer=new n,this.linkify=new u,this.validateLink=f,this.normalizeLink=g,this.normalizeLinkText=v,this.utils=i,this.helpers=i.assign({},r),this.options={},this.configure(e),t&&this.set(t)}_.prototype.set=function(e){return i.assign(this.options,e),this},_.prototype.configure=function(e){var t,s=this;if(i.isString(e)&&(t=e,e=h[t],!e))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&s.set(e.options),e.components&&Object.keys(e.components).forEach((function(t){e.components[t].rules&&s[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&s[t].ruler2.enableOnly(e.components[t].rules2)})),this},_.prototype.enable=function(e,t){var s=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){s=s.concat(this[t].ruler.enable(e,!0))}),this),s=s.concat(this.inline.ruler2.enable(e,!0));var i=e.filter((function(e){return s.indexOf(e)<0}));if(i.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+i);return this},_.prototype.disable=function(e,t){var s=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){s=s.concat(this[t].ruler.disable(e,!0))}),this),s=s.concat(this.inline.ruler2.disable(e,!0));var i=e.filter((function(e){return s.indexOf(e)<0}));if(i.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+i);return this},_.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},_.prototype.parse=function(e,t){if("string"!==typeof e)throw new Error("Input data should be a String");var s=new this.core.State(e,this,t);return this.core.process(s),s.tokens},_.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},_.prototype.parseInline=function(e,t){var s=new this.core.State(e,this,t);return s.inlineMode=!0,this.core.process(s),s.tokens},_.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=_},"096b":function(e,t,s){"use strict";function i(e,t,s){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=s,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}i.prototype.attrIndex=function(e){var t,s,i;if(!this.attrs)return-1;for(t=this.attrs,s=0,i=t.length;s<i;s++)if(t[s][0]===e)return s;return-1},i.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},i.prototype.attrSet=function(e,t){var s=this.attrIndex(e),i=[e,t];s<0?this.attrPush(i):this.attrs[s]=i},i.prototype.attrGet=function(e){var t=this.attrIndex(e),s=null;return t>=0&&(s=this.attrs[t][1]),s},i.prototype.attrJoin=function(e,t){var s=this.attrIndex(e);s<0?this.attrPush([e,t]):this.attrs[s][1]=this.attrs[s][1]+" "+t},e.exports=i},"097b":function(e,t,s){"use strict";var i=s("096b"),r=s("0068").isWhiteSpace,n=s("0068").isPunctChar,a=s("0068").isMdAsciiPunct;function o(e,t,s,i){this.src=e,this.env=s,this.md=t,this.tokens=i,this.tokens_meta=Array(i.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1}o.prototype.pushPending=function(){var e=new i("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},o.prototype.push=function(e,t,s){this.pending&&this.pushPending();var r=new i(e,t,s),n=null;return s<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,s>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],n={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(n),r},o.prototype.scanDelims=function(e,t){var s,i,o,c,u,l,d,h,p,m=e,f=!0,b=!0,g=this.posMax,v=this.src.charCodeAt(e);s=e>0?this.src.charCodeAt(e-1):32;while(m<g&&this.src.charCodeAt(m)===v)m++;return o=m-e,i=m<g?this.src.charCodeAt(m):32,d=a(s)||n(String.fromCharCode(s)),p=a(i)||n(String.fromCharCode(i)),l=r(s),h=r(i),h?f=!1:p&&(l||d||(f=!1)),l?b=!1:d&&(h||p||(b=!1)),t?(c=f,u=b):(c=f&&(!b||d),u=b&&(!f||p)),{can_open:c,can_close:u,length:o}},o.prototype.Token=i,e.exports=o},"0c3f":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-fans__filter"},[e.authUser.isPerformer?s(e.isIOS||e.isSafari?"button":"span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.tooltip_filter"),expression:"$t('message.tooltip_filter')"}],tag:"component",staticClass:"g-btn m-icon m-with-round-hover",class:{"m-active":e.isUsersFiltered},attrs:{type:"button","at-attr":"list_filter"},on:{click:e.openModalFilter}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-filter"})]):e._e(),e.hideSort?e._e():s("b-dropdown",{directives:[{name:"dropdown-autohide",rawName:"v-dropdown-autohide"}],staticClass:"m-not-width-limit m-position-inline m-with-round-hover",class:{"m-active":e.isUsersSorted},attrs:{"at-attr":"list_sort",offset:"4",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.list_sort"),expression:"$t('message.list_sort')"}],staticClass:"icon-sort"})]},proxy:!0}],null,!1,1391651522)},[e.chatsFilterPriority?e._l(e.sortFields,(function(t){var i=t.value,r=t.label;return s("b-dropdown-item",{key:i,staticClass:"b-input-radio__container",attrs:{href:"javascript:void(0)"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.subscribersField,expression:"subscribersField"}],staticClass:"b-input-radio",attrs:{id:"field-"+i,type:"radio",name:"field"},domProps:{value:i,checked:e._q(e.subscribersField,i)},on:{change:function(t){e.subscribersField=i}}}),s("label",{attrs:{for:"field-"+i}},[e._v(" "+e._s(r)+" ")]),s("span",{staticClass:"b-dropdown__icon"},[s("span",{staticClass:"b-input-ripple"})])])})):e._l(e.usersSortOptions,(function(t){return s("b-dropdown-item",{key:t.name,staticClass:"b-input-radio__container",attrs:{href:"javascript:void(0)"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.subscribersSort,expression:"subscribersSort"}],staticClass:"b-input-radio",attrs:{id:t.name,type:"radio",name:"sort"},domProps:{value:t.name,checked:e._q(e.subscribersSort,t.name)},on:{change:function(s){e.subscribersSort=t.name}}}),s("label",{attrs:{for:t.name}},[e._v(" "+e._s(e.$t("message."+t.label))+" ")]),s("span",{staticClass:"b-dropdown__icon"},[s("span",{staticClass:"b-input-ripple"})])])})),s("b-dropdown-divider"),s("b-dropdown-item",{staticClass:"b-input-radio__container",attrs:{href:"javascript:void(0)"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.subscribersOrder,expression:"subscribersOrder"}],staticClass:"b-input-radio",attrs:{id:"order-asc",type:"radio",name:"order",value:"asc"},domProps:{checked:e._q(e.subscribersOrder,"asc")},on:{change:function(t){e.subscribersOrder="asc"}}}),s("label",{attrs:{for:"order-asc"}},[e._v(" "+e._s(e.$t("message.sort_ascending_label"))+" ")]),s("span",{staticClass:"b-dropdown__icon"},[s("span",{staticClass:"b-input-ripple"})])]),s("b-dropdown-item",{staticClass:"b-input-radio__container",attrs:{href:"javascript:void(0)"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.subscribersOrder,expression:"subscribersOrder"}],staticClass:"b-input-radio",attrs:{id:"order-desc",type:"radio",name:"order",value:"desc"},domProps:{checked:e._q(e.subscribersOrder,"desc")},on:{change:function(t){e.subscribersOrder="desc"}}}),s("label",{attrs:{for:"order-desc"}},[e._v(" "+e._s(e.$t("message.sort_descending_label"))+" ")]),s("span",{staticClass:"b-dropdown__icon"},[s("span",{staticClass:"b-input-ripple"})])])],2),e.authUser.isPerformer?s("ModalFilter",{attrs:{title:e.$t("message.filter_subscribers")}}):e._e()],1)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("a481"),s("bd86")),a=s("9029"),o=s("d634"),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{id:"ModalFilter",centered:"","modal-class":"filter-modal m-discount","body-class":"m-footer-inside-body",size:"sm","hide-footer":"","no-stacking":""},scopedSlots:e._u([{key:"modal-header",fn:function(){return[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.title)+" ")])]},proxy:!0}]),model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("form",{on:{submit:function(t){return t.preventDefault(),e.updateQuery(t)}}},[s("div",{staticClass:"modal-body"},[s("div",{staticClass:"b-modal__filter__item",class:{"m-active":e.spent}},[s("checkbox",{staticClass:"modal-filter-checkbox",attrs:{label:e.$t("message.total_spent")},on:{input:e.changeSpent},model:{value:e.spent,callback:function(t){e.spent=t},expression:"spent"}}),s("increment",{attrs:{step:100,value:e.spentValue,"value-title":e.spentValueTitle,"with-dropdown":"","dropdown-options":e.totalSpentDropdownOptions},on:{input:e.changeSpentValue},model:{value:e.spentValue,callback:function(t){e.spentValue=t},expression:"spentValue"}})],1),s("div",{staticClass:"b-modal__filter__item",class:{"m-active":e.tips}},[s("checkbox",{staticClass:"modal-filter-checkbox",attrs:{label:e.$t("message.tipped_over")},on:{input:e.changeTips},model:{value:e.tips,callback:function(t){e.tips=t},expression:"tips"}}),s("increment",{attrs:{options:e.tipsOptions,value:e.tipsValue,"with-dropdown":""},on:{input:e.changeTipsValue},model:{value:e.tipsValue,callback:function(t){e.tipsValue=t},expression:"tipsValue"}})],1),s("div",{staticClass:"b-modal__filter__item",class:{"m-active":e.subscribedPeriod}},[s("checkbox",{staticClass:"modal-filter-checkbox",attrs:{label:e.$t("message.subscribed_over")},on:{input:e.changeSubscribedPeriod},model:{value:e.subscribedPeriod,callback:function(t){e.subscribedPeriod=t},expression:"subscribedPeriod"}}),s("increment",{attrs:{options:e.subscribedPeriodOptions,value:e.subscribedPeriodValue,"with-dropdown":""},on:{input:e.changeSubscribedPeriodValue},model:{value:e.subscribedPeriodValue,callback:function(t){e.subscribedPeriodValue=t},expression:"subscribedPeriodValue"}})],1),s("div",{staticClass:"b-modal__filter__item",class:{"m-active":e.inactivePeriod}},[s("checkbox",{staticClass:"modal-filter-checkbox",attrs:{label:e.$t("message.inactive_over")},on:{input:e.changeInactivePeriod},model:{value:e.inactivePeriod,callback:function(t){e.inactivePeriod=t},expression:"inactivePeriod"}}),s("increment",{attrs:{options:e.inactivePeriodOptions,value:e.inactivePeriodValue,"with-dropdown":""},on:{input:e.changeInactivePeriodValue},model:{value:e.inactivePeriodValue,callback:function(t){e.inactivePeriodValue=t},expression:"inactivePeriodValue"}})],1),s("div",{staticClass:"b-modal__filter__item",class:{"m-active":e.recommendationsPeriod}},[s("checkbox",{staticClass:"modal-filter-checkbox full",attrs:{label:e.$t("message.filter_subscribers_recommendations")},model:{value:e.recommendationsPeriod,callback:function(t){e.recommendationsPeriod=t},expression:"recommendationsPeriod"}})],1),e.isSubscribersActivePage?s("div",{staticClass:"b-modal__filter__item",class:{"m-active":e.online}},[s("checkbox",{staticClass:"modal-filter-checkbox full",attrs:{label:e.$t("message.online")},model:{value:e.online,callback:function(t){e.online=t},expression:"online"}})],1):e._e(),e.isSubscribersActivityPage?s("div",{staticClass:"b-modal__filter__item m-flex-wrap",class:{"m-active":e.checkedTotalSpentPeriod}},[s("checkbox",{staticClass:"modal-filter-checkbox full",attrs:{label:e.$t("message.filter_total_spent_period")},on:{input:e.changeTotalSpentPeriod},model:{value:e.checkedTotalSpentPeriod,callback:function(t){e.checkedTotalSpentPeriod=t},expression:"checkedTotalSpentPeriod"}}),s("input-o-f",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"pb-0 chat-data-filter",class:{"m-disabled m-click-enabled":!e.checkedTotalSpentPeriod},attrs:{id:"spent_date_start",type:"date","data-vv-as":e.$t("message.vat_add_documents_date_from"),placeholder:e.$t("message.file_date_title"),name:"userinfo[spent_date_start]",error:e.errors.first("payment-form.userinfo[spent_date_start]"),"datetime-flow":["date"],"no-date-steps":"","min-date":e.minSpentDateStart,"max-date":e.maxSpentDateStart,title:e.$t("message.file_date_title"),"is-date-filter":""},on:{change:e.changeSpentDateStart},model:{value:e.spent_date_start,callback:function(t){e.spent_date_start=t},expression:"spent_date_start"}}),s("input-o-f",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"pb-0 chat-data-filter",class:{"m-disabled m-click-enabled":!e.checkedTotalSpentPeriod},attrs:{id:"spent_date_end",type:"date","data-vv-as":e.$t("message.vat_add_documents_date_to"),placeholder:e.$t("message.file_date_title"),name:"userinfo[spent_date_end]",error:e.errors.first("payment-form.userinfo[spent_date_end]"),"datetime-flow":["date"],"no-date-steps":"","min-date":e.minSpentDateEnd,"max-date":e.maxSpentDateEnd,title:e.$t("message.file_date_title"),"is-date-filter":""},on:{change:e.changeSpentDateEnd},model:{value:e.spent_date_end,callback:function(t){e.spent_date_end=t},expression:"spent_date_end"}})],1):e._e(),e.isChat?s("div",{staticClass:"b-modal__filter__item m-flex-wrap",class:{"m-active":e.upAfterDate}},[s("checkbox",{staticClass:"modal-filter-checkbox full",attrs:{label:e.$t("message.signed_up_after")},model:{value:e.upAfterDate,callback:function(t){e.upAfterDate=t},expression:"upAfterDate"}}),s("input-o-f",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"pb-0 chat-data-filter",class:{"m-disabled m-click-enabled":!e.upAfterDate},attrs:{id:"signed_up_after",type:"date","data-vv-as":e.$t("message.signed_up_after"),placeholder:e.$t("message.file_date_title"),name:"userinfo[signed_up_after]",error:e.errors.first("payment-form.userinfo[signed_up_after]"),"datetime-flow":["date"],"no-date-steps":"","max-date":e.maxDateAfter,"min-date":e.minDateAfter,title:e.$t("message.file_date_title"),"is-date-filter":""},on:{change:e.changeSignedUpAfter},model:{value:e.signed_up_after,callback:function(t){e.signed_up_after=t},expression:"signed_up_after"}})],1):e._e(),e.isChat?s("div",{staticClass:"b-modal__filter__item m-flex-wrap",class:{"m-active":e.upBeforeDate}},[s("checkbox",{staticClass:"modal-filter-checkbox full",attrs:{label:e.$t("message.signed_up_before")},model:{value:e.upBeforeDate,callback:function(t){e.upBeforeDate=t},expression:"upBeforeDate"}}),s("input-o-f",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"pb-0 chat-data-filter",class:{"m-disabled m-click-enabled":!e.upBeforeDate},attrs:{id:"signed_up_before",type:"date","input-classes":"text-center","data-vv-as":e.$t("message.signed_up_before"),placeholder:e.$t("message.file_date_title"),name:"userinfo[signed_up_before]",error:e.errors.first("payment-form.userinfo[signed_up_before]"),"datetime-flow":["date"],"no-date-steps":"","max-date":e.maxDateBefore,"min-date":e.minDateBefore,title:e.$t("message.file_date_title"),"is-date-filter":""},on:{change:e.changeSignedUpBefore},model:{value:e.signed_up_before,callback:function(t){e.signed_up_before=t},expression:"signed_up_before"}})],1):e._e()]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"g-btn m-flat m-btn-gaps m-reset-width",attrs:{type:"button"},on:{click:e.cancel}},[e._v(" "+e._s(e.$t("message.button_label_cancel"))+" ")]),s("button",{staticClass:"g-btn m-flat m-btn-gaps m-reset-width",attrs:{type:"button",disabled:!e.canReset},on:{click:e.reset}},[e._v(" "+e._s(e.$t("message.modal_reset_button"))+" ")]),s("button",{staticClass:"g-btn m-flat m-btn-gaps m-reset-width",attrs:{type:"submit"}},[e._v(" "+e._s(e.$t("message.subscription_discount_dialog_apply_button"))+" ")])])])])},u=[],l=s("768b"),d=s("5a0c"),h=s.n(d),p=s("0ecf"),m=s.n(p),f=s("76db"),b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"g-input__increment"},[s("button",{staticClass:"g-input__increment__btn g-btn m-with-round-hover m-icon m-icon-only m-sm-size m-with-round-hover",class:{"m-gray":e.disabledDecrement},attrs:{type:"button",disabled:e.disabledDecrement},on:{click:function(t){return t.preventDefault(),e.decrement(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-minus"})]),e.withDropdown&&e.dropdownItems.length?s("b-dropdown",{directives:[{name:"dropdown-autohide",rawName:"v-dropdown-autohide"}],staticClass:"g-input__increment__value",attrs:{"menu-class":"m-long-narrow-list m-native-custom-scrollbar m-visible-forcibly m-scrollbar-y m-scroll-behavior-auto",text:e.stepTitle,lazy:""},on:{shown:e.dropdownShown}},e._l(e.dropdownItems,(function(t){var i=t[0],r=t[1];return s("b-dropdown-item-button",{key:i,ref:i.toString()===e.currentVal.toString()?"dropdownActiveItem":void 0,refInFor:!0,staticClass:"dropdown-btn-class",attrs:{active:i.toString()===e.currentVal.toString()},on:{click:function(t){return e.selectFromDropdown(i)}}},[e._v(" "+e._s(r)+" ")])})),1):s("div",{staticClass:"g-input__increment__value"},[e._v(" "+e._s(e.stepTitle)+" ")]),s("button",{staticClass:"g-input__increment__btn g-btn m-with-round-hover m-icon m-icon-only m-sm-size m-with-round-hover",class:{"m-gray":e.disabledIncrement},attrs:{type:"button",disabled:e.disabledIncrement},on:{click:function(t){return t.preventDefault(),e.increment(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-plus"})])],1)},g=[],v=(s("ffc1"),s("6b54"),s("c5f6"),{name:"InputIncrement",props:{options:{type:[Object],default:function(){return{}}},step:{type:Number,default:0},valueTitle:{type:Function,default:function(e){return e}},value:{type:[String,Number],required:!0},withDropdown:{type:Boolean,default:!1},dropdownOptions:{type:Object,default:function(){return{}}}},data:function(){return{currentVal:0}},computed:{stepTitle:function(){return Object.keys(this.options).length?this.options[this.currentVal]||"":this.step?this.valueTitle(this.currentVal):""},disabledDecrement:function(){var e=Object.keys(this.options);return e.length?e[0].toString()===this.currentVal.toString():!!this.step&&this.currentVal.toString()===this.step.toString()},disabledIncrement:function(){var e=Object.keys(this.options);return e.length?e[e.length-1].toString()===this.currentVal.toString():(this.step,!1)},dropdownItems:function(){if(!this.withDropdown)return[];var e=Object.keys(this.dropdownOptions).length?this.dropdownOptions:this.options;return Object.entries(e)}},watch:{value:{handler:function(e){e!==this.currentVal&&(this.currentVal=e)},immediate:!0}},methods:{decrement:function(){var e=Object.keys(this.options);e.length&&(this.currentVal=e[e.indexOf(this.currentVal.toString())-1]),this.step&&(this.currentVal=Number(this.currentVal)-this.step),this.$emit("input",this.currentVal)},increment:function(){var e=Object.keys(this.options);e.length&&(this.currentVal=e[e.indexOf(this.currentVal.toString())+1]),this.step&&(this.currentVal=Number(this.currentVal)+this.step),this.$emit("input",this.currentVal)},selectFromDropdown:function(e){e&&(this.currentVal=e,this.$emit("input",this.currentVal))},dropdownShown:function(){if(this.$refs.dropdownActiveItem&&this.$refs.dropdownActiveItem.length){var e=Object(l["a"])(this.$refs.dropdownActiveItem,1),t=e[0];t&&t.$el.scrollIntoView(!1)}}}}),_=v,y=s("2877"),w=Object(y["a"])(_,b,g,!1,null,null,null),O=w.exports,C=s("13ca");function k(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function x(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?k(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):k(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}h.a.extend(m.a);var P=10,S=100,j=1,M=1,I={name:"ModalFilter",components:{Checkbox:f["a"],Increment:O,InputOF:C["a"]},props:{title:{type:String,required:!0}},data:function(){return{show:!1,tips:!1,spent:!1,subscribedPeriod:!1,inactivePeriod:!1,recommendationsPeriod:!1,online:!1,checkedTotalSpentPeriod:!1,spent_date_start:(new Date).toISOString(),spent_date_end:(new Date).toISOString(),tipsValue:P,spentValue:S,subscribedPeriodValue:j,inactivePeriodValue:M,signed_up_after:(new Date).toISOString(),signed_up_before:(new Date).toISOString(),upAfterDate:!1,upBeforeDate:!1,totalSpentIntervals:[[100,1e3],[1e3,1e4]]}},computed:x(x({},Object(o["b"])(["authUser"])),{},{totalSpentDropdownOptions:function(){return this.totalSpentIntervals.reduce((function(e,t){var s=Object(l["a"])(t,2),i=s[0],r=s[1],n=0;while(n<r)n+=i,e[n]="$ ".concat(n);return e}),{})},tipsOptions:function(){var e=10,t={};while(e<=100)t[e]="$ ".concat(e),e+=10;return t},subscribedPeriodOptions:function(){var e=1,t={};while(e<=12)t[e]=this.$tc("message.count_months_plural",e,{COUNT:e}),e+=1;return t},inactivePeriodOptions:function(){var e=1,t={};while(e<=30)t[e]=this.$tc("message.count_day_plural",e,{COUNT:e}),e+=1;return t},canReset:function(){var e=x({},this.$route.query),t=e.total_spent,s=e.tips,i=e.duration,r=e.inactive,n=e.recommenders,a=e.signed_up_before,o=e.signed_up_after,c=e.online,u=e.spent_date_start,l=e.spent_date_end;return!!t||!!s||!!i||!!r||!!n||!!a||!!o||!!c||!!u||!!l},isChat:function(){return"ChatsSend"===this.$route.name},minDateAfter:function(){return h()().subtract(1,"months").toISOString()},maxDateAfter:function(){return this.signed_up_before.length?this.signed_up_before:(new Date).toISOString()},minDateBefore:function(){return this.upAfterDate&&this.signed_up_after.length?this.signed_up_after:this.minDateAfter},maxDateBefore:function(){return(new Date).toISOString()},isSubscribersActivePage:function(){return"SubscribersByType"===this.$route.name&&"active"===this.$route.params.type},isSubscribersActivityPage:function(){return"SubscribersByType"===this.$route.name&&"activity"===this.$route.params.type},authUserJoinDate:function(){return this.authUser.joinDate||""},minSpentDateStart:function(){return this.authUserJoinDate},maxSpentDateStart:function(){return this.spent_date_end.length?this.spent_date_end:(new Date).toISOString()},minSpentDateEnd:function(){return this.checkedTotalSpentPeriod&&this.spent_date_start.length?this.spent_date_start:this.minSpentDateStart},maxSpentDateEnd:function(){return(new Date).toISOString()}}),watch:{show:function(e){e&&this.setValuesFromQuery()}},mounted:function(){this.setValuesFromQuery()},methods:{setValuesFromQuery:function(){var e=this,t=x({},this.$route.query),s=t.total_spent,i=t.tips,r=t.duration,n=t.inactive,a=t.recommenders,o=t.signed_up_after,c=t.signed_up_before,u=t.online,l=t.spent_date_start,d=t.spent_date_end;s?this.spentValue=s:(this.spentValue=S,this.$nextTick((function(){e.spent=!1}))),i?this.tipsValue=i:(this.tipsValue=P,this.$nextTick((function(){e.tips=!1}))),r?this.subscribedPeriodValue=r:(this.subscribedPeriodValue=j,this.$nextTick((function(){e.subscribedPeriod=!1}))),n?this.inactivePeriodValue=n:(this.inactivePeriodValue=M,this.$nextTick((function(){e.inactivePeriod=!1}))),a?this.recommendationsPeriod=!0:this.$nextTick((function(){e.recommendationsPeriod=!1})),u?this.online=!0:this.$nextTick((function(){e.online=!1})),o?(this.signed_up_after=o,this.upAfterDate=!0):(this.signed_up_after=this.maxDateAfter,this.$nextTick((function(){e.upAfterDate=!1}))),c?(this.signed_up_before=c,this.upBeforeDate=!0):(this.signed_up_before=this.maxDateBefore,this.$nextTick((function(){e.upBeforeDate=!1}))),l?(this.spent_date_start=l,this.checkedTotalSpentPeriod=!0):(this.spent_date_start=(new Date).toISOString(),this.$nextTick((function(){e.checkedTotalSpentPeriod=!1}))),d?(this.spent_date_end=d,this.checkedTotalSpentPeriod=!0):(this.spent_date_end=(new Date).toISOString(),this.$nextTick((function(){e.checkedTotalSpentPeriod=!1})))},cancel:function(){this.setValuesFromQuery(),this.close()},reset:function(){var e=this;this.spentValue=S,this.tipsValue=P,this.subscribedPeriodValue=j,this.inactivePeriodValue=M,this.signed_up_before="",this.signed_up_after="",this.spent_date_start="",this.spent_date_end="",this.$nextTick((function(){e.spent=!1,e.tips=!1,e.subscribedPeriod=!1,e.inactivePeriod=!1,e.recommendationsPeriod=!1,e.online=!1,e.upBeforeDate=!1,e.upAfterDate=!1,e.checkedTotalSpentPeriod=!1,e.updateQuery()}))},close:function(){this.show=!1},updateQuery:function(){var e=x({},this.$route.query);this.spent?e.total_spent=this.spentValue:delete e.total_spent,this.tips?e.tips=this.tipsValue:delete e.tips,this.subscribedPeriod?e.duration=this.subscribedPeriodValue:delete e.duration,this.inactivePeriod?e.inactive=this.inactivePeriodValue:delete e.inactive,this.recommendationsPeriod?e.recommenders=1:delete e.recommenders,this.online?e.online=1:delete e.online,this.upBeforeDate?e.signed_up_before=this.getCurrentOrEndDate(this.signed_up_before):delete e.signed_up_before,this.upAfterDate?e.signed_up_after=this.isoDateToDayStart(this.signed_up_after):delete e.signed_up_after,this.checkedTotalSpentPeriod?(e.spent_date_start=this.isoDateToDayStart(this.spent_date_start),e.spent_date_end=this.getCurrentOrEndDate(this.spent_date_end)):(delete e.spent_date_start,delete e.spent_date_end),this.$router.replace({query:e}),this.close()},spentValueTitle:function(e){return"$ ".concat(e)},changeSignedUpAfter:function(e){e&&!this.upAfterDate&&(this.upAfterDate=!0)},changeSignedUpBefore:function(e){e&&!this.upBeforeDate&&(this.upBeforeDate=!0),e&&!this.upAfterDate&&(this.signed_up_after=this.maxDateAfter)},changeSpentDateStart:function(e){e&&!this.checkedTotalSpentPeriod&&(this.checkedTotalSpentPeriod=!0)},changeSpentDateEnd:function(e){e&&!this.checkedTotalSpentPeriod&&(this.checkedTotalSpentPeriod=!0,this.spent_date_start=this.maxSpentDateStart)},changeSpentValue:function(){this.spent||(this.spent=!0)},changeTipsValue:function(){this.tips||(this.tips=!0)},changeSubscribedPeriodValue:function(){this.subscribedPeriod||(this.subscribedPeriod=!0)},changeInactivePeriodValue:function(){this.inactivePeriod||(this.inactivePeriod=!0)},changeSpent:function(e){e||(this.spentValue=S)},changeTips:function(e){e||(this.tipsValue=P)},changeSubscribedPeriod:function(e){e||(this.subscribedPeriodValue=j)},changeInactivePeriod:function(e){e||(this.inactivePeriodValue=M)},changeTotalSpentPeriod:function(e){e||(this.spent_date_start=(new Date).toISOString(),this.spent_date_end=(new Date).toISOString())},isoDateToDayStart:function(e){return h()(e).utc().startOf("day").toISOString()},isoDateToDayEnd:function(e){return h()(e).utc().endOf("day").toISOString()},getCurrentOrEndDate:function(e){return h()(e).utc().isSame((new Date).toISOString(),"day")?(new Date).toISOString():this.isoDateToDayEnd(e)}}},$=I,L=Object(y["a"])($,c,u,!1,null,null,null),T=L.exports,U=s("f847");function D(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function E(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?D(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):D(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var A={name:"SubscribersFilter",components:{ModalFilter:T},mixins:[U["f"]],props:{chatsFilterPriority:{type:Boolean,default:!1},hideSort:{type:Boolean,default:!1}},data:function(){return{subscribersSort:"Promotions"===this.$route.name?"create_date":"last_activity",subscribersOrder:"desc",subscribersField:"recent",showFilterModal:!1}},computed:E(E({},Object(o["b"])(["authUser"])),{},{promotionsPage:function(){return"Promotions"===this.$route.name},isIOS:function(){return a["isIOS"]},isSafari:function(){return a["isSafari"]},sortFields:function(){return[{value:"recent",label:this.$t("message.chart_sort_by_recent_label")},{value:"name",label:this.$t("message.chart_sort_by_name_label")},{value:"available",label:this.$t("message.chart_sort_by_available_label")}]}}),watch:{subscribersSort:function(){return this.updateQuery()},subscribersOrder:function(){return this.updateQuery()},subscribersField:function(){return this.updateQuery()},$route:function(e){this.setValuesFromQuery(e.query)}},mounted:function(){this.setValuesFromQuery(this.$route.query)},methods:{setValuesFromQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.subscribersOrder=this.currentOrderDir,this.subscribersSort=this.currentOrderField,this.chatsFilterPriority&&(this.subscribersField=e.chats_field||"recent")},updateQuery:function(){var e=E({},this.$route.query);this.subscribersSort!==this.defaultOrderField?("users.name"===this.subscribersSort&&e.order_field!==this.subscribersSort&&(this.subscribersOrder="asc"),e.order_field=this.subscribersSort):delete e.order_field,"recent"!==this.subscribersField&&this.chatsFilterPriority?e.chats_field=this.subscribersField:delete e.chats_field,this.subscribersOrder!==this.defaultOrderDir?e.order_dir=this.subscribersOrder:delete e.order_dir,this.$router.replace({query:e})},openModalFilter:function(){this.$root.$emit("bv::show::modal","ModalFilter")}}},F=A,B=Object(y["a"])(F,i,r,!1,null,null,null);t["a"]=B.exports},"0da7":function(e,t){(function(){var e=function(e){return e=+e,isNaN(e)||e==1/0||e==-1/0?0:e},t=function(e){e=e||document.getElementsByTagName("BODY")[0];var t=window.getComputedStyle(e),s=window.getComputedStyle(e.parent),i=t.overflowX,r=t.overflowY,n=s.overflowX,a=s.overflowY;return("table-column"==t.display||"table-column-group"==t.display)&&"visible"!=n&&"clip"!=n&&"visible"!=a&&"clip"!=a&&"visible"!=i&&"clip"!=i&&"visible"!=r&&"clip"!=r};Element.prototype.scroll||(Element.prototype.scroll=function(){var s,i,r=arguments.length,n=this.ownerDocument,a=n.defaultView,o="BackCompat"==n.compatMode,c=document.getElementsByTagName("BODY")[0],u={};if(n==window.document&&a&&0!==r){if(1===r){var l=arguments[0];if("object"!=typeof l)throw"Failed to execute 'scrollBy' on 'Element': parameter 1 ('options') is not an object.";"left"in l&&(u.left=e(l.left)),"top"in l&&(u.top=e(l.top)),s="left"in u?u.left:this.scrollLeft,i="top"in u?u.top:this.scrollTop}else u.left=s=e(arguments[0]),u.top=i=e(arguments[1]);if(this!=document.documentElement)this!=c||!o||t(c)?(this.scrollLeft=s,this.scrollTop=i):a.scroll(u.left,u.top);else{if(o)return;a.scroll("scrollX"in a?a.scrollX:"pageXOffset"in a?a.pageXOffset:this.scrollLeft,i)}}}),Element.prototype.scrollTo||(Element.prototype.scrollTo=Element.prototype.scroll),Element.prototype.scrollBy||(Element.prototype.scrollBy=function(){var t=arguments.length,s={};if(0!==t){if(1===t){var i=arguments[0];if("object"!=typeof i)throw"Failed to execute 'scrollBy' on 'Element': parameter 1 ('options') is not an object.";"left"in i&&(s.left=e(i.left)),"top"in i&&(s.top=e(i.top))}else s.left=e(arguments[0]),s.top=e(arguments[1]);s.left="left"in s?s.left+this.scrollLeft:this.scrollLeft,s.top="top"in s?s.top+this.scrollTop:this.scrollTop,this.scroll(s)}})})()},"0e70":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-chat b-gallery-wrapper"},[s("div",{staticClass:"b-chat__header b-header-conversation g-page__header m-real-sticky m-reset-sides-gaps m-reset-mb"},[s("go-back",{attrs:{default:e.defaultGoBackRoute}}),s("div",{staticClass:"b-chat__header__wrapper"},[s("page-title",{attrs:{title:e.$t("message.page_gallery_title")}}),s("header-with-back-to-top",{attrs:{text:e.$t("message.chat_gallery_title")}})],1),s("div",{staticClass:"b-chat__subheader"},[s("div",{staticClass:"b-chat__subheader__col"},[e.withUser.name?s("div",{staticClass:"b-chat__user-status",domProps:{innerHTML:e._s(e.$t("message.pretext_with")+" "+e.withUser.name)}}):e._e()])])],1),s("div",{staticClass:"b-feed-content m-native-custom-scrollbar m-scrollbar-y",attrs:{"at-attr":"feed_content"}},[e._e(),s("div",{staticClass:"b-photos m-col-3"},e._l(e.mediaGallery,(function(t){return s("users-post-grid",{key:e.itemKey(t),staticClass:"m-square",attrs:{message:t,post:t,avatar:"",locked:e.isLocked(t),"is-chats":""},on:{mediaId:e.setGalleryIndex}})})),1),s("infinite-loading",{ref:"infiniteLoading",attrs:{identifier:e.infiniteId},on:{infinite:e.infiniteHandler}},[s("div",{staticClass:"b-posts_preloader_container show_more_container",attrs:{slot:"spinner"},slot:"spinner"},[s("spinner-loader")],1),s("div",{attrs:{slot:"no-more"},slot:"no-more"}),s("div",{attrs:{slot:"no-results"},slot:"no-results"},[e.mediaGallery.length?e._e():s("p",{staticClass:"empty-message show"},[e._v(" "+e._s(e.$t("message.no_media_show_gallery"))+" ")])])])],1)])},r=[],n=(s("8e6e"),s("456d"),s("96cf"),s("3b8d")),a=(s("20d6"),s("ac6a"),s("bd86")),o=s("d634"),c=s("b6ee"),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-tabs__nav m-tab-rounded m-single-current m-mb-16"},[s("swiper",{directives:[{name:"swiper-mousewheel",rawName:"v-swiper-mousewheel"}],staticClass:"m-slide-width-auto m-gaps-inside",attrs:{options:e.swiperOptions}},e._l(e.filters,(function(t){return s("swiper-slide",{key:t.value},[s("button",{staticClass:"b-tabs__nav__item",class:{"m-current":e.isCurrent(t)},attrs:{type:"button",disabled:e.isCurrent(t)},on:{click:function(s){return e.onFilterChange(t)}}},[s("span",{staticClass:"b-tabs__nav__text"},[e._v(" "+e._s(t.name)+" ")])])])})),1)],1)},l=[],d=(s("a481"),s("6762"),s("2fdb"),s("7514"),s("5df3"),s("4f7f"),s("75fc")),h=s("4ead");function p(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function m(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?p(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var f={name:"GalleryFilters",mixins:[h["a"]],data:function(){return{swiperOptions:{slidesPerView:"auto",watchOverflow:!0,spaceBetween:8,mousewheel:!0,threshold:5},currentFilter:this.$route.query,filters:[{name:this.$t("message.all_button"),key:"type",value:"all"},{name:this.$t("message.purchased_button"),key:"opened",value:"0"},{name:this.$t("message.photos_button"),key:"type",value:"photos"},{name:this.$t("message.videos_button"),key:"type",value:"videos"},{name:this.$t("message.audios_button"),key:"type",value:"audios"}]}},computed:{uniqueFilterKeys:function(){return Object(d["a"])(new Set(this.filters.map((function(e){var t=e.key;return t}))))},uniqueKeyInQuery:function(){var e=this;return this.uniqueFilterKeys.find((function(t){return Object.keys(e.currentFilter).includes(t)}))}},methods:{isCurrent:function(e){return this.uniqueKeyInQuery?this.currentFilter[e.key]===e.value:"all"===e.value},onFilterChange:function(e){var t=e.key,s=e.value;this.currentFilter=Object(a["a"])({},t,s),this.updateQuery()},updateQuery:function(){var e=m({},this.$route.query);this.uniqueFilterKeys.forEach((function(t){return delete e[t]})),this.uniqueKeyInQuery?e[this.uniqueKeyInQuery]=this.currentFilter[this.uniqueKeyInQuery]:this.uniqueFilterKeys.forEach((function(t){return delete e[t]})),this.$router.replace({query:e})}}},b=f,g=s("2877"),v=Object(g["a"])(b,u,l,!1,null,null,null),_=v.exports,y=s("361e"),w=s("e528"),O=s("e166"),C=s.n(O),k=s("6ea3"),x=s("5888");function P(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function S(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?P(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):P(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var j={name:"Gallery",components:{GoBack:c["a"],GalleryFilters:_,UsersPostGrid:y["a"],SpinnerLoader:w["a"],InfiniteLoading:C.a,HeaderWithBackToTop:k["a"]},mixins:[x["a"]],data:function(){return{infiniteId:+new Date,gallery:[]}},computed:S(S(S(S(S({},Object(o["b"])(["authUserId"])),Object(o["tc"])(["getUser"])),Object(o["n"])(["media"])),Object(o["l"])(["getMessages"])),{},{withUser:function(){return this.getUser(this.$route.params.chatId)},mediaGallery:function(){var e=this,t=[];return this.getMessages(this.media).forEach((function(s){if(s.isMediaReady)if(s.fromUser===e.authUserId||s.isOpened||!s.canPurchase)s.media.forEach((function(e){e.src&&e.canView&&"audio"!==e.type&&t.push(S(S({},s),{},{media:[e]}))}));else if(s.media.length){var i=[];s.media.forEach((function(e){e.src&&e.canView&&"audio"!==e.type?t.push(S(S({},s),{},{media:[e],canPurchase:!1})):i.push(e)})),t.push(S(S({},s),{},{media:i}))}})),t},defaultGoBackRoute:function(){var e=this.$route.params.chatId;return e?{name:"Chat",params:{chatId:e}}:{name:"Chats"}}}),watch:{"$route.query":{handler:function(e,t){e!==t&&this.refreshGallery()}}},created:function(){this.fetchUser(),this.setGalleryNextLastId(),this.setChatUserMedia()},methods:S(S(S(S({},Object(o["sc"])(["getUsersByIds"])),Object(o["m"])(["setChatUserMedia","setGalleryNextLastId"])),Object(o["k"])(["fetchChatsUsersMedia"])),{},{refreshGallery:function(){this.infiniteId+=1,this.setChatUserMedia()},isLocked:function(e){return e&&e.canPurchase&&!e.isOpened&&e.fromUser!==this.authUserId},setGalleryIndex:function(e){var t=this.photoSwipeItems.findIndex((function(t){return!(!t.media||t.media.id!==e)||t&&t.id===e}));this.showPhotoSwipe({index:t,mainClass:"m-".concat(this.postType)})},infiniteHandler:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var s,i,r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=this.$route.params.chatId,i=this.$route.query,r=i.type,n=i.opened,e.next=4,this.fetchChatsUsersMedia({userId:s,type:r,opened:n});case 4:a=e.sent,a?t.loaded():t.complete();case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),fetchUser:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.withUser.id){e.next=3;break}return e.next=3,this.getUsersByIds({ids:{m:[this.$route.params.chatId]}});case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),itemKey:function(e){var t=e.post||e,s=t.id;return t.text&&(s+="_text"),t.media&&t.media.length&&(s+="_".concat(t.media[0].id)),s}})},M=j,I=Object(g["a"])(M,i,r,!1,null,null,null);t["default"]=I.exports},"0ecf":function(e,t,s){!function(t,s){e.exports=s()}(0,(function(){"use strict";return function(e,t,s){var i=t.prototype;s.utc=function(e){return new t({date:e,utc:!0,args:arguments})},i.utc=function(e){var t=s(this.toDate(),{locale:this.$L,utc:!0});return e?t.add(this.utcOffset(),"minute"):t},i.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var r=i.parse;i.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),r.call(this,e)};var n=i.init;i.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else n.call(this)};var a=i.utcOffset;i.utcOffset=function(e,t){var s=this.$utils().u;if(s(e))return this.$u?0:s(this.$offset)?a.call(this):this.$offset;var i=Math.abs(e)<=16?60*e:e,r=this;if(t)return r.$offset=i,r.$u=0===e,r;if(0!==e){var n=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(r=this.local().add(i+n,"minute")).$offset=i,r.$x.$localOffset=n}else r=this.utc();return r};var o=i.format;i.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return o.call(this,t)},i.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||(new Date).getTimezoneOffset());return this.$d.valueOf()-6e4*e},i.isUTC=function(){return!!this.$u},i.toISOString=function(){return this.toDate().toISOString()},i.toString=function(){return this.toDate().toUTCString()};var c=i.toDate;i.toDate=function(e){return"s"===e&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():c.call(this)};var u=i.diff;i.diff=function(e,t,i){if(e&&this.$u===e.$u)return u.call(this,e,t,i);var r=this.local(),n=s(e).local();return u.call(r,n,t,i)}}}))},1985:function(e,t,s){(function(e,i){var r;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(n){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof i&&i;a.global!==a&&a.window!==a&&a.self;var o,c=2147483647,u=36,l=1,d=26,h=38,p=700,m=72,f=128,b="-",g=/^xn--/,v=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=u-l,O=Math.floor,C=String.fromCharCode;function k(e){throw new RangeError(y[e])}function x(e,t){var s=e.length,i=[];while(s--)i[s]=t(e[s]);return i}function P(e,t){var s=e.split("@"),i="";s.length>1&&(i=s[0]+"@",e=s[1]),e=e.replace(_,".");var r=e.split("."),n=x(r,t).join(".");return i+n}function S(e){var t,s,i=[],r=0,n=e.length;while(r<n)t=e.charCodeAt(r++),t>=55296&&t<=56319&&r<n?(s=e.charCodeAt(r++),56320==(64512&s)?i.push(((1023&t)<<10)+(1023&s)+65536):(i.push(t),r--)):i.push(t);return i}function j(e){return x(e,(function(e){var t="";return e>65535&&(e-=65536,t+=C(e>>>10&1023|55296),e=56320|1023&e),t+=C(e),t})).join("")}function M(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:u}function I(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function $(e,t,s){var i=0;for(e=s?O(e/p):e>>1,e+=O(e/t);e>w*d>>1;i+=u)e=O(e/w);return O(i+(w+1)*e/(e+h))}function L(e){var t,s,i,r,n,a,o,h,p,g,v=[],_=e.length,y=0,w=f,C=m;for(s=e.lastIndexOf(b),s<0&&(s=0),i=0;i<s;++i)e.charCodeAt(i)>=128&&k("not-basic"),v.push(e.charCodeAt(i));for(r=s>0?s+1:0;r<_;){for(n=y,a=1,o=u;;o+=u){if(r>=_&&k("invalid-input"),h=M(e.charCodeAt(r++)),(h>=u||h>O((c-y)/a))&&k("overflow"),y+=h*a,p=o<=C?l:o>=C+d?d:o-C,h<p)break;g=u-p,a>O(c/g)&&k("overflow"),a*=g}t=v.length+1,C=$(y-n,t,0==n),O(y/t)>c-w&&k("overflow"),w+=O(y/t),y%=t,v.splice(y++,0,w)}return j(v)}function T(e){var t,s,i,r,n,a,o,h,p,g,v,_,y,w,x,P=[];for(e=S(e),_=e.length,t=f,s=0,n=m,a=0;a<_;++a)v=e[a],v<128&&P.push(C(v));i=r=P.length,r&&P.push(b);while(i<_){for(o=c,a=0;a<_;++a)v=e[a],v>=t&&v<o&&(o=v);for(y=i+1,o-t>O((c-s)/y)&&k("overflow"),s+=(o-t)*y,t=o,a=0;a<_;++a)if(v=e[a],v<t&&++s>c&&k("overflow"),v==t){for(h=s,p=u;;p+=u){if(g=p<=n?l:p>=n+d?d:p-n,h<g)break;x=h-g,w=u-g,P.push(C(I(g+x%w,0))),h=O(x/w)}P.push(C(I(h,0))),n=$(s,y,i==r),s=0,++i}++s,++t}return P.join("")}function U(e){return P(e,(function(e){return g.test(e)?L(e.slice(4).toLowerCase()):e}))}function D(e){return P(e,(function(e){return v.test(e)?"xn--"+T(e):e}))}o={version:"1.4.1",ucs2:{decode:S,encode:j},decode:L,encode:T,toASCII:D,toUnicode:U},r=function(){return o}.call(t,s,t,e),void 0===r||(e.exports=r)})()}).call(this,s("62e4")(e),s("c8ba"))},"199e":function(e,t,s){"use strict";e.exports=function(e,t,s){var i,r,n,a,o,c,u,l,d,h,p=t+1,m=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(h=e.parentType,e.parentType="paragraph";p<s&&!e.isEmpty(p);p++)if(!(e.sCount[p]-e.blkIndent>3)){if(e.sCount[p]>=e.blkIndent&&(c=e.bMarks[p]+e.tShift[p],u=e.eMarks[p],c<u&&(d=e.src.charCodeAt(c),(45===d||61===d)&&(c=e.skipChars(c,d),c=e.skipSpaces(c),c>=u)))){l=61===d?1:2;break}if(!(e.sCount[p]<0)){for(r=!1,n=0,a=m.length;n<a;n++)if(m[n](e,p,s,!0)){r=!0;break}if(r)break}}return!!l&&(i=e.getLines(t,p,e.blkIndent,!1).trim(),e.line=p+1,o=e.push("heading_open","h"+String(l),1),o.markup=String.fromCharCode(d),o.map=[t,e.line],o=e.push("inline","",0),o.content=i,o.map=[t,e.line-1],o.children=[],o=e.push("heading_close","h"+String(l),-1),o.markup=String.fromCharCode(d),e.parentType=h,!0)}},"19ad":function(e,t,s){},"1caa":function(e,t,s){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},"1db1":function(e,t,s){"use strict";s("8e6e"),s("456d"),s("ac6a"),s("5df3"),s("a481"),s("c5f6"),s("ee1d"),s("96cf");var i=s("3b8d"),r=(s("6762"),s("2fdb"),s("bd86")),n=s("2ef0"),a=s("5a0c"),o=s.n(a),c=s("8f19"),u=s.n(c),l=s("d634"),d=s("16d9"),h=s("db63");function p(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function m(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?p(Object(s),!0).forEach((function(t){Object(r["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}o.a.extend(u.a),t["a"]={data:function(){return{userLoaded:null}},mixins:[d["a"],h["a"]],computed:m(m(m(m(m(m({},Object(l["kb"])(["getLastProfileItemIds","getPost","getTempItemIds"])),Object(l["b"])(["authUser","authUserId"])),Object(l["tc"])(["findUserByUserName","getUser","userId"])),Object(l["rb"])(["route"])),Object(l["C"])(["getInit"])),{},{isProfile:function(){return"Profile"===this.$route.name||this.isProfileAlias},isProfileAlias:function(){return"ProfileAlias"===this.$route.name},isProfileOrInner:function(){return this.isProfile||"ProfileInner"===this.$route.name},isLabelPage:function(){return"ProfileLabel"===this.$route.name},isProfileOrInnerOrPost:function(){return this.isProfileOrInner||["Post","MessagePage"].includes(this.$route.name)},isOwnProfileOrPostFirstLoad:function(){return!this.route.from.name&&this.isAuthUser&&this.isProfileOrInnerOrPost}}),methods:m(m(m(m(m(m(m(m(m({},Object(l["Qb"])(["fetchUserStories","fetchUserHighlights","resetUserStories","resetUserHighlights"])),Object(l["yc"])(["setCurrentUser","resetUserLinks","setShopifyProducts","setProfileDataLoadingError"])),Object(l["Db"])(["resetSpotifyBio"])),Object(l["sc"])(["fetchCurrentUser","socialButtonsGetByUser"])),Object(l["lb"])(["setItemIds","setLastProfileItemId","setPrevUserPostsToLoad","setPinnedIds","resetPosts","resetPostsFiltersCounter","deletePost"])),Object(l["jb"])(["fetchUserPosts","fetchPost","fetchPostsPinned"])),Object(l["k"])(["fetchMessageToPost"])),Object(l["qc"])(["fetchLastPosts","resetLastPosts"])),{},{fetchProfileData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var s,i,r,a,o,c,u,l,d,h,p,m,f,b,g,v,_,y,w,O,C,k,x,P,S,j,M=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.setProfileDataLoadingError(!1),t){e.next=4;break}return this.setProfileDataLoadingError(!0),e.abrupt("return");case 4:if(this.setPrevUserPostsToLoad(!1),!this.userLoaded){e.next=10;break}s=this.userLoaded,this.userLoaded=null,e.next=22;break;case 10:if(this.isAfterUnblock||this.$route.params.noLoadUser||this.isOwnProfileOrPostFirstLoad||this.setCurrentUser(null),e.prev=11,(this.$route.params.noLoadUser||this.isOwnProfileOrPostFirstLoad)&&(s=Number.isNaN(Number(t))?this.findUserByUserName(t):this.getUser(t)),s&&s.id){e.next=17;break}return e.next=16,this.fetchCurrentUser(t);case 16:s=e.sent;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](11),this.setProfileDataLoadingError(!0);case 22:if(!s){e.next=69;break}if(s.isPerformer||!this.isProfileOrInner||"archived"!==this.$route.params.postType){e.next=26;break}return this.$router.replace({name:"Profile",params:{userId:s.username}}),e.abrupt("return");case 26:if(!s.isPerformer||s.isBlocked||this.isMyProfileHasScenario||!this.isAuthUser&&!s.subscribedBy||"lg"!==this.$mq){e.next=31;break}return e.next=29,this.fetchLastPosts({id:s.id});case 29:e.next=32;break;case 31:this.resetLastPosts();case 32:if(!this.isProfileOrInnerOrPost||s.username===this.$route.params.userId){e.next=36;break}return this.userLoaded=s,this.changeRoute(s),e.abrupt("return");case 36:if(!this.isMyProfileHasScenario){e.next=38;break}return e.abrupt("return");case 38:if(!this.isProfileOrInner||!s.isBlocked){e.next=41;break}return"ProfileInner"===this.$route.name&&this.$router.replace({name:"Profile",params:{userId:s.username}}),e.abrupt("return");case 41:if(!(!s.isPrivateRestriction||s.isPrivateRestriction&&this.isAuthUser||s.subscribedBy)){e.next=68;break}if(i=s,r=i.id,a=this.$route,o=a.name,c=a.params,u=c.postId,l=c.noLoadPostData,s.isPerformer&&s.canLookStory&&("ProfileInner"===o||"Profile"===o)&&this.fetchUserHighlights({userId:r}),s.isPerformer&&s.hasStories&&s.canLookStory&&("ProfileInner"===o||"Profile"===o)&&this.fetchUserStories(r),!["Post","MessagePage"].includes(o)||!u){e.next=51;break}if(l){e.next=51;break}return e.next=50,this.setPostData();case 50:return e.abrupt("return");case 51:if(this.isProfileOrInner&&s.isPerformer&&this.socialButtonsGetByUser(r),d=this.$route.params.postType,h=this.$route.query,p=h.q,m=h.order,f=h.filter,b=this.getLastProfileItemIds(s.username,d),b.length&&(w=this.getTempItemIds(s.username),_=w.pinnedPostsIds,y=w.userPostItemIds,Object(n["get"])(this,"route.from.params")&&["Post","MessagePage"].includes(this.route.from.name)?O=[Number(this.route.from.params.postId)]:(O=Object(n["intersection"])(_,b),O.length||(O=Object(n["intersection"])(y,b))),g=y.indexOf(O[0]),_.length?v=_.indexOf(O[0]):this.setPinnedIds(),-1===v&&g>=0&&(this.setPinnedIds(),this.setPrevUserPostsToLoad(!0)),this.isProfile&&(-1===v&&-1===g?this.fetchPostsPinned():(g>0||s.hasPinnedPosts&&!_.length)&&this.setPrevUserPostsToLoad(!0)),(g>=0||v>=0)&&(v>=0&&this.setPinnedIds(_),this.setItemIds(O),C=document.querySelector(".b-compact-header")?document.querySelector(".b-compact-header").getBoundingClientRect().height:0,this.$nextTick((function(){M.scrollToElement({behavior:"instant",el:document.querySelector("#postId_".concat(O[0])),offset:C})})))),g>-1&&(P=this.getPost(y[g])[0],P&&(P.isPinned?(x=!0,this.setPrevUserPostsToLoad(!1)):k=this.getTimeMarker(P))),this.isLabelPage&&(S=this.$route.params.labelId),j={id:r,type:d,query:p,order:m,filter:f,beforePublishTime:k,more:!!k,label:S},!s.isPerformer){e.next=64;break}return e.next=62,this.getProfileDataPosts(j,x);case 62:e.next=65;break;case 64:this.resetPosts();case 65:this.setLastProfileItemId({username:s.username,arr:[]}),e.next=69;break;case 68:s.isPrivateRestriction&&["Post","MessagePage"].includes(this.$route.name)&&this.$router.replace({name:"Profile",params:{userId:s.username,noLoadUser:!0}});case 69:case"end":return e.stop()}}),e,this,[[11,19]])})));function t(t){return e.apply(this,arguments)}return t}(),getProfileDataPosts:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,s){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=this.isProfile&&!this.$route.query.filter&&(!this.$route.query.order||"publish_date_asc"===this.$route.query.order),i&&(t.pinned=0),e.prev=2,!s){e.next=8;break}return e.next=6,Promise.all([this.fetchPostsPinned(),this.fetchUserPosts(t)]);case 6:e.next=10;break;case 8:return e.next=10,this.fetchUserPosts(t);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e["catch"](2);case 14:case"end":return e.stop()}}),e,this,[[2,12]])})));function t(t,s){return e.apply(this,arguments)}return t}(),getTimeMarker:function(e){var t=Object(n["get"])(e,"postedAt"),s=Object(n["get"])(e,"postedAtPrecise");return s?o.a.unix(s).format("X.SSSSSS"):o()(t).format("X.SSSSSS")},changeRoute:function(e){this.isProfileAlias?this.$router.replace({name:"Profile",params:{userId:e.username}}):this.$router.replace(m(m({},this.$route),{},{params:{userId:e.username}}))},setPostData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r,a,o,c,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$route.params.postId,"MessagePage"!==this.$route.name){e.next=7;break}return e.next=4,this.fetchMessageToPost({id:t});case 4:s=e.sent,e.next=10;break;case 7:return e.next=9,this.fetchPost({id:t,active:!0});case 9:s=e.sent;case 10:if(!Array.isArray(s)||s.length){e.next=14;break}this.setProfileDataLoadingError(!0),e.next=21;break;case 14:if(!s.author){e.next=21;break}if(i=s,r=i.author,a=r.id,o=r.username,c=this.$route.params.userId,o?u=o:a&&(l=this.getUser(a),u=Object(n["get"])(l,"username",!1)),u===c){e.next=21;break}return e.next=21,this.$router.replace(m(m({},this.$route),{},{params:{userId:u}}));case 21:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),resetProfileData:function(){this.resetPostsFiltersCounter(),this.resetUserStories(),this.resetUserHighlights(),this.setShopifyProducts(),this.resetSpotifyBio(),this.resetUserLinks(),this.resetLastPosts()}})}},2085:function(e,t,s){"use strict";e.exports=function(e){var t,s,i=0,r=e.tokens,n=e.tokens.length;for(t=s=0;t<n;t++)r[t].nesting<0&&i--,r[t].level=i,r[t].nesting>0&&i++,"text"===r[t].type&&t+1<n&&"text"===r[t+1].type?r[t+1].content=r[t].content+r[t+1].content:(t!==s&&(r[s]=r[t]),s++);t!==s&&(r.length=s)}},2154:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-chats"},[s("router-view")],1)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),a=s("d634");function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var u="queue",l={name:"PageChats",beforeRouteUpdate:function(e,t,s){(!t.query.scheduleMessageId&&(e.params.chatId!==t.params.chatId||"ChatsSend"===t.name)||t.params.chatId&&"Gallery"===e.name)&&this.$root.$emit("message::to::draft",this.getDraftMessageId(t)),e.query.scheduleMessageId||e.params.chatId===t.params.chatId&&"ChatsSend"!==e.name||this.$root.$emit("message::from::draft",this.getDraftMessageId(e)),s()},beforeRouteLeave:function(e,t,s){!t.query.scheduleMessageId&&this.getDraftMessageId(t)&&this.$root.$emit("message::to::draft",this.getDraftMessageId(t)),s()},computed:c(c({},Object(a["b"])(["authUser"])),Object(a["rb"])(["route"])),watch:{route:{handler:function(e){var t=e.to,s=e.from,i=t.params.chatId,r=t.query.firstId;if("Chat"===t.name&&"Chat"===s.name){if(+t.params.chatId!==+s.params.chatId)return void(r?this.fetchChatsMessages({userId:i,firstId:r}):this.fetchChatsMessages({userId:i}));void 0!==s.query.firstId&&void 0===r&&this.fetchChatsMessages({userId:i})}}},$route:{handler:function(e){document.documentElement.classList.toggle("p-list-chats","Chats"===e.name)},immediate:!0},$mq:{handler:function(e){this.setMobileVersion("lg"!==e)},immediate:!0}},created:function(){this.$route.query.scheduleMessageId||!this.$route.params.chatId&&"ChatsSend"!==this.$route.name||this.$root.$emit("message::from::draft",this.getDraftMessageId(this.$route))},mounted:function(){this.setFirstLoadingChatsList(!1),this.setChatsSort({isPerformer:this.authUser.isPerformer}),this.setChatsSortPriority()},methods:c(c(c({},Object(a["m"])(["setChatsSort","setFirstLoadingChatsList","setMobileVersion","setChatsSortPriority"])),Object(a["k"])(["fetchChatsMessages"])),{},{getDraftMessageId:function(e){return"ChatsSend"===e.name?u:e.params.chatId}})},d=l,h=s("2877"),p=Object(h["a"])(d,i,r,!1,null,null,null);t["default"]=p.exports},"25ac":function(e,t,s){"use strict";var i=s("9957");t["a"]={methods:{fileType:function(e){try{var t=new URL(e);if(t&&t.pathname&&t.pathname.length)return i["a"].getType(t.pathname.substring(1))}catch(s){}return i["a"].getType(e)}}}},"25e7":function(e,t,s){"use strict";s("3b2b"),s("a481");t["a"]={methods:{highlight:function(e,t,s){if("string"===typeof e&&"string"===typeof t){t="(?![^<]*>)".concat(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));var i=new RegExp(t,"gmi");return e.replace(i,(function(e){return'<span class="'.concat(s,'">').concat(e,"</span>")}))}return e}}}},2779:function(e,t,s){"use strict";s("8e6e"),s("ac6a"),s("456d");var i=s("bd86"),r=(s("99cd"),s("d634")),n=s("8975"),a=s("9029");function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={computed:c(c({},Object(r["b"])(["authUserId"])),{},{doCopyProfileLinkText:function(){return this.canShareProfile?this.$t("message.share_link_to_profile_btn"):this.$t("message.copy_link_to_profile_btn")},canShareProfile:function(){return navigator.share&&(a["isMobile"]||a["isTablet"])}}),methods:{doCopyProfileLink:function(){var e=this;if(this.user&&this.user.username){var t=this.$router.resolve({name:"Profile",params:{userId:this.user.username}}),s="".concat(this.$window.location.origin).concat(t.href);this.user.id!==this.authUserId&&(this.user.subscribedBy||this.user.subscribedIsExpiredNow)&&(s+="?rec=".concat(this.authUserId)),this.canShareProfile?navigator.share({title:Object(n["b"])(this.user.name),url:s}).catch((function(){})):this.$copyText(s,this.$el.closest(".modal-body")||document.body).then((function(){e.$bvToast.toast(e.$t("message.copy_link_to_profile_btn_copied"),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"})}))}}}}},"28ec":function(e,t,s){"use strict";var i=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,r=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;e.exports=function(e,t){var s,n,a,o,c,u,l=e.pos;if(60!==e.src.charCodeAt(l))return!1;for(c=e.pos,u=e.posMax;;){if(++l>=u)return!1;if(o=e.src.charCodeAt(l),60===o)return!1;if(62===o)break}return s=e.src.slice(c+1,l),r.test(s)?(n=e.md.normalizeLink(s),!!e.md.validateLink(n)&&(t||(a=e.push("link_open","a",1),a.attrs=[["href",n]],a.markup="autolink",a.info="auto",a=e.push("text","",0),a.content=e.md.normalizeLinkText(s),a=e.push("link_close","a",-1),a.markup="autolink",a.info="auto"),e.pos+=s.length+2,!0)):!!i.test(s)&&(n=e.md.normalizeLink("mailto:"+s),!!e.md.validateLink(n)&&(t||(a=e.push("link_open","a",1),a.attrs=[["href",n]],a.markup="autolink",a.info="auto",a=e.push("text","",0),a.content=e.md.normalizeLinkText(s),a=e.push("link_close","a",-1),a.markup="autolink",a.info="auto"),e.pos+=s.length+2,!0))}},"2ad1":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("router-link",{staticClass:"b-username",attrs:{to:{name:"Profile",params:{userId:e.userComputed.username}},"active-class":"","exact-active-class":"",custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.href,r=t.navigate;return[s(e.componentTag,e._b({tag:"component",on:{click:function(t){e.isLink&&r(t)}}},"component",e.isLink?Object.assign({},e.$attrs,{href:i}):e.$attrs,!1),[s(e.tag,{tag:"component",staticClass:"g-user-name",class:e.divClasses,on:{click:function(t){return e.$emit("click",t)}}},[e._t("default",[e._v(" "+e._s(e._f("encodeHtml")(e.userComputed.displayName||e.userComputed.name))+" ")]),e.userComputed.isVerified?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-verified",attrs:{"extra-class":"m-verified"}}):e._e()],2)],1)]}}],null,!0)})},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),a=(s("c5f6"),s("d634"));function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var u={name:"UsernameBlock",inheritAttrs:!1,props:{size:{type:String,default:""},isLink:{type:Boolean,default:!1},userId:{type:Number,default:0},user:{type:Object,default:function(){return{}}},tag:{type:String,default:"div"}},computed:c(c(c({},Object(a["tc"])(["getUser"])),Object(a["b"])(["authUser","isAuth"])),{},{userComputed:function(){return this.user&&Object.keys(this.user).length?this.user:this.getUser(this.userId)},divClasses:function(){return Object(n["a"])({"m-verified":this.userComputed.isVerified},"m-".concat(this.size,"-size"),!!this.size)},componentTag:function(){return this.isLink?"a":this.tag}})},l=u,d=s("2877"),h=Object(d["a"])(l,i,r,!1,null,null,null);t["a"]=h.exports},"2c87":function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));s("a481");function i(e){return"string"===typeof e||e instanceof String?e.replace(/<[^>]*>/g,""):e}},"32a6":function(e,t,s){var i=s("241e"),r=s("c3a1");s("ce7e")("keys",(function(){return function(e){return r(i(e))}}))},34080:function(e,t,s){"use strict";e.exports=function(e){var t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},"361e":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isChats&&e.locked?s("ChatPurchase",{attrs:{message:e.post,avatar:""}}):s("router-link",{staticClass:"b-photos__item",class:{"m-video-item":e.hasVideo||e.hasGif,"m-default-bg":e.isText||e.hasAudio},attrs:{to:e.link,"data-id":e.post.id,"at-attr":"photo_item",custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.href,r=t.navigate;return[s("a",{attrs:{href:i},on:{click:function(t){return e.clickMedia(t,r)}}},[e.avatar?s("avatar",{staticClass:"m-border-line m-absolute",attrs:{"user-id":e.post.author||e.post.fromUser,size:24,"is-link":!1}}):e._e(),e.showPurchase?s("post-purchase",{attrs:{post:e.post,"is-grid":""}}):[e.isText?s("div",{staticClass:"b-photos__item__text"},[e._v(" "+e._s(e.textEncoded)+" ")]):e._e(),e.hasVideo||e.hasGif||e.hasPhoto?s("img",{staticClass:"b-photos__item__img",attrs:{src:e.post.media[0].thumb,alt:""}}):e._e(),e.isShowPlayBtn?s("span",{staticClass:"b-photos__item__play-btn"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-play"})]):e._e(),e.paidStatus?s("span",{staticClass:"b-users__item__new-posts-count"},[e._v(" "+e._s(e.paidStatus)+" ")]):e._e(),e.isMessage?e._e():s("div",{staticClass:"b-purchase profile-inner"},[s("div",{staticClass:"purchase-block profile-inner"},[s("div",{staticClass:"content-icons"},[s("ul",{staticClass:"b-purchase__list"},[e.hasPhoto&&e.media.length>1?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-media"}),e._v(" "+e._s(e.photoCount>1?e.photoCount:"")+" ")]):e._e(),e.hasVideo?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-video"}),e._v(" "+e._s(e.videos.length>1?e.videos.length:"")+" "+e._s(1===e.videos.length&&e.hasVideoDuration?e.videoDuration:"")+" ")]):e._e(),e.hasGif?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-gif"}),e._v(" "+e._s(e.gifs.length>1?e.gifs.length:"")+" "+e._s(1===e.gifs.length&&e.hasGifDuration?e.gifDuration:"")+" ")]):e._e(),e.hasAudio?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-voice"}),e._v(" "+e._s(e.hasAudioDuration?e.audioDuration:"")+" ")]):e._e(),e.isText?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-text-frame-off"}),e._v(" "+e._s("")+" ")]):e._e(),e.hasPoll?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-poll"}),e._v(" "+e._s("")+" ")]):e._e(),e.hasQuiz?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-quiz"}),e._v(" "+e._s("")+" ")]):e._e(),e.hasFundraising?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-fundraising"}),e._v(" "+e._s("")+" ")]):e._e()])])])])]],2)]}}])})},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("6762"),s("2fdb"),s("bd86")),a=s("d634"),o=s("9fb6"),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("router-link",{staticClass:"b-photos__item chat-purchase",attrs:{to:{name:"Chat",params:{chatId:this.$route.params.chatId},query:{firstId:e.message.id}},"active-class":"","exact-active-class":"","at-attr":"photo_item"}},[s("div",{staticClass:"post-purchase chat-purchase-media",staticStyle:{"border-radius":"0"},on:{mouseover:e.mouseover,mouseleave:e.mouseleave}},[e.avatar?s("avatar",{staticClass:"m-border-line m-absolute",attrs:{"user-id":e.message.author||e.message.fromUser,size:24,"is-link":!1}}):e._e(),s("div",{staticClass:"post-purchase__no-media m-default-bg"},[e.firstMedia&&e.firstMedia.locked?s("img",{staticClass:"locked-item-gallery",attrs:{src:e.firstMedia.locked,width:e.firstMedia.info.preview.width,height:e.firstMedia.info.preview.height,alt:""}}):e._e(),s("div",{staticClass:"post-purchase__no-media__icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],class:e.iconLock})])])],1),s("div",{staticClass:"b-purchase profile-inner"},[s("div",{staticClass:"purchase-block profile-inner chat-purchase-inner"},[s("div",{staticClass:"content-icons"},[s("ul",{staticClass:"b-purchase__list"},[e.hasLockedText?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-text-frame-off"})]):e._e(),e.hasPhoto?s("li",{staticClass:"b-purchase__list-item isProfile",class:{"m-without-counter":e.hasVideo}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-media"}),e.hasVideo?e._e():[e._v(" "+e._s(e.photoCount)+" ")]],2):e._e(),e.hasVideo?s("li",{staticClass:"b-purchase__list-item isProfile",class:{"m-without-counter":e.hasPhoto}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-video"}),e.hasPhoto?e._e():[e._v(" "+e._s(e.videos.length>1?e.videos.length:e.hasVideoDuration?e.videoDuration:"")+" ")]],2):e._e(),e.hasGif?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-gif"}),e._v(" "+e._s(e.gifs.length>1?e.gifs.length:e.hasGifDuration?e.gifDuration:"")+" ")]):e._e()]),s("div",{staticClass:"b-post__price locked-icon chat-purchase-inner"},[e._v(" "+e._s(e.amountHumanShort(e.message.price))+" "),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-locked"})])])])])])},u=[],l=s("b48d"),d=s("3c15"),h=s("9df8"),p={name:"ChatPurchase",components:{Avatar:l["a"]},mixins:[d["a"],h["b"]],props:{message:{type:Object,required:!0},avatar:{type:Boolean,default:!1}},data:function(){return{showHoverButtonData:!1}},computed:{firstMedia:function(){return this.media.length?this.media[0]:{}},hasLockedText:function(){return this.message.text&&this.message.lockedText},iconLock:function(){return"icon-".concat(this.showHoverButtonData?"un":"","locked")}},methods:{mouseover:function(){this.showHoverButtonData=!0},mouseleave:function(){this.showHoverButtonData=!1}}},m=p,f=s("2877"),b=Object(f["a"])(m,c,u,!1,null,null,null),g=b.exports,v=s("2c87"),_=s("8975");function y(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function w(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?y(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):y(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var O={name:"UsersPostGrid",components:{PostPurchase:o["a"],ChatPurchase:g,Avatar:l["a"]},mixins:[d["a"],h["b"]],props:{isChats:{type:Boolean,default:!1},locked:{type:Boolean,required:!1},avatar:{type:Boolean,default:!1},needLightbox:{type:Boolean,default:!0}},computed:w(w(w({},Object(a["b"])(["authUserId"])),Object(a["tc"])(["getUser"])),{},{showPurchase:function(){return this.hasLockedMedia&&!this.isChats||(!this.isPostUser||this.isLinked)&&!this.isMessage&&this.post.price&&!this.opened},textEncoded:function(){return this.post.text?Object(v["a"])(Object(_["b"])(this.post.text)):""},isText:function(){return!!this.textEncoded.length},author:function(){return this.getUser(this.post.author)},link:function(){return this.post.id&&this.author.username?{name:"Post",params:{postId:this.post.id,userId:this.author.username}}:""},paidStatus:function(){if(this.isChats&&this.post&&!this.post.isFree){if(this.post.isOpened)return this.$t("message.paid_message_media",{MESSAGE_PRICE:this.amountHumanShort(this.post.price)});if(this.post.fromUser===this.authUserId)return this.$t("message.paid_message_not_viewed_label",{MESSAGE_PRICE:this.amountHumanShort(this.post.price)})}return!1},isShowPlayBtn:function(){return this.visibleMedia.length&&["gif","video","audio"].includes(this.visibleMedia[0].type)}}),methods:{clickMedia:function(e,t){if(this.isMessage&&!this.locked&&this.needLightbox)return e.preventDefault(),void this.$emit("mediaId",((this.post.media||[])[0]||{}).id);this.showPurchase||this.isText||this.post.price||!this.needLightbox?t(e):(e.preventDefault(),this.$emit("mediaId",((this.post.media||[])[0]||{}).id))}}},C=O,k=Object(f["a"])(C,i,r,!1,null,null,null);t["a"]=k.exports},"3ac5":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(e.containerTag,{tag:"component"},[e.text.length?s(e.textTagComputed,{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:e.onVisibilityChanged,expression:"onVisibilityChanged"}],ref:"text",tag:"component",class:e.classComputed,style:e.style,domProps:{innerHTML:e._s(e.text)}}):s(e.textTagComputed,{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:e.onVisibilityChanged,expression:"onVisibilityChanged"}],ref:"text",tag:"component",class:e.classComputed,style:e.style},[e._t("default")],2),e.trunc?s("span",{staticClass:"link-trunc",on:{click:e.toggleCollapse}},[e._v(" "+e._s(e.collapsed?e.btnLabelComputed.collapsed:e.btnLabelComputed.expanded)+" ")]):e._e()],1)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("bd86"));s("6762"),s("2fdb"),s("c5f6");function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var c={name:"TruncatedText",props:{text:{type:String,default:""},containerTag:{type:String,default:"div"},textTag:{type:String,default:"div"},collapseLimit:{type:Number,default:10},visibleLines:{type:Number,default:3},disabled:{type:Boolean,default:!1},markdown:{type:Boolean,default:!1},btnLabel:{type:Object,default:function(){}}},data:function(){return{collapsed:!0,check:!1,visibilityChanged:!1,trunc:!1,lineHeight:0}},computed:{style:function(){var e="";return this.check?(this.trunc&&this.collapsed&&(e+="-webkit-line-clamp:".concat(this.visibleLines,";"),this.lineHeight&&(e+="max-height:".concat(this.lineHeight*this.visibleLines,"px;"))),e):(e+="-webkit-line-clamp:".concat(this.collapseLimit,";"),this.lineHeight&&(e+="max-height:".concat(this.lineHeight*this.collapseLimit,"px;")),e)},classComputed:function(){var e="g-truncated-text";return this.markdown&&(e+=" m-markdown"),this.check?this.trunc&&this.collapsed&&(e+=" m-collapsed"):e+=" m-collapsed-check",e},textTagComputed:function(){return this.trunc&&!["div","p"].includes(this.textTag)?"div":this.textTag},btnLabelComputed:function(){return o({collapsed:this.$t("message.read_more"),expanded:this.$t("message.collapse")},this.btnLabel)}},watch:{text:{handler:function(){this.countLines()},immediate:!0}},methods:{toggleCollapse:function(){this.disabled||(this.collapsed=!this.collapsed,this.$emit("change",this.collapsed))},countLines:function(){var e=this;this.trunc=!1,this.check=!1,this.$nextTick((function(){var t=e.$refs.text;if(t){if(!e.lineHeight){var s=e.$window.getComputedStyle(t),i=s.lineHeight;e.lineHeight=parseFloat(i)}var r=t.scrollHeight,n=t.clientHeight;e.lineHeight?e.trunc=r>e.lineHeight*e.collapseLimit:e.trunc=r>n,e.trunc&&!e.collapsed&&(e.collapsed=!0),e.check=!0}}))},onVisibilityChanged:function(e){!e||this.visibilityChanged||this.trunc||(this.visibilityChanged=!0,this.countLines())}}},u=c,l=(s("fb31"),s("2877")),d=Object(l["a"])(u,i,r,!1,null,null,null);t["a"]=d.exports},"3bc9":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"post_media",class:{"m-video":e.visibleVideos.length||e.visibleGifs.length,"m-one-video":e.oneVideo||e.oneGif,"m-only-video":e.onlyVideo||e.onlyGifs||e.onlyVideoGifs},attrs:{"at-attr":"post_media"}},[e.isBlurFoto?s("div",{staticClass:"b-chat__message__pay-btn blur-photo-btn",on:{click:function(t){e.isBlurFoto=!1}}},[s("span",{staticClass:"g-btn m-dark-bg m-rounded m-no-uppercase m-default-font-weight"},[s("span",[e._v(e._s(e.$t("message.click_to_open")))])])]):e._e(),!e.isPlaying&&e.visibleMediaWithoutAudio.length>1?s("Switcher",{attrs:{post:e.post,message:e.message,"current-media-type-item-num":e.currentMediaTypeItemNum,"current-index":e.currentContentIndex,"is-linked":e.isLinked},on:{changeType:e.setMediaType}}):e._e(),e.visibleMediaWithoutAudio.length>1&&!e.isLinked?s("swiper",{key:e.visibleMediaWithoutAudio.length,ref:"postSwiper",staticClass:"b-slideshow",class:{"m-square":"squarePreview"===e.mediaPreviewType,"m-only-video":e.onlyVideo||e.onlyGifs||e.onlyVideoGifs},attrs:{options:e.mediaOptions},on:{clickSlide:e.gallerySlideClicked,slideChange:e.slideChange,sliderMove:e.sliderMove,touchEnd:e.touchEnd}},[e._l(e.visibleMediaWithoutAudio,(function(t){return s("swiper-slide",{key:t.id},[s("post-media-item",{class:{"m-no-pointer":e.sliderIsMoving},style:{filter:e.isBlurFoto?"blur(20px)":""},attrs:{"media-item":t,"preview-type":e.mediaPreviewType,post:e.post,message:e.message},on:{changeVideoState:e.changeVideoState,"~mediaError":function(t){return e.mediaError(t)}}})],1)})),s("div",{staticClass:"swiper-button-prev",class:{"g-hidden":e.isPlaying},attrs:{slot:"button-prev"},slot:"button-prev"},[s("span",{staticClass:"b-swiper-button-icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-left"})])]),s("div",{staticClass:"swiper-button-next",class:{"g-hidden":e.isPlaying},attrs:{slot:"button-next"},slot:"button-next"},[s("span",{staticClass:"b-swiper-button-icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-right"})])])],2):1!==e.visiblePhotos.length||e.isLinked?e.visibleMediaWithoutAudio.length?s("post-media-item",{style:{filter:e.isBlurFoto?"blur(20px)":""},attrs:{"media-item":e.visibleMediaWithoutAudio[0],"preview-type":e.mediaPreviewType,post:e.post,message:e.message,"is-linked":e.isLinked},on:{changeVideoState:e.changeVideoState,"~mediaError":function(t){return e.mediaError(t)}}}):e._e():s("div",{staticClass:"post_img_block",on:{click:function(t){return t.preventDefault(),e.showPhotoSwipeIndex(0)}}},[s("post-media-item",{style:{filter:e.isBlurFoto?"blur(20px)":""},attrs:{"media-item":e.visiblePhotos[0],"preview-type":e.mediaPreviewType,post:e.post,message:e.message},on:{"~mediaError":function(t){return e.mediaError(t)}}})],1)],1)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("28a5"),s("20d6"),s("96cf"),s("3b8d")),a=s("bd86"),o=s("2ef0"),c=s("9029"),u=s("d634"),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-post__media__item-inner",attrs:{"at-attr":"media_locator"}},[e.isShowIconLock?s("span",{staticClass:"icn-lock"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-price-free"})]):e._e(),e.mediaItem.hasError?s("PostHasError"):["photo"===e.mediaItem.type?s("image-o-f",{class:{"img-responsive":1===e.visibleMediaWithoutAudio.length},attrs:{src:e.mediaItem[e.previewType],draggable:"false",alt:""},on:{"~error":function(t){return e.mediaError(t)}}}):e._e(),"gif"===e.mediaItem.type?s("post-gif",{attrs:{media:e.mediaItem,"is-linked":e.isLinked}}):"video"===e.mediaItem.type?s("post-video",{attrs:{media:e.mediaItem,"stream-id":e.post.streamId||0,"post-id":e.getPostId,"is-linked":e.isLinked},on:{changeVideoState:e.changeVideoState,"~videoError":function(t){return e.mediaError(t)}}}):e._e()]],2)},d=[],h=(s("c5f6"),s("3c15")),p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("figure",{ref:"gifWrapper",staticClass:"post_img_big",class:{"m-fullscreen":e.isFullscreen},on:{fullscreenchange:e.onFullscreenChange,webkitfullscreenchange:e.onFullscreenChange,mozfullscreenchange:e.onFullscreenChange,MSFullscreenChange:e.onFullscreenChange}},[s("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:e.visibilityChanged,expression:"visibilityChanged"},{name:"touch",rawName:"v-touch",value:e.togglePlaying,expression:"togglePlaying"}],staticClass:"post_gif"},[s("img",{staticClass:"img-responsive post_gif_preview",attrs:{alt:"",src:e.media.preview}}),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isPlaying,expression:"!isPlaying"}],staticClass:"post_gif_play"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-play"})]),e.isPlaying&&!e.isVideo?s("img",{ref:"gifElement",staticClass:"post_gif_media",attrs:{src:e.mediaFull,alt:""}}):e._e(),e.isVideo?s("video",{ref:"videoElement",staticClass:"post_gif_media",attrs:{poster:e.media.preview,loop:"",muted:"",playsinline:""},domProps:{muted:!0}},[s("source",{attrs:{type:"video/mp4",src:e.mediaFull}})]):e._e(),s("div",{staticClass:"video-js m-btn-gif",class:{"vjs-fullscreen":e.isFullscreen}},[s("button",{staticClass:"vjs-fullscreen-control vjs-control vjs-button",attrs:{title:e.fullscreenTitle},on:{click:e.toggleFullscreen}},[s("span",{staticClass:"vjs-icon-placeholder"})])])])])},m=[],f={name:"PostGif",props:{media:{type:Object,required:!0}},data:function(){return{isFullscreen:!1,isPlaying:!1,playPromise:null}},computed:{isVideo:function(){return this.media.convertedToVideo||"mp4"===this.mediaFull.split("?").shift().split(".").pop().toLowerCase()},mediaFull:function(){return this.media.full?this.media.full||"":this.media.src||""},fullscreenTitle:function(){return this.isFullscreen?"Non-fullscreen":"Fullscreen"}},methods:{onFullscreenChange:function(){this.isFullscreen=!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)},toggleFullscreen:function(){this.isFullscreen?this.exitFullscreen():this.requestFullscreen()},requestFullscreen:function(){var e=this.$refs.gifWrapper,t=this.$refs.videoElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():t&&t.webkitEnterFullScreen&&t.webkitEnterFullScreen()},exitFullscreen:function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},togglePlayingCallback:function(e){var t=this;!e&&this.$refs.gifElement&&(this.$refs.gifElement.src=""),this.isPlaying=void 0!==e?e:!this.isPlaying,this.$nextTick((function(){if(t.isPlaying)if(t.isVideo){if(t.$refs.videoElement)try{t.playPromise=t.$refs.videoElement.play(),void 0!==t.playPromise&&t.playPromise.catch((function(){}))}catch(e){}}else t.$refs.gifElement.src=t.mediaFull;else t.isVideo&&t.playPromise&&t.playPromise.then((function(){if(t.$refs.videoElement)try{t.$refs.videoElement.pause()}catch(e){}t.playPromise=null})).catch((function(e){}))}))},togglePlaying:function(e){var t=this;e&&e.target.classList.contains("vjs-fullscreen-control")||(this.$parent.toggleLikeMessage?(e&&(e.stopPropagation(),e.preventDefault()),this.$parent.toggleLikeMessage(e,(function(){t.togglePlayingCallback()}))):this.togglePlayingCallback())},visibilityChanged:function(e){this.togglePlayingCallback(e)}}},b=f,g=s("2877"),v=Object(g["a"])(b,p,m,!1,null,null,null),_=v.exports,y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-profile__restricted m-default-bg",staticStyle:{"padding-bottom":"100%"}},[s("div",{staticClass:"b-profile__restricted__icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-locked"})]),s("p",[e._v(" "+e._s(e.$t("message.media_has_error_for_post"))+" ")])])},w=[],O={name:"PostHasError"},C=O,k=Object(g["a"])(C,y,w,!1,null,null,null),x=k.exports,P=s("0d96");function S(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function j(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?S(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):S(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var M=function(){return Promise.all([s.e("chunk-vendors"),s.e("chunk-60a4b00d"),s.e("chunk-4430c955")]).then(s.bind(null,"7b36"))},I={name:"PostMediaItem",components:{PostGif:_,PostVideo:M,PostHasError:x,ImageOF:P["a"]},mixins:[h["a"]],props:{post:{type:Object,required:!0},mediaItem:{type:Object,required:!0},previewType:{type:String,required:!0},isLinked:{type:Boolean,default:!1},message:{type:Object,default:function(){}},template:{type:Object,default:function(){}}},data:function(){return{isMediaError:!1}},computed:j(j({},Object(u["b"])(["authUserId"])),{},{isPostUser:function(){return this.post.author===this.authUserId},isShowIconLock:function(){return this.privatePost&&this.preview.indexOf(this.mediaItem.id)>=0&&(this.isPostUser&&!this.isLinked||this.isChats&&this.isMineMessage||this.isQueue)},isQueue:function(){return"SavedForLater"===this.$route.name||"MyQueue"===this.$route.name},isChats:function(){return"Chat"===this.$route.name||"SettingsMessaging"===this.$route.name},getPostId:function(){return this.post?Number(this.post.id):this.message?Number(this.message.id):Number(this.template.id)},isMineMessage:function(){return this.isChats&&this.post&&this.post.fromUser===this.authUserId}}),methods:{changeVideoState:function(e){this.$emit("changeVideoState",e)},mediaError:function(){this.isMediaError||(this.isMediaError=!0,this.$emit("mediaError"))}}},$=I,L=Object(g["a"])($,l,d,!1,null,null,null),T=L.exports,U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"switcher-media-content"},e._l(e.visibleMediaWithoutAudioByType,(function(t,i){return s("div",{key:i,staticClass:"switcher-media-content__btn",class:{"active-btn":e.currentIndex===i}},[s("div",{staticClass:"switcher-media-content__icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],class:{"icon-media":"photo"===t.type,"icon-video":!e.isStream&&"video"===t.type,"icon-live":e.isStream&&"video"===t.type,"icon-gif":"gif"===t.type}})]),t.media.length>1?[e.currentIndex===i?s("span",{staticClass:"switcher-media-content__val"},[s("span",[e._v(e._s(e.currentMediaTypeItemNum))]),e._v("/ ")]):e._e(),s("span",{staticClass:"switcher-media-content__val-total"},[e._v(e._s(t.media.length))])]:e.getDuration(i)?s("span",{staticClass:"switcher-media-content__val"},[e._v(" "+e._s(e.getDuration(i))+" ")]):e._e()],2)})),0)},D=[],E={name:"PostContentSwitcher",mixins:[h["a"]],props:{post:{type:Object,required:!0},currentMediaTypeItemNum:{type:Number,required:!0},currentIndex:{type:Number,required:!0},isLinked:{type:Boolean,default:!1}},methods:{changeType:function(e){this.isLinked||this.$emit("changeType",e)}}},A=E,F=Object(g["a"])(A,U,D,!1,null,null,null),B=F.exports,R=s("5888"),N=s("4ead");function q(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function V(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?q(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):q(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var z={name:"PostMedia",components:{PostMediaItem:T,Switcher:B},mixins:[h["a"],R["a"],N["a"]],props:{post:{type:Object,required:!0},isLinked:{type:Boolean,default:!1},message:{type:Object,default:function(){}},isPurchased:{type:Boolean,default:!1}},data:function(){return{isPlaying:!1,currentMediaTypeItemNum:1,currentContentIndex:0,player:null,mediaOptions:{threshold:c["isMobile"]||c["isTablet"]?0:10,autoHeight:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},noSwipingClass:"swiper-no-swiping"},isVideoSlide:!1,sliderIsMoving:!1,isMediaError:!1,isBlurFoto:!1}},computed:V(V(V({},Object(u["b"])(["authUser"])),Object(u["tc"])(["getUser"])),{},{onlyVideo:function(){return this.visibleVideos.length&&!this.visiblePhotos.length&&!this.visibleGifs.length},oneVideo:function(){return this.onlyVideo&&1===this.visibleVideos.length},onlyGifs:function(){return this.visibleGifs.length&&!this.visiblePhotos.length&&!this.visibleVideos.length},onlyVideoGifs:function(){return this.visibleGifs.length&&this.visibleVideos.length&&!this.visiblePhotos.length},oneGif:function(){return this.onlyGifs&&1===this.visibleGifs.length},isMineMessage:function(){return this.message&&this.message.fromUser===this.authUserId},visiblePhotoMedia:function(){return this.visibleMediaWithoutAudio.filter((function(e){return"photo"===e.type&&e.preview}))}}),watch:{visibleMediaWithoutAudio:{handler:function(e){e&&e.length&&(this.isVideoSlide="video"===e[0].type)},immediate:!0},isPurchased:function(e){e&&this.slideToPaidContent()}},mounted:function(){var e=this;this.$root.$on("post-fetched-".concat(this.post.id),this.slideToPaidContent),"Chat"===this.$route.name&&this.toggleIsBlurFoto();var t=(new Date).getTime(),i=new Date(this.post.postedAt).getTime(),r=(t-i)/1e3/60;if(!(r>5||!this.isPostUser||"Post"!==this.$route.name||this.post.linkedUsers.length>0||this.post.mentionedUsers.length>0)&&this.visiblePhotoMedia.length){var n=function(){return Promise.all([s.e("chunk-vendors"),s.e("faceApi")]).then(s.bind(null,"0f63"))};n().then((function(t){var s=t.faceCheck;e.checkFaceOnMedia(s,0)}))}},beforeDestroy:function(){this.$root.$off("post-fetched-".concat(this.post.id),this.slideToPaidContent),this.$root.$off("destroyPhotoSwipe",this.gallerySlideClicked)},methods:V(V({},Object(u["jb"])(["fetchPost"])),{},{checkFaceOnMedia:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var s,i,r,n,a=this,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=o.length>1&&void 0!==o[1]?o[1]:0,i=this.visiblePhotoMedia[s],i){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,t(i.preview);case 6:if(r=e.sent,!(r&&r>1)){e.next=10;break}return this.$emit("faceDetection",r),e.abrupt("return");case 10:n=s+1,this.visiblePhotoMedia[n]&&setTimeout((function(){a.checkFaceOnMedia(t,n)}),4);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),gallerySlideClicked:function(){this.$root.$off("destroyPhotoSwipe",this.gallerySlideClicked);var e=Object(o["get"])(this,"swiper.realIndex")||0,t=Object(o["get"])(this,"visibleMediaWithoutAudio[".concat(e,"].type"));"video"!==t&&"gif"!==t&&this.showPhotoSwipeIndex(e)},showPhotoSwipeIndex:function(e){this.isBlurFoto||this.showPhotoSwipe({index:e})},findIndex:function(e){return this.visibleMediaWithoutAudio.findIndex((function(t){return t.id===e[0].id}))},setMediaType:function(e){var t=this.visibleMediaWithoutAudioByType[e].media;this.currentContentIndex!==e&&(this.swiper&&this.swiper.slideTo(this.findIndex(t)),this.currentContentIndex=e)},changeVideoState:function(e){this.isPlaying=e},mediaSource:function(e){return e.source||e.full?(e.source?e.source.source:e.full)||"":e.src||""},isVideo:function(e){return e.convertedToVideo||"mp4"===this.mediaSource(e).split("?").shift().split(".").pop().toLowerCase()},slideChange:function(){var e=this;this.$root.$emit("changePostMediaType",this.post.id),this.$nextTick((function(){var t=Object(o["get"])(e,"$refs.postSwiper.$swiper");t&&(e.swiper=t);var s=Object(o["get"])(t,"realIndex"),i=Object(o["get"])(e,"visibleMediaWithoutAudio[".concat(s,"].type"));e.isVideoSlide="video"===i;var r=Object(o["get"])(e,"visibleMediaWithoutAudio[".concat(s,"].id")),n=e.visibleMediaWithoutAudioByType.findIndex((function(e){return e.media.some((function(e){return e.id===r}))})),a=Object(o["get"])(e,"visibleMediaWithoutAudioByType[".concat(n,"].media"));a&&a.length&&(e.currentMediaTypeItemNum=a.findIndex((function(e){return e.id===r}))+1,n!==e.currentContentIndex&&(e.currentContentIndex=n))}))},slideToPaidContent:function(){var e=this;this.$nextTick((function(){e.paidVisibleMediaWithoutAudio.length&&e.$nextTick((function(){var t=Object(o["get"])(e,"paidVisibleMediaWithoutAudio[0].id"),s=e.allMediaWithoutAudioByType.findIndex((function(e){return e.media.some((function(e){return e.id===t}))})),i=Object(o["get"])(e,"allMediaWithoutAudioByType[".concat(s,"].media")),r=e.allMediaWithoutAudio,n=r.findIndex((function(e){return e.id===t})),a=e.allMediaWithoutAudioByType.findIndex((function(e){return e.media.some((function(e){return e.id===t}))})),c=Object(o["get"])(e,"$refs.postSwiper.$swiper");c&&(e.swiper=c,c.slideTo(n,400));var u=Object(o["get"])(e,"allMediaWithoutAudio[".concat(n,"].type"));e.isVideoSlide="video"===u,e.currentMediaTypeItemNum=i.findIndex((function(e){return e.id===t}))+1,a!==e.currentContentIndex&&(e.currentContentIndex=a)}))}))},sliderMove:function(){this.sliderIsMoving=!0},touchEnd:function(){this.sliderIsMoving=!1},mediaError:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isMediaError){e.next=2;break}return e.abrupt("return");case 2:if(this.isMediaError=!0,"SettingsMessaging"!==this.$route.name&&"Chat"!==this.$route.name){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,this.fetchPost({id:this.post.id});case 7:this.isPhotoSwipeOpen&&(this.$root.$once("destroyPhotoSwipe",this.gallerySlideClicked),this.isPhotoSwipeOpen=!1);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),toggleIsBlurFoto:function(){var e=this.$route.params.chatId,t=this.getUser(e);this.message.canPurchase||this.message.isFree||!this.message.isOpened?this.isMineMessage||!1!==t.isRealPerformer&&t.isPerformer||(this.isBlurFoto=!0):this.isBlurFoto=!1}})},H=z,G=Object(g["a"])(H,i,r,!1,null,null,null);t["a"]=G.exports},"3c15":function(e,t,s){"use strict";s("8e6e"),s("ac6a"),s("456d"),s("20d6"),s("6762"),s("2fdb");var i=s("bd86"),r=s("5a0c"),n=s.n(r),a=s("d772"),o=s.n(a),c=s("2ef0"),u=s("d634"),l=s("fcd9");function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}n.a.extend(o.a),t["a"]={name:"PostMediaMixin",props:{post:{type:Object,default:function(){return{}}},isLinked:{type:Boolean,default:!1},message:{type:Object,default:function(){return{}}},template:{type:Object,default:function(){return{}}}},computed:h(h({},Object(u["b"])(["authUserId"])),{},{isMessage:function(){return!(!this.message||Object(c["isEmpty"])(this.message))},isTemplate:function(){return!(!this.template||Object(c["isEmpty"])(this.template))},privatePost:function(){return this.isMessage?!!this.message.price:this.isTemplate?!!this.template.price:!!this.post.price},isPostUser:function(){return this.isMessage?this.message.fromUser===this.authUserId:this.post.author===this.authUserId},opened:function(){return"SettingsMessaging"===this.$route.name||(this.isMessage?this.isPostUser||this.message.isOpened:!(this.isLinked&&this.isPostUser&&this.privatePost)&&!!this.post.isOpened)},media:function(){return this.isMessage?this.message.media||[]:this.templates&&!Object(c["isEmpty"])(this.templates)?this.templates.media||[]:this.post.media||[]},lockedText:function(){return this.isMessage?this.message.lockedText:this.post.lockedText},visibleMedia:function(){var e=this;return this.isMessage&&!this.message.canPurchase&&"unsubscribed"!==this.message.canPurchaseReason||"SettingsMessaging"===this.$route.name||this.opened?this.media:this.hasPreview?this.media.filter((function(t){return e.preview.includes(t.id)})):[]},onlyPaidVisibleMedia:function(){var e=this;return this.isMessage&&!this.message.canPurchase&&"unsubscribed"!==this.message.canPurchaseReason||"SettingsMessaging"===this.$route.name?this.media:this.hasPreview?this.media.filter((function(t){return!e.preview.includes(t.id)})):[]},allMediaWithoutAudio:function(){return this.media.filter((function(e){return"audio"!==e.type}))},allMediaWithoutAudioByType:function(){var e=[],t=Object(c["groupBy"])(this.allMediaWithoutAudio,"type");return Object(c["each"])(t,(function(t,s){e.push({type:s,media:t})})),e},visibleVideosInAll:function(){return this.allMediaWithoutAudio.filter((function(e){return"video"===e.type}))},visibleGifsInAll:function(){return this.allMediaWithoutAudio.filter((function(e){return"gif"===e.type}))},paidVisibleMediaWithoutAudio:function(){return this.onlyPaidVisibleMedia.filter((function(e){return"audio"!==e.type}))},visibleMediaWithoutAudio:function(){return this.visibleMedia.filter((function(e){return"audio"!==e.type}))},visibleMediaWithoutAudioByType:function(){var e=[],t=Object(c["groupBy"])(this.visibleMediaWithoutAudio,"type");return Object(c["each"])(t,(function(t,s){e.push({type:s,media:t})})),e},isStream:function(){return!!this.post.streamId},videos:function(){return this.media.filter((function(e){return"video"===e.type}))},video:function(){return this.videos.length?this.videos[0]:null},gifs:function(){return this.media.filter((function(e){return"gif"===e.type}))},gif:function(){return this.gifs.length?this.gifs[0]:null},photos:function(){return this.media.filter((function(e){return"photo"===e.type}))},videoIndex:function(){return this.visibleMedia.findIndex((function(e){return"video"===e.type||"gif"===e.type}))},visiblePhotos:function(){return this.visibleMediaWithoutAudio.filter((function(e){return"photo"===e.type}))},visibleVideos:function(){return this.visibleMediaWithoutAudio.filter((function(e){return"video"===e.type}))},visibleGifs:function(){return this.visibleMediaWithoutAudio.filter((function(e){return"gif"===e.type}))},photoCount:function(){return this.photos.length},audios:function(){return this.media.filter((function(e){return"audio"===e.type}))},audio:function(){return this.audios.length?this.audios[0]:null},preview:function(){return this.isMessage?Object(c["get"])(this.message,"previews",[]):this.post?Object(c["get"])(this.post,"preview",[]):[]},hasPreview:function(){var e=this;return this.preview.length&&this.media.filter((function(t){return e.preview.includes(t.id)})).length},hasMedia:function(){return this.media&&this.media.length},hasGif:function(){return!!this.gif},hasVideo:function(){return!!this.video},hasPhoto:function(){return!!this.photoCount},hasAudio:function(){return!!this.audio},hasAudioVisible:function(){return!!this.visibleMedia.filter((function(e){return"audio"===e.type})).length},hasPoll:function(){return!this.isMessage&&(0!==Object(c["get"])(this,"post.voting.options.length",0)&&1===Object(c["get"])(this,"post.votingType",0))},hasQuiz:function(){return!this.isMessage&&(0!==Object(c["get"])(this,"post.voting.options.length",0)&&2===Object(c["get"])(this,"post.votingType",0))},hasFundraising:function(){return!this.isMessage&&(this.post.fundRaising&&!Object(c["isEmpty"])(this.post.fundRaising))},hasLockedPoll:function(){return!this.isMessage&&(0===Object(c["get"])(this,"post.voting.length",0)&&this.post.hasVoting&&1===this.post.votingType)},hasLockedQuiz:function(){return!this.isMessage&&(0===Object(c["get"])(this,"post.voting.length",0)&&this.post.hasVoting&&2===this.post.votingType)},hasAny:function(){return this.hasPhoto||this.hasVideo||this.hasAudio||this.hasPoll||this.hasQuiz||this.hasGif||this.lockedText||this.hasLockedPoll||this.hasLockedQuiz},hasLockedText:function(){return this.lockedText},hasVideoDuration:function(){return this.video&&this.video.source&&this.video.source.duration},hasLockedVideoDuration:function(){return this.video&&this.video.source&&this.video.source.duration},hasGifDuration:function(){return this.gif&&this.gif.source&&this.gif.source.duration},hasAudioDuration:function(){return this.audio&&this.audio.source&&this.audio.source.duration},videoDuration:function(){if(this.hasVideoDuration){var e=this.video.source.duration;return n.a.duration(e,"seconds").format(l["a"].getDurationFormat(e))}return 0},gifDuration:function(){if(this.hasGifDuration){var e=this.gif.source.duration;return n.a.duration(e,"seconds").format(l["a"].getDurationFormat(e))}return 0},audioDuration:function(){if(this.hasAudioDuration){var e=this.audio.source.duration;return n.a.duration(e,"seconds").format(l["a"].getDurationFormat(e))}return 0},mediaPreviewType:function(){var e=this;return this.visiblePhotos.length<2?"preview":this.visiblePhotos.some((function(t,s){var i=t.info&&t.info.source||{},r=i.width,n=i.height,a=e.visiblePhotos[0].info&&e.visiblePhotos[0].info.source||{};return!r||!n||!a||!a.width||!a.height||s&&(r/n).toFixed(2)!==(a.width/a.height).toFixed(2)}))?"squarePreview":"preview"},hasLockedMedia:function(){return!!Object(c["filter"])(this.media,{canView:!1}).length}}),data:function(){return{videoLockedDuration:null,gifLockedDuration:null,audioLockedDuration:null}},methods:{getDuration:function(e){var t=this.visibleMediaWithoutAudioByType[e].media;if(t&&t[0]&&t[0].source&&t[0].source.duration){var s=t[0].source.duration;return n.a.duration(s,"seconds").format(l["a"].getDurationFormat(s))}return 0},postLockedMedia:function(e){var t=Object(c["filter"])(this.media,{type:e,canView:!1}),s=["video","gifs","audio"],i=t.length;if(i){this["".concat(e,"LockedCount")]=i;var r=-1!==Object(c["indexOf"])(s,e);if(1===+i&&r){var a=Object(c["get"])(t[0],this.message?"duration":"source.duration",!1);if(a){var o=this.message?t[0]:t[0].source,u=o.duration;this["".concat(e,"LockedDuration")]=n.a.duration(u,"seconds").format(l["a"].getDurationFormat(u))}}return!0}return!1}}}},"3ce9":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"waypoint",rawName:"v-waypoint",value:{active:!0,callback:e.onWaypoint,options:e.intersectionOptions},expression:"{ active: true, callback: onWaypoint, options: intersectionOptions }"}],staticClass:"audio-wrapper"},[s("audio",{ref:"audio",attrs:{controlslist:"nodownload"}},[s("source",{attrs:{type:"post"===e.responseType?e.fileType(e.audio.full):e.fileType(e.audio.src),src:"post"===e.responseType?e.audio.full:e.audio.src}})])])},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),a=s("ebdc"),o=s("25ac"),c=s("d634");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var d={name:"AudioPLayer",mixins:[o["a"]],props:{audio:{type:Object,required:!0},responseType:{type:String,required:!0}},data:function(){return{intersectionOptions:{threshold:[.5,.75]}}},computed:l({},Object(c["u"])(["currentPlayVideo"])),mounted:function(){this.init(),this.$root.$on("currentPlayAudio",this.currentPlayAudio),this.$root.$on("pausePlayerAudio",this.pausePlayerAudio)},beforeDestroy:function(){this.$root.$off("currentPlayAudio",this.currentPlayAudio),this.$root.$off("pausePlayerAudio",this.pausePlayerAudio)},methods:l(l({},Object(c["t"])(["setCurrentPlayAudio","resetCurrentPlayVideo"])),{},{init:function(){this.updatePlayers()},updatePlayers:function(){this.$refs.audio&&a["a"].init(this.$refs.audio)},onWaypoint:function(e){var t=e.going;t===this.$waypointMap.GOING_OUT&&this.$refs.audio&&this.pausePlayerAudio(this.$refs.audio)},currentPlayAudio:function(e){e.id===this.$refs.audio.id&&(this.setCurrentPlayAudio(e),this.currentPlayVideo&&(this.$root.$emit("pausePlayerVideo",this.currentPlayVideo),this.resetCurrentPlayVideo()))},pausePlayerAudio:function(e){a["a"].pauseAudio(e)}})},h=d,p=s("2877"),m=Object(p["a"])(h,i,r,!1,null,null,null);t["a"]=m.exports},"3ebf":function(e,t,s){},"3ef6":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.canSetCustomName?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.tooltip,expression:"tooltip"}],staticClass:"g-btn m-flat m-gray b-user-name__btn-edit m-sm-icon-size m-reset-width",attrs:{type:"button","at-attr":"name_edit"},on:{click:function(t){return e.openCustomNamePopup(e.userId)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-edit"})]):e._e()},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),a=(s("c5f6"),s("56d7")),o=s("d634"),c=s("0687");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var d={name:"UserCustomName",mixins:[c["a"]],props:{userId:{type:[String,Number],required:!0},tooltip:{type:[String,Object],default:a["default"].$t("message.edit")}},computed:l(l({},Object(o["tc"])(["getUser"])),{},{user:function(){return this.getUser(this.userId)}})},h=d,p=s("2877"),m=Object(p["a"])(h,i,r,!1,null,null,null);t["a"]=m.exports},4236:function(e,t,s){"use strict";var i=s("0068").isSpace;e.exports=function(e,t){var s,r,n=e.pos;if(10!==e.src.charCodeAt(n))return!1;s=e.pending.length-1,r=e.posMax,t||(s>=0&&32===e.pending.charCodeAt(s)?s>=1&&32===e.pending.charCodeAt(s-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),n++;while(n<r&&i(e.src.charCodeAt(n)))n++;return e.pos=n,!0}},"428d":function(e,t,s){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},"43e0":function(e,t,s){"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}},"44a8":function(e,t,s){"use strict";e.exports=function(e,t){var s,i,r,n,a,o,c=t+1,u=e.md.block.ruler.getRules("paragraph"),l=e.lineMax;for(o=e.parentType,e.parentType="paragraph";c<l&&!e.isEmpty(c);c++)if(!(e.sCount[c]-e.blkIndent>3)&&!(e.sCount[c]<0)){for(i=!1,r=0,n=u.length;r<n;r++)if(u[r](e,c,l,!0)){i=!0;break}if(i)break}return s=e.getLines(t,c,e.blkIndent,!1).trim(),e.line=c,a=e.push("paragraph_open","p",1),a.map=[t,e.line],a=e.push("inline","",0),a.content=s,a.map=[t,e.line],a.children=[],a=e.push("paragraph_close","p",-1),e.parentType=o,!0}},4883:function(e,t,s){"use strict";function i(){this.__rules__=[],this.__cache__=null}i.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},i.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(s){s.enabled&&(t&&s.alt.indexOf(t)<0||e.__cache__[t].push(s.fn))}))}))},i.prototype.at=function(e,t,s){var i=this.__find__(e),r=s||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__[i].fn=t,this.__rules__[i].alt=r.alt||[],this.__cache__=null},i.prototype.before=function(e,t,s,i){var r=this.__find__(e),n=i||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r,0,{name:t,enabled:!0,fn:s,alt:n.alt||[]}),this.__cache__=null},i.prototype.after=function(e,t,s,i){var r=this.__find__(e),n=i||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r+1,0,{name:t,enabled:!0,fn:s,alt:n.alt||[]}),this.__cache__=null},i.prototype.push=function(e,t,s){var i=s||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:i.alt||[]}),this.__cache__=null},i.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var s=[];return e.forEach((function(e){var i=this.__find__(e);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[i].enabled=!0,s.push(e)}),this),this.__cache__=null,s},i.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},i.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var s=[];return e.forEach((function(e){var i=this.__find__(e);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[i].enabled=!1,s.push(e)}),this),this.__cache__=null,s},i.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=i},"4a94":function(e,t,s){"use strict";e.exports=function(e,t){var s,i,r,n,a,o,c,u,l=e.pos,d=e.src.charCodeAt(l);if(96!==d)return!1;s=l,l++,i=e.posMax;while(l<i&&96===e.src.charCodeAt(l))l++;if(r=e.src.slice(s,l),c=r.length,e.backticksScanned&&(e.backticks[c]||0)<=s)return t||(e.pending+=r),e.pos+=c,!0;a=o=l;while(-1!==(a=e.src.indexOf("`",o))){o=a+1;while(o<i&&96===e.src.charCodeAt(o))o++;if(u=o-a,u===c)return t||(n=e.push("code_inline","code",0),n.markup=r,n.content=e.src.slice(l,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=o,!0;e.backticks[u]=a}return e.backticksScanned=!0,t||(e.pending+=r),e.pos+=c,!0}},"4b3e":function(e,t,s){"use strict";var i=s("0068").isSpace;function r(e,t){var s,r,n,a;return r=e.bMarks[t]+e.tShift[t],n=e.eMarks[t],s=e.src.charCodeAt(r++),42!==s&&45!==s&&43!==s||r<n&&(a=e.src.charCodeAt(r),!i(a))?-1:r}function n(e,t){var s,r=e.bMarks[t]+e.tShift[t],n=r,a=e.eMarks[t];if(n+1>=a)return-1;if(s=e.src.charCodeAt(n++),s<48||s>57)return-1;for(;;){if(n>=a)return-1;if(s=e.src.charCodeAt(n++),!(s>=48&&s<=57)){if(41===s||46===s)break;return-1}if(n-r>=10)return-1}return n<a&&(s=e.src.charCodeAt(n),!i(s))?-1:n}function a(e,t){var s,i,r=e.level+2;for(s=t+2,i=e.tokens.length-2;s<i;s++)e.tokens[s].level===r&&"paragraph_open"===e.tokens[s].type&&(e.tokens[s+2].hidden=!0,e.tokens[s].hidden=!0,s+=2)}e.exports=function(e,t,s,i){var o,c,u,l,d,h,p,m,f,b,g,v,_,y,w,O,C,k,x,P,S,j,M,I,$,L,T,U,D=!1,E=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[t]-e.listIndent>=4&&e.sCount[t]<e.blkIndent)return!1;if(i&&"paragraph"===e.parentType&&e.tShift[t]>=e.blkIndent&&(D=!0),(M=n(e,t))>=0){if(p=!0,$=e.bMarks[t]+e.tShift[t],_=Number(e.src.substr($,M-$-1)),D&&1!==_)return!1}else{if(!((M=r(e,t))>=0))return!1;p=!1}if(D&&e.skipSpaces(M)>=e.eMarks[t])return!1;if(v=e.src.charCodeAt(M-1),i)return!0;g=e.tokens.length,p?(U=e.push("ordered_list_open","ol",1),1!==_&&(U.attrs=[["start",_]])):U=e.push("bullet_list_open","ul",1),U.map=b=[t,0],U.markup=String.fromCharCode(v),w=t,I=!1,T=e.md.block.ruler.getRules("list"),k=e.parentType,e.parentType="list";while(w<s){j=M,y=e.eMarks[w],h=O=e.sCount[w]+M-(e.bMarks[t]+e.tShift[t]);while(j<y){if(o=e.src.charCodeAt(j),9===o)O+=4-(O+e.bsCount[w])%4;else{if(32!==o)break;O++}j++}if(c=j,d=c>=y?1:O-h,d>4&&(d=1),l=h+d,U=e.push("list_item_open","li",1),U.markup=String.fromCharCode(v),U.map=m=[t,0],S=e.tight,P=e.tShift[t],x=e.sCount[t],C=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=l,e.tight=!0,e.tShift[t]=c-e.bMarks[t],e.sCount[t]=O,c>=y&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,s):e.md.block.tokenize(e,t,s,!0),e.tight&&!I||(E=!1),I=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=C,e.tShift[t]=P,e.sCount[t]=x,e.tight=S,U=e.push("list_item_close","li",-1),U.markup=String.fromCharCode(v),w=t=e.line,m[1]=w,c=e.bMarks[t],w>=s)break;if(e.sCount[w]<e.blkIndent)break;if(e.sCount[t]-e.blkIndent>=4)break;for(L=!1,u=0,f=T.length;u<f;u++)if(T[u](e,w,s,!0)){L=!0;break}if(L)break;if(p){if(M=n(e,w),M<0)break}else if(M=r(e,w),M<0)break;if(v!==e.src.charCodeAt(M-1))break}return U=p?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1),U.markup=String.fromCharCode(v),b[1]=w,e.line=w,e.parentType=k,E&&a(e,g),!0}},"4c26":function(e,t,s){"use strict";var i=/\r\n?|\n/g,r=/\0/g;e.exports=function(e){var t;t=e.src.replace(i,"\n"),t=t.replace(r,"�"),e.src=t}},"4ca0":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-profile__restricted m-default-bg"},[s("div",{staticClass:"b-profile__restricted__icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],class:e.iconLock})]),e.isMessage?s("p",[e._v(" "+e._s(e.text||e.$t("message.message_is_unavailable"))+" ")]):[e.user.canAddSubscriber?[s("div",{staticClass:"b-subscribe-block"},[s("div",{staticClass:"content-icons"},[e.showPostsCounter?s("ul",{staticClass:"b-purchase__list"},[s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-post2"}),e._v(" "+e._s(e.user.postsCount)+" ")]),e.user.photosCount?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-media"}),e._v(" "+e._s(e.user.photosCount)+" ")]):e._e(),e.user.videosCount?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-video"}),e._v(" "+e._s(e.user.videosCount)+" ")]):e._e(),e.user.audiosCount?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-voice"}),e._v(" "+e._s(e.user.audiosCount)+" ")]):e._e()]):e.post&&e.hasAny?s("ul",{staticClass:"b-purchase__list"},[e.hasLockedText?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-text-frame-off"})]):e._e(),e.postLockedMedia("photo")?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-media"}),e._v(" "+e._s(e.photoLockedCount)+" ")]):e._e(),e.postLockedMedia("video")?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-video"}),e._v(" "+e._s(e.videoLockedCount>1?e.videoLockedCount:e.videoLockedDuration?e.videoLockedDuration:"")+" ")]):e._e(),e.postLockedMedia("gif")?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-gif"}),e._v(" "+e._s(e.gifLockedCount>1?e.gifLockedCount:e.gifLockedDuration?e.gifLockedDuration:"")+" ")]):e._e(),e.postLockedMedia("audio")?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-voice"}),e._v(" "+e._s(e.audioLockedDuration?e.audioLockedDuration:"")+" ")]):e._e(),e.hasPoll?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-poll"})]):e._e(),e.hasQuiz?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-quiz"})]):e._e()]):e._e(),e.showPostsCounter?s("div",{staticClass:"b-post__price locked-icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-locked"})]):e._e()]),s("div",{on:{mouseover:e.mouseover,mouseleave:e.mouseleave}},[s("subscribe-btn",{staticClass:"mt-1",attrs:{id:e.userId,short:"","is-restricted":""}})],1)])]:s("p",[e._v(" "+e._s(e.text&&e.user.canAddSubscriber?e.text:e.$t("message.inactive_private_restriction_wall_message"))+" ")])]],2)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),a=(s("c5f6"),s("d634")),o=s("a2fa"),c=s("3c15");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var d={name:"PostRestricted",components:{SubscribeBtn:o["a"]},mixins:[c["a"]],props:{userId:{type:Number,required:!0},text:{type:String,default:void 0},postsCounter:{type:Boolean,required:!1}},data:function(){return{showHoverButtonData:!1}},computed:l(l({},Object(a["tc"])(["getUser"])),{},{user:function(){return this.getUser(this.userId)},iconLock:function(){return"icon-".concat(this.showHoverButtonData?"un":"","locked")},showPostsCounter:function(){return this.postsCounter&&!!this.user.postsCount}}),methods:{mouseover:function(){this.showHoverButtonData=!0},mouseleave:function(){this.showHoverButtonData=!1}}},h=d,p=s("2877"),m=Object(p["a"])(h,i,r,!1,null,null,null);t["a"]=m.exports},"4cb4":function(e,t,s){"use strict";var i=s("4883"),r=[["text",s("baca")],["newline",s("4236")],["escape",s("6e00")],["backticks",s("4a94")],["strikethrough",s("922c").tokenize],["emphasis",s("c8a9").tokenize],["link",s("cd0f")],["image",s("932d")],["autolink",s("28ec")],["html_inline",s("c2d8")],["entity",s("5b54")]],n=[["balance_pairs",s("838d")],["strikethrough",s("922c").postProcess],["emphasis",s("c8a9").postProcess],["text_collapse",s("2085")]];function a(){var e;for(this.ruler=new i,e=0;e<r.length;e++)this.ruler.push(r[e][0],r[e][1]);for(this.ruler2=new i,e=0;e<n.length;e++)this.ruler2.push(n[e][0],n[e][1])}a.prototype.skipToken=function(e){var t,s,i=e.pos,r=this.ruler.getRules(""),n=r.length,a=e.md.options.maxNesting,o=e.cache;if("undefined"===typeof o[i]){if(e.level<a){for(s=0;s<n;s++)if(e.level++,t=r[s](e,!0),e.level--,t)break}else e.pos=e.posMax;t||e.pos++,o[i]=e.pos}else e.pos=o[i]},a.prototype.tokenize=function(e){var t,s,i=this.ruler.getRules(""),r=i.length,n=e.posMax,a=e.md.options.maxNesting;while(e.pos<n){if(e.level<a)for(s=0;s<r;s++)if(t=i[s](e,!1),t)break;if(t){if(e.pos>=n)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},a.prototype.parse=function(e,t,s,i){var r,n,a,o=new this.State(e,t,s,i);for(this.tokenize(o),n=this.ruler2.getRules(""),a=n.length,r=0;r<a;r++)n[r](o)},a.prototype.State=s("097b"),e.exports=a},"4eb5":function(e,t,s){var i=s("6981"),r={autoSetContainer:!1,appendToBody:!0},n={install:function(e){e.prototype.$clipboardConfig=r,e.prototype.$copyText=function(e,t){return new Promise((function(s,n){var a=document.createElement("button"),o=new i(a,{text:function(){return e},action:function(){return"copy"},container:"object"===typeof t?t:document.body});o.on("success",(function(e){o.destroy(),s(e)})),o.on("error",(function(e){o.destroy(),n(e)})),r.appendToBody&&document.body.appendChild(a),a.click(),r.appendToBody&&document.body.removeChild(a)}))},e.directive("clipboard",{bind:function(e,t,s){if("success"===t.arg)e._vClipboard_success=t.value;else if("error"===t.arg)e._vClipboard_error=t.value;else{var n=new i(e,{text:function(){return t.value},action:function(){return"cut"===t.arg?"cut":"copy"},container:r.autoSetContainer?e:void 0});n.on("success",(function(t){var s=e._vClipboard_success;s&&s(t)})),n.on("error",(function(t){var s=e._vClipboard_error;s&&s(t)})),e._vClipboard=n}},update:function(e,t){"success"===t.arg?e._vClipboard_success=t.value:"error"===t.arg?e._vClipboard_error=t.value:(e._vClipboard.text=function(){return t.value},e._vClipboard.action=function(){return"cut"===t.arg?"cut":"copy"})},unbind:function(e,t){"success"===t.arg?delete e._vClipboard_success:"error"===t.arg?delete e._vClipboard_error:(e._vClipboard.destroy(),delete e._vClipboard)}})},config:r};e.exports=n},"4fc2":function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},"565b":function(e,t,s){"use strict";t.parseLinkLabel=s("df56"),t.parseLinkDestination=s("e4ca"),t.parseLinkTitle=s("7d91")},5706:function(e,t,s){"use strict";var i="[a-zA-Z_:][a-zA-Z0-9:._-]*",r="[^\"'=<>`\\x00-\\x20]+",n="'[^']*'",a='"[^"]*"',o="(?:"+r+"|"+n+"|"+a+")",c="(?:\\s+"+i+"(?:\\s*=\\s*"+o+")?)",u="<[A-Za-z][A-Za-z0-9\\-]*"+c+"*\\s*\\/?>",l="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",d="\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e",h="<[?][\\s\\S]*?[?]>",p="<![A-Z]+\\s+[^>]*>",m="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",f=new RegExp("^(?:"+u+"|"+l+"|"+d+"|"+h+"|"+p+"|"+m+")"),b=new RegExp("^(?:"+u+"|"+l+")");e.exports.HTML_TAG_RE=f,e.exports.HTML_OPEN_CLOSE_TAG_RE=b},5888:function(e,t,s){"use strict";s("8e6e"),s("456d"),s("28a5"),s("7514"),s("f559");var i=s("768b"),r=s("75fc"),n=(s("6762"),s("2fdb"),s("ac6a"),s("bd86")),a=s("2ef0"),o=s("9d30"),c=s("d634");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={mixins:[o["a"]],data:function(){return{photoSwipeOptions:{index:0}}},computed:l(l({},Object(c["l"])(["getMessages"])),{},{isPhotoSwipeOpen:{get:function(){return this.photoSwipeIsOpen},set:function(e){e?(this.$root.$on("closePhotoSwipe",this.hidePhotoSwipe),this.mediaError&&this.$root.$once("imgLoadErrorPhotoSwipe",this.mediaError)):(this.$root.$off("closePhotoSwipe",this.hidePhotoSwipe),this.mediaError&&this.$root.$off("imgLoadErrorPhotoSwipe",this.mediaError)),this.photoSwipeSetItems(e?this.photoSwipeItems:[]),this.photoSwipeSetOptions(e?this.photoSwipeOptions:{}),this.photoSwipeSetOpen(e)}},photoSwipeItems:function(){var e=this;switch(this.$options.name){case"MessagesItem":return this.message.media.filter((function(e){return"photo"===e.type})).map((function(e){var t=e.src,s=void 0===t?"":t;return{thumbnail:e.preview||"",src:s,w:Object(a["get"])(e,"info.source.width")||0,h:Object(a["get"])(e,"info.source.height")||0}}));case"Gallery":var t=[];return this.getMessages(this.media).forEach((function(e){e.isMediaReady&&e.media.forEach((function(s){s&&s.src&&s.canView&&("photo"===s.type&&t.push({h:s.info.source.height,w:s.info.source.width,src:s.src,thumbnail:s.thumb,thumb:s.thumb,id:s.id}),["video","gif"].includes(s.type)&&t.push({id:s.id,media:l(l({},s),{},{source:l(l({},s.source),{},{thumb:e.thumb})})}))}))})),t;case"MediaVault":case"ModalMediaVault":return this.getPosts.map((function(e){return"video"===e.type||"gif"===e.type?{media:e,postId:e.postId}:{media:{id:e.id},src:e.source?e.source.source:e.full,thumbnail:e.preview,w:Object(a["get"])(e,"source.width",0),h:Object(a["get"])(e,"source.height",0),postId:e.postId}}));case"UsersPosts":return[].concat(Object(r["a"])(this.postsPinned||[]),Object(r["a"])(this.showingPosts)).filter((function(e){return!!e.post})).reduce((function(t,s){if(Object(a["get"])(s,"post.media.length")){var r=Object(i["a"])(s.post.media,1),n=r[0],o=n.source?n.source.source:n.full;("video"===n.type||"gif"===n.type&&e.isVideo(n)||"audio"===n.type)&&o?t.push({media:n,postId:s.post.id}):t.push({media:{id:n.id},src:o,thumbnail:n.preview,w:Object(a["get"])(n,"source.width",0),h:Object(a["get"])(n,"source.height",0),postId:s.post.id})}return t}),[]);case"MakeFeedPost":return this.uploadedFilesWithoutAudio.reduce((function(t,s){if(100!==s.progress||"DELETE"!==s.deleteType)return t;if(!["photo","gif","video"].includes(s.mediaType))return t;if("video"===s.mediaType||"gif"===s.mediaType){var i=s.id||s.processId,n=!!e.videoSourcesForPhotoSwipe&&e.videoSourcesForPhotoSwipe[i];return[].concat(Object(r["a"])(t),Object(r["a"])(n?[{media:n}]:[s]))}var a=s.url||"",o=s.url||"";if(s.url&&s.url.startsWith("blob:http")&&s.sourceUrl&&(a=s.sourceUrl,o=s.sourceUrl),"video"===s.mediaType&&!s.processId&&s.thumbs&&s.thumbs.length){var c=s.thumbs.find((function(e){return e.id===s.thumbId}));a=c?c.url:a,o=c?c.url:o}return[].concat(Object(r["a"])(t),[l(l({src:o,thumbnail:a,w:s.width||0,h:s.height||0},s.orientation&&{orientation:s.orientation}),s.rotation&&{rotation:s.rotation})])}),[]);case"PostMedia":return this.visibleMediaWithoutAudio.map((function(t){if("video"===t.type||"gif"===t.type&&e.isVideo(t))return{media:t};var s=t.source||t.info||{},i=s.source;return"string"!==typeof i&&(i=t.src),{thumbnail:t.preview,src:i,w:s.width||0,h:s.height||0,postId:e.post.id}}));case"PostLabelPage":case"CustomListPosts":case"PostsBookmarks":case"ProfileLastPosts":return this.showingPosts.filter((function(e){return!!e.post})).reduce((function(t,s){if(Object(a["get"])(s,"post.media.length")){var r=Object(i["a"])(s.post.media,1),n=r[0],o=n.source?n.source.source:n.full;("video"===n.type||"gif"===n.type&&e.isVideo(n)||"audio"===n.type)&&o?t.push({media:n,postId:s.post.id}):t.push({media:{id:n.id},src:o,thumbnail:n.preview,w:Object(a["get"])(n,"source.width",0),h:Object(a["get"])(n,"source.height",0),postId:s.post.id})}return t}),[]);case"MassMessagesStat":return this.mediaFiles.reduce((function(t,s){var i=s.source?s.source.source:s.full;return("video"===s.type||"gif"===s.type&&e.isVideo(s)||"audio"===s.type)&&i?t.push({media:s}):t.push({media:{id:s.id},src:i,thumbnail:s.preview,w:Object(a["get"])(s,"source.width",0),h:Object(a["get"])(s,"source.height",0)}),t}),[]);default:return[]}}}),beforeDestroy:function(){this.$root.$off("closePhotoSwipe",this.hidePhotoSwipe),this.mediaError&&this.$root.$off("imgLoadErrorPhotoSwipe",this.mediaError)},methods:{showPhotoSwipe:function(e){var t=this;this.photoSwipeOptions=l(l({},this.photoSwipeOptions),e),this.$nextTick((function(){t.isPhotoSwipeOpen=!0}))},hidePhotoSwipe:function(){this.isPhotoSwipeOpen=!1},isVideo:function(e){return e.convertedToVideo||"mp4"===this.mediaSource(e).split("?").shift().split(".").pop().toLowerCase()},mediaSource:function(e){return e.source||e.full?(e.source?e.source.source:e.full)||"":e.src||""}}}},"5b54":function(e,t,s){"use strict";var i=s("bd68"),r=s("0068").has,n=s("0068").isValidEntityCode,a=s("0068").fromCodePoint,o=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,c=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var s,u,l,d=e.pos,h=e.posMax;if(38!==e.src.charCodeAt(d))return!1;if(d+1<h)if(s=e.src.charCodeAt(d+1),35===s){if(l=e.src.slice(d).match(o),l)return t||(u="x"===l[1][0].toLowerCase()?parseInt(l[1].slice(1),16):parseInt(l[1],10),e.pending+=n(u)?a(u):a(65533)),e.pos+=l[0].length,!0}else if(l=e.src.slice(d).match(c),l&&r(i,l[1]))return t||(e.pending+=i[l[1]]),e.pos+=l[0].length,!0;return t||(e.pending+="&"),e.pos++,!0}},"5fbd":function(e,t,s){"use strict";var i=s("e1f3"),r=s("5706").HTML_OPEN_CLOSE_TAG_RE,n=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+i.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(r.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,s,i){var r,a,o,c,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(u))return!1;for(c=e.src.slice(u,l),r=0;r<n.length;r++)if(n[r][0].test(c))break;if(r===n.length)return!1;if(i)return n[r][2];if(a=t+1,!n[r][1].test(c))for(;a<s;a++){if(e.sCount[a]<e.blkIndent)break;if(u=e.bMarks[a]+e.tShift[a],l=e.eMarks[a],c=e.src.slice(u,l),n[r][1].test(c)){0!==c.length&&a++;break}}return e.line=a,o=e.push("html_block","",0),o.map=[t,a],o.content=e.getLines(t,a,e.blkIndent,!0),!0}},"64eb":function(e,t,s){"use strict";s("8e6e"),s("ac6a"),s("456d"),s("96cf");var i=s("3b8d"),r=s("bd86"),n=s("d634");function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){Object(r["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={data:function(){return{queueId:null,userModalType:""}},computed:o(o(o(o(o({},Object(n["n"])(["queueBuyersIds","isQueueBuyersLoading"])),Object(n["kb"])(["postVoters"])),Object(n["tc"])(["getUser"])),Object(n["mb"])(["isPostVotersLoading","isPostFavoritesLoading","isPostTipsLoading","isPostBuyersLoading"])),{},{isPostVoters:function(){return"PostVoters"===this.userModalType},isPostTips:function(){return"PostTips"===this.userModalType},isPostBuyers:function(){return"PostBuyers"===this.userModalType},isPostLikes:function(){return"PostLikes"===this.userModalType},isQueueBuyers:function(){return"QueueBuyers"===this.userModalType},userModalTitle:function(){return this.isPostVoters?2===this.post.votingType?this.$t("message.quiz_participants"):this.$t("message.poll_participants"):this.isPostTips?this.$t("message.post_tips_page_title"):this.isPostBuyers?this.$t("message.post_buyers_page_title"):this.isPostLikes?this.$t("message.post_likes_page_title"):this.isQueueBuyers?this.$t("message.queue_buyers_page_title"):""},postVotersList:function(){return this.postVoters(this.isShowAllVoters?"":this.currentOptionId,this.post.id)||[]},userModalUserList:function(){var e=this;return this.isPostVoters?this.postVotersList.map((function(t){return e.getPostVoter(t).user})):this.isPostTips?this.post.tipsList:this.isPostBuyers?this.post.buyersList:this.isPostLikes?this.post.favoritesList:this.isQueueBuyers?this.queueBuyersIds:[]},userModalQuery:function(){return this.isPostTips?{post_donators:this.post.id}:this.isPostBuyers?{post_buyers:this.post.id}:this.isPostVoters?{post_voters:this.currentOptionId||this.optionsIds}:this.isQueueBuyers?{queue:this.queueId}:this.isPostLikes?{post_likes:this.post.id}:{}},userModalParams:function(){return this.isPostVoters?{optionId:this.currentOptionId||"",postId:this.post.id,name:"PostVoters"}:this.isPostTips?{postId:this.post.id,name:"PostTips"}:this.isPostBuyers?{postId:this.post.id,name:"PostBuyers"}:this.isPostLikes?{postId:this.post.id,name:"PostLikes"}:this.isQueueBuyers?{name:"QueueBuyers",queueId:this.queueId}:{}},userModalLoading:function(){return this.isPostVoters?this.isPostVotersLoading:this.isPostTips?this.isPostTipsLoading:this.isPostBuyers?this.isPostBuyersLoading:this.isPostLikes?this.isPostFavoritesLoading:!!this.isQueueBuyers&&this.isQueueBuyersLoading}}),methods:o(o(o(o(o({},Object(n["jb"])(["fetchVotersList","fetchFavoritesList","fetchTipsList","fetchBuyersList"])),Object(n["k"])(["fetchQueueBuyersList"])),Object(n["m"])(["setQueueBuyersIds"])),Object(n["lb"])(["resetVotersList"])),{},{fetchUserList:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var s,i,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=t.offset,i=t.more,r=t.limit,n={offset:s,more:i,limit:r},this.post&&(n.postId=this.post.id),!this.isPostVoters){e.next=6;break}return e.next=6,this.fetchVotersList(o(o({},n),{},{optionId:this.currentOptionId||""}));case 6:if(!this.isPostTips){e.next=9;break}return e.next=9,this.fetchTipsList(n);case 9:if(!this.isPostBuyers){e.next=12;break}return e.next=12,this.fetchBuyersList(n);case 12:if(!this.isPostLikes){e.next=15;break}return e.next=15,this.fetchFavoritesList(n);case 15:if(!this.isQueueBuyers){e.next=18;break}return e.next=18,this.fetchQueueBuyersList(o(o({},n),{},{queueId:this.queueId}));case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),openUserListModal:function(e){var t=e.type,s=e.optionId,i=e.isShowAllVoters,r=void 0!==i&&i,n=e.queueId;if(this.userModalType=t,this.isQueueBuyers||this.isPostUser){if(this.isPostVoters){if(this.isShowAllVoters=r,this.currentOptionId=s,this.isShowAllVoters&&0===this.votingTotal)return;if(!this.isShowAllVoters&&0===this.currentOptionVoting.count)return}this.isQueueBuyers&&(this.queueId=n),this.$root.$emit("bv::show::modal",this.usersListModalName)}},resetUserModalData:function(){this.isShowAllVoters=!1,this.currentOptionId=null,this.userModalType="",this.setQueueBuyersIds(),this.resetVotersList()}})}},6981:function(e,t,s){
/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT © Zeno Rocha
 */
!function(t,s){e.exports=s()}(0,(function(){return s={},e.m=t=[function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var s=e.hasAttribute("readonly");s||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),s||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var i=window.getSelection(),r=document.createRange();r.selectNodeContents(e),i.removeAllRanges(),i.addRange(r),t=i.toString()}return t}},function(e,t){function s(){}s.prototype={on:function(e,t,s){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:s}),this},once:function(e,t,s){var i=this;function r(){i.off(e,r),t.apply(s,arguments)}return r._=t,this.on(e,r,s)},emit:function(e){for(var t=[].slice.call(arguments,1),s=((this.e||(this.e={}))[e]||[]).slice(),i=0,r=s.length;i<r;i++)s[i].fn.apply(s[i].ctx,t);return this},off:function(e,t){var s=this.e||(this.e={}),i=s[e],r=[];if(i&&t)for(var n=0,a=i.length;n<a;n++)i[n].fn!==t&&i[n].fn._!==t&&r.push(i[n]);return r.length?s[e]=r:delete s[e],this}},e.exports=s,e.exports.TinyEmitter=s},function(e,t,s){var i=s(3),r=s(4);e.exports=function(e,t,s){if(!e&&!t&&!s)throw new Error("Missing required arguments");if(!i.string(t))throw new TypeError("Second argument must be a String");if(!i.fn(s))throw new TypeError("Third argument must be a Function");if(i.node(e))return h=t,p=s,(d=e).addEventListener(h,p),{destroy:function(){d.removeEventListener(h,p)}};if(i.nodeList(e))return c=e,u=t,l=s,Array.prototype.forEach.call(c,(function(e){e.addEventListener(u,l)})),{destroy:function(){Array.prototype.forEach.call(c,(function(e){e.removeEventListener(u,l)}))}};if(i.string(e))return n=e,a=t,o=s,r(document.body,n,a,o);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var n,a,o,c,u,l,d,h,p}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var s=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===s||"[object HTMLCollection]"===s)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,s){var i=s(5);function r(e,t,s,r,n){var a=function(e,t,s,r){return function(s){s.delegateTarget=i(s.target,t),s.delegateTarget&&r.call(e,s)}}.apply(this,arguments);return e.addEventListener(s,a,n),{destroy:function(){e.removeEventListener(s,a,n)}}}e.exports=function(e,t,s,i,n){return"function"==typeof e.addEventListener?r.apply(null,arguments):"function"==typeof s?r.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return r(e,t,s,i,n)})))}},function(e,t){if("undefined"!=typeof Element&&!Element.prototype.matches){var s=Element.prototype;s.matches=s.matchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector||s.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,s){"use strict";s.r(t);var i=s(0),r=s.n(i),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.resolveOptions(e),this.initSelection()}var c=(function(e,t,s){t&&a(e.prototype,t),s&&a(e,s)}(o,[{key:"resolveOptions",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var s=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=s+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=r()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=r()(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(e){var t=0<arguments.length&&void 0!==e?e:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":n(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),o),u=s(1),l=s.n(u),d=s(2),h=s.n(d),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=function(e,t,s){return t&&f(e.prototype,t),s&&f(e,s),e};function f(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var b=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(g,l.a),m(g,[{key:"resolveOptions",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===p(t.container)?t.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=h()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return v("action",e)}},{key:"defaultTarget",value:function(e){var t=v("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return v("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(e){var t=0<arguments.length&&void 0!==e?e:["copy","cut"],s="string"==typeof t?[t]:t,i=!!document.queryCommandSupported;return s.forEach((function(e){i=i&&!!document.queryCommandSupported(e)})),i}}]),g);function g(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));return s.resolveOptions(t),s.listenClick(e),s}function v(e,t){var s="data-clipboard-"+e;if(t.hasAttribute(s))return t.getAttribute(s)}t.default=b}],e.c=s,e.d=function(t,s,i){e.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:i})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,s){if(1&s&&(t=e(t)),8&s)return t;if(4&s&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var r in t)e.d(i,r,function(e){return t[e]}.bind(null,r));return i},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=6).default;function e(i){if(s[i])return s[i].exports;var r=s[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var t,s}))},"69c8":function(e,t,s){"use strict";s("8e6e"),s("ac6a"),s("456d"),s("96cf");var i=s("3b8d"),r=s("bd86"),n=s("d634"),a=s("d981");function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){Object(r["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={mixins:[a["a"]],data:function(){return{disableConfirmBtns:!1}},computed:c(c({},Object(n["b"])(["authUserId"])),Object(n["C"])(["getInit"])),methods:{confirmPrice:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:{},s=t.place,!this.disableConfirmBtns){e.next=3;break}return e.abrupt("return");case 3:return"email"===s&&window.showPreloader(),this.disableConfirmBtns=!0,i=this.user.id,e.next=8,this.autoprolongToggle({id:i,force:"on",place:s});case 8:r=e.sent,this.disableConfirmBtns=!1,"email"===s&&window.hidePreloader(),r&&r.id&&"feed_hint"===s&&this.removeSubscribe(i);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}}},"6e00":function(e,t,s){"use strict";for(var i=s("0068").isSpace,r=[],n=0;n<256;n++)r.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){r[e.charCodeAt(0)]=1})),e.exports=function(e,t){var s,n=e.pos,a=e.posMax;if(92!==e.src.charCodeAt(n))return!1;if(n++,n<a){if(s=e.src.charCodeAt(n),s<256&&0!==r[s])return t||(e.pending+=e.src[n]),e.pos+=2,!0;if(10===s){t||e.push("hardbreak","br",0),n++;while(n<a){if(s=e.src.charCodeAt(n),!i(s))break;n++}return e.pos=n,!0}}return t||(e.pending+="\\"),e.pos++,!0}},"6fd1":function(e,t){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},7133:function(e,t,s){"use strict";var i=s("096b");function r(e,t,s){this.src=e,this.env=s,this.tokens=[],this.inlineMode=!1,this.md=t}r.prototype.Token=i,e.exports=r},7696:function(e,t,s){"use strict";var i=s("4883"),r=[["table",s("80d3"),["paragraph","reference"]],["code",s("9c12e")],["fence",s("bf2b"),["paragraph","reference","blockquote","list"]],["blockquote",s("e80e"),["paragraph","reference","blockquote","list"]],["hr",s("fdfe"),["paragraph","reference","blockquote","list"]],["list",s("4b3e"),["paragraph","reference","blockquote"]],["reference",s("d670")],["heading",s("0758"),["paragraph","reference","blockquote"]],["lheading",s("199e")],["html_block",s("5fbd"),["paragraph","reference","blockquote"]],["paragraph",s("44a8")]];function n(){this.ruler=new i;for(var e=0;e<r.length;e++)this.ruler.push(r[e][0],r[e][1],{alt:(r[e][2]||[]).slice()})}n.prototype.tokenize=function(e,t,s){var i,r,n=this.ruler.getRules(""),a=n.length,o=t,c=!1,u=e.md.options.maxNesting;while(o<s){if(e.line=o=e.skipEmptyLines(o),o>=s)break;if(e.sCount[o]<e.blkIndent)break;if(e.level>=u){e.line=s;break}for(r=0;r<a;r++)if(i=n[r](e,o,s,!1),i)break;e.tight=!c,e.isEmpty(e.line-1)&&(c=!0),o=e.line,o<s&&e.isEmpty(o)&&(c=!0,o++,e.line=o)}},n.prototype.parse=function(e,t,s,i){var r;e&&(r=new this.State(e,t,s,i),this.tokenize(r,r.line,r.lineMax))},n.prototype.State=s("834f"),e.exports=n},"76db":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"g-switcher-wrapper",class:{"g-input__wrapper":e.withLabel}},[e.withLabel?s("label",{staticClass:"g-input__label"},[e._v(" "+e._s(e.labelText)+" "),e.isOptional?s("span",{staticClass:"g-input__optional"},[e._v(" "+e._s(e.$t("message.field_optional_title"))+" ")]):e._e()]):e._e(),s("div",{staticClass:"b-input-radio__wrapper",class:{"g-input__wrapper":!e.withLabel},attrs:{"at-attr":"checkbox"}},[s("span",{staticClass:"b-input-radio__container"},[s("input",{staticClass:"b-input-radio",attrs:{id:e.id,type:"checkbox",name:e.name,required:e.required,disabled:e.disabled},domProps:{checked:e.value},on:{change:e.onClick}}),s("label",{staticClass:"b-input-radio__text",class:{"m-with-help-tip":!!e.infoTip},attrs:{for:e.id}},[s("span",{domProps:{innerHTML:e._s(e.label)}}),e.infoTip?s("span",{staticClass:"g-icon-info"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip.enabled",value:e.infoTip,expression:"infoTip",modifiers:{enabled:!0}}],staticClass:"icon-info"})]):e._e()]),s("span",{staticClass:"b-input-radio__label",on:{click:e.onClick}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-done"}),s("span",{staticClass:"b-input-ripple"})])]),e.error?s("p",{staticClass:"g-input__error"},[e._v(" "+e._s(e.error)+" ")]):e._e()])])},r=[],n=s("2b0e"),a=s("a3cb"),o=s("ebf6"),c=s("3d94");n["default"].use(a["a"]);var u={name:"Checkbox",$_veeValidate:{value:function(){return this.$el[0].value},name:function(){return this.name}},mixins:[o["a"],c["a"]],props:{label:{type:String,default:""},name:{type:String,default:""},value:{type:Boolean,default:!1},required:{type:Boolean,default:!1},error:{type:String,default:""},withLabel:{type:Boolean,default:!1},labelText:{type:String,default:""},id:{type:String,default:function(){return this.uid}},disabled:{type:Boolean,default:!1},infoTip:{type:String,default:""}},methods:{onClick:function(e){this.innerLinkToRouter(e),this.disabled||this.$emit("input",!this.value)}}},l=u,d=s("2877"),h=Object(d["a"])(l,i,r,!1,null,null,null);t["a"]=h.exports},"79bb":function(e,t,s){"use strict";var i=s("d4cd"),r=s.n(i),n=function(e){var t=new r.a({html:!0});return t.disable(["linkify","link","autolink","list","image","backticks","fence","code","escape"]),t.render(e)};t["a"]=n},"7ca0":function(e,t){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},"7cc2":function(e,t,s){"use strict";var i=s("0068").assign,r=s("0068").unescapeAll,n=s("0068").escapeHtml,a={};function o(){this.rules=i({},a)}a.code_inline=function(e,t,s,i,r){var a=e[t];return"<code"+r.renderAttrs(a)+">"+n(e[t].content)+"</code>"},a.code_block=function(e,t,s,i,r){var a=e[t];return"<pre"+r.renderAttrs(a)+"><code>"+n(e[t].content)+"</code></pre>\n"},a.fence=function(e,t,s,i,a){var o,c,u,l,d,h=e[t],p=h.info?r(h.info).trim():"",m="",f="";return p&&(u=p.split(/(\s+)/g),m=u[0],f=u.slice(2).join("")),o=s.highlight&&s.highlight(h.content,m,f)||n(h.content),0===o.indexOf("<pre")?o+"\n":p?(c=h.attrIndex("class"),l=h.attrs?h.attrs.slice():[],c<0?l.push(["class",s.langPrefix+m]):(l[c]=l[c].slice(),l[c][1]+=" "+s.langPrefix+m),d={attrs:l},"<pre><code"+a.renderAttrs(d)+">"+o+"</code></pre>\n"):"<pre><code"+a.renderAttrs(h)+">"+o+"</code></pre>\n"},a.image=function(e,t,s,i,r){var n=e[t];return n.attrs[n.attrIndex("alt")][1]=r.renderInlineAsText(n.children,s,i),r.renderToken(e,t,s)},a.hardbreak=function(e,t,s){return s.xhtmlOut?"<br />\n":"<br>\n"},a.softbreak=function(e,t,s){return s.breaks?s.xhtmlOut?"<br />\n":"<br>\n":"\n"},a.text=function(e,t){return n(e[t].content)},a.html_block=function(e,t){return e[t].content},a.html_inline=function(e,t){return e[t].content},o.prototype.renderAttrs=function(e){var t,s,i;if(!e.attrs)return"";for(i="",t=0,s=e.attrs.length;t<s;t++)i+=" "+n(e.attrs[t][0])+'="'+n(e.attrs[t][1])+'"';return i},o.prototype.renderToken=function(e,t,s){var i,r="",n=!1,a=e[t];return a.hidden?"":(a.block&&-1!==a.nesting&&t&&e[t-1].hidden&&(r+="\n"),r+=(-1===a.nesting?"</":"<")+a.tag,r+=this.renderAttrs(a),0===a.nesting&&s.xhtmlOut&&(r+=" /"),a.block&&(n=!0,1===a.nesting&&t+1<e.length&&(i=e[t+1],("inline"===i.type||i.hidden||-1===i.nesting&&i.tag===a.tag)&&(n=!1))),r+=n?">\n":">",r)},o.prototype.renderInline=function(e,t,s){for(var i,r="",n=this.rules,a=0,o=e.length;a<o;a++)i=e[a].type,"undefined"!==typeof n[i]?r+=n[i](e,a,t,s,this):r+=this.renderToken(e,a,t);return r},o.prototype.renderInlineAsText=function(e,t,s){for(var i="",r=0,n=e.length;r<n;r++)"text"===e[r].type?i+=e[r].content:"image"===e[r].type&&(i+=this.renderInlineAsText(e[r].children,t,s));return i},o.prototype.render=function(e,t,s){var i,r,n,a="",o=this.rules;for(i=0,r=e.length;i<r;i++)n=e[i].type,"inline"===n?a+=this.renderInline(e[i].children,t,s):"undefined"!==typeof o[n]?a+=o[e[i].type](e,i,t,s,this):a+=this.renderToken(e,i,t,s);return a},e.exports=o},"7d91":function(e,t,s){"use strict";var i=s("0068").unescapeAll;e.exports=function(e,t,s){var r,n,a=0,o=t,c={ok:!1,pos:0,lines:0,str:""};if(t>=s)return c;if(n=e.charCodeAt(t),34!==n&&39!==n&&40!==n)return c;t++,40===n&&(n=41);while(t<s){if(r=e.charCodeAt(t),r===n)return c.pos=t+1,c.lines=a,c.str=i(e.slice(o+1,t)),c.ok=!0,c;if(40===r&&41===n)return c;10===r?a++:92===r&&t+1<s&&(t++,10===e.charCodeAt(t)&&a++),t++}return c}},"80d3":function(e,t,s){"use strict";var i=s("0068").isSpace;function r(e,t){var s=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];return e.src.substr(s,i-s)}function n(e){var t,s=[],i=0,r=e.length,n=!1,a=0,o="";t=e.charCodeAt(i);while(i<r)124===t&&(n?(o+=e.substring(a,i-1),a=i):(s.push(o+e.substring(a,i)),o="",a=i+1)),n=92===t,i++,t=e.charCodeAt(i);return s.push(o+e.substring(a)),s}e.exports=function(e,t,s,a){var o,c,u,l,d,h,p,m,f,b,g,v,_,y,w,O;if(t+2>s)return!1;if(h=t+1,e.sCount[h]<e.blkIndent)return!1;if(e.sCount[h]-e.blkIndent>=4)return!1;if(u=e.bMarks[h]+e.tShift[h],u>=e.eMarks[h])return!1;if(o=e.src.charCodeAt(u++),124!==o&&45!==o&&58!==o)return!1;while(u<e.eMarks[h]){if(o=e.src.charCodeAt(u),124!==o&&45!==o&&58!==o&&!i(o))return!1;u++}for(c=r(e,t+1),p=c.split("|"),b=[],l=0;l<p.length;l++){if(g=p[l].trim(),!g){if(0===l||l===p.length-1)continue;return!1}if(!/^:?-+:?$/.test(g))return!1;58===g.charCodeAt(g.length-1)?b.push(58===g.charCodeAt(0)?"center":"right"):58===g.charCodeAt(0)?b.push("left"):b.push("")}if(c=r(e,t).trim(),-1===c.indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(p=n(c),p.length&&""===p[0]&&p.shift(),p.length&&""===p[p.length-1]&&p.pop(),m=p.length,0===m||m!==b.length)return!1;if(a)return!0;for(y=e.parentType,e.parentType="table",O=e.md.block.ruler.getRules("blockquote"),f=e.push("table_open","table",1),f.map=v=[t,0],f=e.push("thead_open","thead",1),f.map=[t,t+1],f=e.push("tr_open","tr",1),f.map=[t,t+1],l=0;l<p.length;l++)f=e.push("th_open","th",1),b[l]&&(f.attrs=[["style","text-align:"+b[l]]]),f=e.push("inline","",0),f.content=p[l].trim(),f.children=[],f=e.push("th_close","th",-1);for(f=e.push("tr_close","tr",-1),f=e.push("thead_close","thead",-1),h=t+2;h<s;h++){if(e.sCount[h]<e.blkIndent)break;for(w=!1,l=0,d=O.length;l<d;l++)if(O[l](e,h,s,!0)){w=!0;break}if(w)break;if(c=r(e,h).trim(),!c)break;if(e.sCount[h]-e.blkIndent>=4)break;for(p=n(c),p.length&&""===p[0]&&p.shift(),p.length&&""===p[p.length-1]&&p.pop(),h===t+2&&(f=e.push("tbody_open","tbody",1),f.map=_=[t+2,0]),f=e.push("tr_open","tr",1),f.map=[h,h+1],l=0;l<m;l++)f=e.push("td_open","td",1),b[l]&&(f.attrs=[["style","text-align:"+b[l]]]),f=e.push("inline","",0),f.content=p[l]?p[l].trim():"",f.children=[],f=e.push("td_close","td",-1);f=e.push("tr_close","tr",-1)}return _&&(f=e.push("tbody_close","tbody",-1),_[1]=h),f=e.push("table_close","table",-1),v[1]=h,e.parentType=y,e.line=h,!0}},"834f":function(e,t,s){"use strict";var i=s("096b"),r=s("0068").isSpace;function n(e,t,s,i){var n,a,o,c,u,l,d,h;for(this.src=e,this.md=t,this.env=s,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",a=this.src,h=!1,o=c=l=d=0,u=a.length;c<u;c++){if(n=a.charCodeAt(c),!h){if(r(n)){l++,9===n?d+=4-d%4:d++;continue}h=!0}10!==n&&c!==u-1||(10!==n&&c++,this.bMarks.push(o),this.eMarks.push(c),this.tShift.push(l),this.sCount.push(d),this.bsCount.push(0),h=!1,l=0,d=0,o=c+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}n.prototype.push=function(e,t,s){var r=new i(e,t,s);return r.block=!0,s<0&&this.level--,r.level=this.level,s>0&&this.level++,this.tokens.push(r),r},n.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},n.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t;e++)if(this.bMarks[e]+this.tShift[e]<this.eMarks[e])break;return e},n.prototype.skipSpaces=function(e){for(var t,s=this.src.length;e<s;e++)if(t=this.src.charCodeAt(e),!r(t))break;return e},n.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;while(e>t)if(!r(this.src.charCodeAt(--e)))return e+1;return e},n.prototype.skipChars=function(e,t){for(var s=this.src.length;e<s;e++)if(this.src.charCodeAt(e)!==t)break;return e},n.prototype.skipCharsBack=function(e,t,s){if(e<=s)return e;while(e>s)if(t!==this.src.charCodeAt(--e))return e+1;return e},n.prototype.getLines=function(e,t,s,i){var n,a,o,c,u,l,d,h=e;if(e>=t)return"";for(l=new Array(t-e),n=0;h<t;h++,n++){a=0,d=c=this.bMarks[h],u=h+1<t||i?this.eMarks[h]+1:this.eMarks[h];while(c<u&&a<s){if(o=this.src.charCodeAt(c),r(o))9===o?a+=4-(a+this.bsCount[h])%4:a++;else{if(!(c-d<this.tShift[h]))break;a++}c++}l[n]=a>s?new Array(a-s+1).join(" ")+this.src.slice(c,u):this.src.slice(c,u)}return l.join("")},n.prototype.Token=i,e.exports=n},"838d":function(e,t,s){"use strict";function i(e,t){var s,i,r,n,a,o,c,u,l={},d=t.length;for(s=0;s<d;s++)if(r=t[s],r.length=r.length||0,r.close){for(l.hasOwnProperty(r.marker)||(l[r.marker]=[-1,-1,-1]),a=l[r.marker][r.length%3],i=s-r.jump-1,i<-1&&(i=-1),o=i;i>a;i-=n.jump+1)if(n=t[i],n.marker===r.marker&&n.open&&n.end<0&&(c=!1,(n.close||r.open)&&(n.length+r.length)%3===0&&(n.length%3===0&&r.length%3===0||(c=!0)),!c)){u=i>0&&!t[i-1].open?t[i-1].jump+1:0,r.jump=s-i+u,r.open=!1,n.end=s,n.jump=u,n.close=!1,o=-1;break}-1!==o&&(l[r.marker][(r.length||0)%3]=o)}}e.exports=function(e){var t,s=e.tokens_meta,r=e.tokens_meta.length;for(i(e,e.delimiters),t=0;t<r;t++)s[t]&&s[t].delimiters&&i(e,s[t].delimiters)}},"84df":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.usersList?s("router-link",{staticClass:"b-users-lists__item m-with-rectangle-hover m-tb-sm m-border-full-width",attrs:{to:e.link}},[s("div",{staticClass:"b-users-lists__item__text"},[s("div",{staticClass:"b-users-lists__item__name",class:{"m-size-lg-text":e.mLargeText,"m-size-sm-text":e.mSmallText},attrs:{"at-attr":"lists_item"}},[e._v(" "+e._s(e._f("encodeHtml")(e.title))+" ")]),s("div",{staticClass:"b-users-lists__item__count",attrs:{"at-attr":"user_count"}},[["chats","streams"].includes(e.mode)?["Recent"!==e.usersList.name||e.usersCount?e.usersCount?s("span",{staticClass:"b-users-lists__item__count__el"},[e._v(" "+e._s(e.$tc("message.people_plural",e.usersCount,{COUNT:e.formatCount(e.usersCount)}))+" ")]):e._e():s("span",{staticClass:"b-users-lists__item__count"},[e._v(" "+e._s(e.$t("message.set_period_title"))+" ")])]:["Recent"!==e.usersList.name||e.usersCount?e.isListEmpty?s("span",{staticClass:"b-users-lists__item__count"},[e._v(" "+e._s(e.$t("message.empty_category"))+" ")]):[e.usersCount?s("span",{staticClass:"b-users-lists__item__count__el"},[e._v(" "+e._s(e.$tc("message.people_plural",e.usersCount,{COUNT:e.formatCount(e.usersCount)}))+" ")]):e._e(),e.usersList.postsCount?s("span",{staticClass:"b-users-lists__item__count__el"},[e._v(" "+e._s(e.$tc("message.count_posts_plural",e.usersList.postsCount,{COUNT:e.formatCount(e.usersList.postsCount)}))+" ")]):e._e()]:s("span",{staticClass:"b-users-lists__item__count"},[e._v(" "+e._s(e.$t("message.no_new_subscribers"))+" ")])]],2)]),e.usersCount?s("div",{staticClass:"b-users-lists__item__avatars"},e._l(e.users,(function(t){return s("avatar",{key:t.id,staticClass:"m-border-line-theme",attrs:{"user-id":t.id,size:e.isModal?24:36,"is-link":!1,"hide-online":""}})})),1):e._e()]):e._e()},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),a=(s("6762"),s("2fdb"),s("c5f6"),s("d634")),o=s("b48d"),c=s("f1f7");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var d={name:"UsersList",components:{Avatar:o["a"]},props:{id:{type:Number,default:0},isModal:{type:Boolean,default:!1},list:{type:Object,default:function(){}},mode:{type:String,default:function(){return"default"},validator:function(e){return["default","chats","streams"].includes(e)}},mLargeText:{type:Boolean,default:!0},mSmallText:{type:Boolean,default:!1},customTitle:{type:String,default:function(){return""}},customUsersCount:{type:Number,default:function(){return 0}}},computed:l(l(l({},Object(a["vc"])(["getUsersList"])),Object(a["tc"])(["getUser"])),{},{usersList:function(){return this.id?this.getUsersList(this.id):this.list},users:function(){var e=this;return this.usersList.users?this.usersList.users.map((function(t){return e.getUser(t)})):[]},link:function(){if(!this.usersList)return"";switch(this.usersList.type){case"fans":return{name:"SubscribersByType",params:{type:"active"}};case"following":return{name:"SubscribesByType",params:{type:"active"}};case"bookmarks":return{name:"Bookmarks"};case"friends":return{name:"MyFriends"};case"favorites":return{name:"Favorites"};case"restricted":return{name:"RestrictedUsers"};case"blocked":return{name:"BlockedUsers"};case"close_friends":return{name:"CustomList",params:{list:this.usersList.type}};default:return{name:"CustomList",params:{list:this.usersList.id}}}},title:function(){return this.customTitle&&this.customTitle.length>0?this.customTitle:this.usersList.name},usersCount:function(){return this.customUsersCount?this.customUsersCount:this.usersList.usersCount},isListEmpty:function(){return!this.usersList||!this.usersList.usersCount}}),methods:{formatCount:function(e){return Object(c["a"])(e)}}},h=d,p=s("2877"),m=Object(p["a"])(h,i,r,!1,null,null,null);t["a"]=m.exports},"86bc":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"js-chat-story b-story-item m-gradient-overlay"},[s("div",{staticClass:"b-story-item__inside m-default-bg",on:{click:e.runStoryThrottled}},[s("div",{staticClass:"b-story-item__text"},[s("div",{staticClass:"b-story-item__text-name"},[e._v(" "+e._s(e._f("encodeHtml")(e.value.title))+" ")])]),e.value.question?s("div",{staticClass:"b-answer-placeholder"},[s("div",{staticClass:"b-answer-placeholder__avatar"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-user"})]),s("div",{staticClass:"b-answer-placeholder__form"})]):e._e(),s("img",{staticClass:"img-responsive",attrs:{src:e.preview,draggable:"false",alt:""}})])])},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),a=s("bd86"),o=s("2ef0"),c=s("d634"),u=s("9798");function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var h={props:{value:{type:Object,required:!0},action:{type:String,default:void 0}},computed:d(d(d(d({},Object(c["Rb"])(["chatStory"])),Object(c["tc"])(["getUser"])),Object(c["b"])(["authUserId"])),{},{allStories:function(){return this.chatStory?[Object(u["b"])([this.chatStory],this.getUser(this.chatStory.userId),this.chatStory.userId==this.authUserId)]:[]},type:function(){return"chatStory"},preview:function(){return Object(o["get"])(this.value,"media[0].squarePreview",void 0)},runStoryThrottled:function(){return Object(o["throttle"])(this.runStory,1500)}}),methods:d(d({},Object(c["Qb"])(["fetchStoriesById"])),{},{runStory:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$window.showPreloader(),e.next=3,this.fetchStoriesById(this.value.id);case 3:this.$nextTick((function(){t.chatStory&&t.$root.$emit("component::story::run",{stories:t.allStories,type:t.type,action:t.action})})),this.$window.hidePreloader();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onCloseStory:function(){this.$window.showPreloader(),this.$window.hidePreloader()}})},p=h,m=s("2877"),f=Object(m["a"])(p,i,r,!1,null,null,null);t["a"]=f.exports},"8a31":function(e,t,s){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},"8aae":function(e,t,s){s("32a6"),e.exports=s("584a").Object.keys},"8f19":function(e,t,s){!function(t,s){e.exports=s()}(0,(function(){"use strict";return function(e,t,s){var i=t.prototype,r=i.format;s.en.ordinal=function(e){var t=["th","st","nd","rd"],s=e%100;return"["+e+(t[(s-20)%10]||t[s]||t[0])+"]"},i.format=function(e){var t=this,s=this.$locale(),i=this.$utils(),n=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return s.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return s.ordinal(t.week(),"W");case"w":case"ww":return i.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return i.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return i.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}));return r.bind(this)(n)}}}))},"8f2f":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._l(e.variants,(function(t){var i=t.value,r=t.label;return s("checkbox-dropdown",{key:+i,attrs:{name:"user_status_visibility_"+e.id,label:r,value:i,disabled:e.disabled},model:{value:e.statusVisibility,callback:function(t){e.statusVisibility=t},expression:"statusVisibility"}})})),1)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),a=s("bd86"),o=s("2b0e"),c=s("a3cb"),u=s("d634"),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-dropdown-item",{staticClass:"b-input-radio__container",class:{"m-disabled":e.disabled},attrs:{href:"javascript:void(0)"}},[s("input",{staticClass:"b-input-radio",attrs:{id:e.id,type:"radio",name:e.name,disabled:e.disabled},domProps:{checked:e.modelValue===e.value},on:{change:function(t){return e.$emit("change",e.value)}}}),s("label",{staticClass:"b-input-radio__text",attrs:{for:e.id}},[e._v(" "+e._s(e.label)+" ")]),s("span",{staticClass:"b-dropdown__icon"},[s("span",{staticClass:"b-input-ripple"})])])},d=[];s("c5f6");o["default"].use(c["a"]);var h={model:{prop:"modelValue",event:"change"},props:{value:{type:[Number,String,Boolean],required:!0},label:{type:String,required:!0},name:{type:String,required:!0},disabled:{type:Boolean,default:!1},modelValue:{type:[Number,String,Boolean],default:""}},data:function(){return{id:this.uid}}},p=h,m=s("2877"),f=Object(m["a"])(p,l,d,!1,null,null,null),b=f.exports;function g(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function v(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?g(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):g(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}o["default"].use(c["a"]);var _={name:"UsersStatus",components:{CheckboxDropdown:b},data:function(){return{id:this.uid,disabled:!1}},computed:v(v({},Object(u["b"])(["authUser"])),{},{statusVisibility:{get:function(){return this.authUser.isVisibleOnline},set:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=this.authUser.isVisibleOnline,this.disabled=!0,this.setUserField({userId:this.authUser.id,field:"isVisibleOnline",status:t}),e.next=5,this.patchUser({isVisibleOnline:t});case 5:i=e.sent,i&&i.success||(this.setUserField({userId:this.authUser.id,field:"isVisibleOnline",status:s}),alert(this.$t("message.debug_alert_message"))),this.disabled=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},variants:function(){return[{value:!0,label:this.$t("message.user_status_available")},{value:!1,label:this.$t("message.user_status_invisible")}]}}),methods:v(v({},Object(u["yc"])(["setUserField"])),Object(u["sc"])(["patchUser"]))},y=_,w=Object(m["a"])(y,i,r,!1,null,null,null);t["a"]=w.exports},"8f37":function(e,t,s){"use strict";var i={};function r(e){var t,s,r=i[e];if(r)return r;for(r=i[e]=[],t=0;t<128;t++)s=String.fromCharCode(t),r.push(s);for(t=0;t<e.length;t++)s=e.charCodeAt(t),r[s]="%"+("0"+s.toString(16).toUpperCase()).slice(-2);return r}function n(e,t){var s;return"string"!==typeof t&&(t=n.defaultChars),s=r(t),e.replace(/(%[a-f0-9]{2})+/gi,(function(e){var t,i,r,n,a,o,c,u="";for(t=0,i=e.length;t<i;t+=3)r=parseInt(e.slice(t+1,t+3),16),r<128?u+=s[r]:192===(224&r)&&t+3<i&&(n=parseInt(e.slice(t+4,t+6),16),128===(192&n))?(c=r<<6&1984|63&n,u+=c<128?"��":String.fromCharCode(c),t+=3):224===(240&r)&&t+6<i&&(n=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),128===(192&n)&&128===(192&a))?(c=r<<12&61440|n<<6&4032|63&a,u+=c<2048||c>=55296&&c<=57343?"���":String.fromCharCode(c),t+=6):240===(248&r)&&t+9<i&&(n=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),o=parseInt(e.slice(t+10,t+12),16),128===(192&n)&&128===(192&a)&&128===(192&o))?(c=r<<18&1835008|n<<12&258048|a<<6&4032|63&o,c<65536||c>1114111?u+="����":(c-=65536,u+=String.fromCharCode(55296+(c>>10),56320+(1023&c))),t+=9):u+="�";return u}))}n.defaultChars=";/?:@&=+$,#",n.componentChars="",e.exports=n},"922c":function(e,t,s){"use strict";function i(e,t){var s,i,r,n,a,o=[],c=t.length;for(s=0;s<c;s++)r=t[s],126===r.marker&&-1!==r.end&&(n=t[r.end],a=e.tokens[r.token],a.type="s_open",a.tag="s",a.nesting=1,a.markup="~~",a.content="",a=e.tokens[n.token],a.type="s_close",a.tag="s",a.nesting=-1,a.markup="~~",a.content="","text"===e.tokens[n.token-1].type&&"~"===e.tokens[n.token-1].content&&o.push(n.token-1));while(o.length){s=o.pop(),i=s+1;while(i<e.tokens.length&&"s_close"===e.tokens[i].type)i++;i--,s!==i&&(a=e.tokens[i],e.tokens[i]=e.tokens[s],e.tokens[s]=a)}}e.exports.tokenize=function(e,t){var s,i,r,n,a,o=e.pos,c=e.src.charCodeAt(o);if(t)return!1;if(126!==c)return!1;if(i=e.scanDelims(e.pos,!0),n=i.length,a=String.fromCharCode(c),n<2)return!1;for(n%2&&(r=e.push("text","",0),r.content=a,n--),s=0;s<n;s+=2)r=e.push("text","",0),r.content=a+a,e.delimiters.push({marker:c,length:0,jump:s/2,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0},e.exports.postProcess=function(e){var t,s=e.tokens_meta,r=e.tokens_meta.length;for(i(e,e.delimiters),t=0;t<r;t++)s[t]&&s[t].delimiters&&i(e,s[t].delimiters)}},9307:function(e,t,s){"use strict";var i=function(){var e,t=this,s=t.$createElement,i=t._self._c||s;return t.showAlert?i("div",{staticClass:"alert",class:(e={"alert-dismissible":t.dismissible},e["alert-"+t.variant]=!0,e["m-wider"]=t.fullWidth,e)},[i("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],class:t.iconClassName,attrs:{"extra-class":"m-alert-icon"}}),t.title?i("div",{staticClass:"alert-text-error",domProps:{innerHTML:t._s(t.title)}}):t._e(),t.hasContentSlot?t._e():i("div",{staticClass:"alert-text-wrapper",domProps:{innerHTML:t._s(t.text)}}),t._t("content"),t.dismissible||t.hasAlertAdditionalButtonSlot?i("div",{staticClass:"alert-btns-wrapper"},[t.dismissible?i("button",{staticClass:"g-btn m-flat m-btn-gaps",on:{click:t.dismiss}},[t._v(" "+t._s(t.$t("message.dismiss"))+" ")]):t._e(),t._t("alertAdditionalButton")],2):t._e()],2):t._e()},r=[],n=(s("6762"),s("2fdb"),{props:{text:{type:String,default:""},title:{type:String,default:""},dismissible:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1},variant:{type:String,default:"info",validator:function(e){return["info","danger"].includes(e)}},show:{type:Boolean,default:!0}},data:function(){return{showAlert:!1}},computed:{hasAlertAdditionalButtonSlot:function(){return!!this.$slots.alertAdditionalButton},hasContentSlot:function(){return!!this.$slots.content},iconClassName:function(){return"danger"===this.variant?"icon-alert":"info"===this.variant?"icon-info":""}},created:function(){this.showAlert=this.show},methods:{dismiss:function(){this.showAlert=!1,this.$emit("dismissed")},open:function(){this.showAlert=!0,this.$emit("shown")}}}),a=n,o=(s("f006"),s("2877")),c=Object(o["a"])(a,i,r,!1,null,"2d1d6918",null);t["a"]=c.exports},"932d":function(e,t,s){"use strict";var i=s("0068").normalizeReference,r=s("0068").isSpace;e.exports=function(e,t){var s,n,a,o,c,u,l,d,h,p,m,f,b,g="",v=e.pos,_=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(u=e.pos+2,c=e.md.helpers.parseLinkLabel(e,e.pos+1,!1),c<0)return!1;if(l=c+1,l<_&&40===e.src.charCodeAt(l)){for(l++;l<_;l++)if(n=e.src.charCodeAt(l),!r(n)&&10!==n)break;if(l>=_)return!1;for(b=l,h=e.md.helpers.parseLinkDestination(e.src,l,e.posMax),h.ok&&(g=e.md.normalizeLink(h.str),e.md.validateLink(g)?l=h.pos:g=""),b=l;l<_;l++)if(n=e.src.charCodeAt(l),!r(n)&&10!==n)break;if(h=e.md.helpers.parseLinkTitle(e.src,l,e.posMax),l<_&&b!==l&&h.ok){for(p=h.str,l=h.pos;l<_;l++)if(n=e.src.charCodeAt(l),!r(n)&&10!==n)break}else p="";if(l>=_||41!==e.src.charCodeAt(l))return e.pos=v,!1;l++}else{if("undefined"===typeof e.env.references)return!1;if(l<_&&91===e.src.charCodeAt(l)?(b=l+1,l=e.md.helpers.parseLinkLabel(e,l),l>=0?o=e.src.slice(b,l++):l=c+1):l=c+1,o||(o=e.src.slice(u,c)),d=e.env.references[i(o)],!d)return e.pos=v,!1;g=d.href,p=d.title}return t||(a=e.src.slice(u,c),e.md.inline.parse(a,e.md,e.env,f=[]),m=e.push("image","img",0),m.attrs=s=[["src",g],["alt",""]],m.children=f,m.content=a,p&&s.push(["title",p])),e.pos=l,e.posMax=_,!0}},"94ad":function(e,t,s){},"956d":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:e.modalName,attrs:{id:e.modalName,"modal-class":"modal-alert js-user-list","body-class":{"m-reset-body-paddings":!0,"m-loading-content":e.loading&&!e.list.length},"header-class":"m-border-header","footer-class":"m-border-footer",size:"sm",centered:""},on:{show:e.onShow,hide:e.onHide},scopedSlots:e._u([{key:"modal-header",fn:function(){return[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.title)+" ")]),s("div",{staticClass:"modal-header__btns-group m-move-right"},[s("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:1===e.list.length?e.$t("message.tooltip_send_message"):e.$t("message.message_all"),classes:"m-tooltip-higher"},expression:"{\n          content: list.length === 1 ? $t('message.tooltip_send_message') : $t('message.message_all'),\n          classes: 'm-tooltip-higher',\n        }"}],staticClass:"g-btn m-with-round-hover m-icon m-icon-only m-default-color m-sm-size",attrs:{disabled:!e.list.length,to:{name:"ChatsSend",query:e.query}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-message-new",attrs:{"extra-class":"m-default-size"}})]),s("b-dropdown",{staticClass:"m-hover-vertical m-btn-vertical-dots m-default-hover-color m-center m-reset-gaps",attrs:{"at-attr":"user_list_dropdown",offset:"4",right:"","toggle-class":"m-dark",variant:"link"},scopedSlots:e._u([{key:"button-content",fn:function(){return[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-more"})]},proxy:!0}])},[s("b-dropdown-item-button",{staticClass:"mark-all-as-read",attrs:{disabled:!e.list.length},on:{click:e.openUsersListsModal}},[e._v(" "+e._s(e.$t("message.add_to_list"))+" ")])],1)],1)]},proxy:!0},{key:"modal-footer",fn:function(){return[s("button",{staticClass:"g-btn m-flat m-btn-gaps m-reset-width",attrs:{type:"button"},on:{click:e.close}},[e._v(" "+e._s(e.$t("message.dialog_close_button"))+" ")])]},proxy:!0}])},[e._t("customBlock"),s("div",{staticClass:"list-viewers-2 m-native-custom-scrollbar m-scrollbar-y m-invisible-scrollbar"},[e._l(e.list,(function(t){return s("user",{key:t,attrs:{user:e.getUser(t),"is-correct":e.correctAnswersMap[t],"is-quiz":e.isQuiz}})})),e.list.length&&e.list.length>=e.limit?s("infinite-loading",{attrs:{identifier:e.infiniteId},on:{infinite:e.infiniteHandler}},[s("div",{staticClass:"b-posts_preloader_container show_more_container",attrs:{slot:"spinner"},slot:"spinner"},[s("spinner-loader")],1),s("div",{attrs:{slot:"no-more"},slot:"no-more"}),s("div",{attrs:{slot:"no-results"},slot:"no-results"})]):e._e()],2),e.loading&&!e.list.length?s("spinner-loader",{staticClass:"m-gray-color m-screen-center"}):e._e()],2)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),a=s("bd86"),o=(s("c5f6"),s("d634")),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-viewer-row"},[s("div",{staticClass:"b-viewer-row__name b-username-row m-gap-clear"},[s("avatar",{staticClass:"m-absolute",attrs:{"user-id":e.user.id,size:24,"is-link":""}}),s("username-block",{attrs:{user:e.user,"is-link":""}})],1),e.user.amount?s("div",{staticClass:"b-viewer-row__posts_tips_amount"},[s("span",[e._v(" "+e._s(e._f("formatCustomPrice")(e.amountHumanShort(e.user.amount,"")))+" ")])]):e._e(),s("div",{staticClass:"b-viewer-row__option"},[e.user.hasTopStreamTips?s("span",{staticClass:"b-badge-icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-badge-toptip"})]):e._e(),e.user.hasStreamTips&&!e.user.hasTopStreamTips?s("span",{staticClass:"b-badge-icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-badge-tip"})]):e._e(),e.isQuiz?s("div",{staticClass:"post-vote-button__icon",class:{"m-correct":e.isQuiz&&e.isCorrect,"m-incorrect":e.isQuiz&&!e.isCorrect}},[e.isCorrect?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-done"}):s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})]):e._e(),s("users-action",{attrs:{user:e.user,"is-user-list-modal":"","class-btn":"btn m-not-width-limit m-gray m-with-round-hover","menu-class":"m-appearance-modal m-default-width-modal","is-profile-menu":"","is-additional-class":"",boundary:"true",variant:""}})],1)])},u=[],l=s("fa8d"),d=s("b48d"),h=s("2ad1"),p=s("9df8"),m=s("f1f7"),f={name:"ModalListUser",components:{Avatar:d["a"],UsernameBlock:h["a"],UsersAction:l["a"]},filters:{formatCustomPrice:m["b"]},mixins:[p["b"]],props:{user:{type:Object,required:!0},isQuiz:{type:Boolean,default:!1},isCorrect:{type:Boolean,default:!1}}},b=f,g=s("2877"),v=Object(g["a"])(b,c,u,!1,null,null,null),_=v.exports,y=s("e528"),w=s("e166"),O=s.n(w);function C(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function k(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?C(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):C(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var x={name:"CustomUserList",components:{User:_,SpinnerLoader:y["a"],InfiniteLoading:O.a},props:{modalName:{type:String,required:!0},title:{type:String,required:!0},params:{type:Object,required:!0},query:{type:Object,required:!0},isQuiz:{type:Boolean,default:!1},list:{type:Array,default:function(){return[]}},limit:{type:Number,default:10},loading:{type:Boolean,default:!1},fetch:{type:Function,required:!0},reset:{type:Function,default:function(){}},resetUser:{type:Boolean,default:!1},correctAnswersMap:{type:Object,default:function(){return{}}}},data:function(){return{infiniteId:+new Date}},computed:k({},Object(o["tc"])(["getUser"])),beforeDestroy:function(){this.close()},methods:k(k({},Object(o["yc"])(["setModalUser"])),{},{onShow:function(){this.fetch({limit:this.limit,offset:this.list.length,more:!1})},onHide:function(){this.reset(),this.close()},close:function(){var e=this.$refs[this.modalName];e&&e.hide()},infiniteHandler:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetch({limit:this.limit,offset:this.list.length,more:!0});case 2:s=e.sent,s&&s.hasMore?t.loaded():t.complete();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),openUsersListsModal:function(){this.resetUser&&this.setModalUser({userId:null}),this.$root.$emit("bv::show::modal","ModalUsersLists",this.params),this.close()}})},P=x,S=Object(g["a"])(P,i,r,!1,null,null,null);t["a"]=S.exports},9921:function(e,t,s){"use strict";var i=s("0068").arrayReplaceAt;function r(e){return/^<a[>\s]/i.test(e)}function n(e){return/^<\/a\s*>/i.test(e)}e.exports=function(e){var t,s,a,o,c,u,l,d,h,p,m,f,b,g,v,_,y,w=e.tokens;if(e.md.options.linkify)for(s=0,a=w.length;s<a;s++)if("inline"===w[s].type&&e.md.linkify.pretest(w[s].content))for(o=w[s].children,b=0,t=o.length-1;t>=0;t--)if(u=o[t],"link_close"!==u.type){if("html_inline"===u.type&&(r(u.content)&&b>0&&b--,n(u.content)&&b++),!(b>0)&&"text"===u.type&&e.md.linkify.test(u.content)){for(h=u.content,y=e.md.linkify.match(h),l=[],f=u.level,m=0,d=0;d<y.length;d++)g=y[d].url,v=e.md.normalizeLink(g),e.md.validateLink(v)&&(_=y[d].text,_=y[d].schema?"mailto:"!==y[d].schema||/^mailto:/i.test(_)?e.md.normalizeLinkText(_):e.md.normalizeLinkText("mailto:"+_).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+_).replace(/^http:\/\//,""),p=y[d].index,p>m&&(c=new e.Token("text","",0),c.content=h.slice(m,p),c.level=f,l.push(c)),c=new e.Token("link_open","a",1),c.attrs=[["href",v]],c.level=f++,c.markup="linkify",c.info="auto",l.push(c),c=new e.Token("text","",0),c.content=_,c.level=f,l.push(c),c=new e.Token("link_close","a",-1),c.level=--f,c.markup="linkify",c.info="auto",l.push(c),m=y[d].lastIndex);m<h.length&&(c=new e.Token("text","",0),c.content=h.slice(m),c.level=f,l.push(c)),w[s].children=o=i(o,t,l)}}else{t--;while(o[t].level!==u.level&&"link_open"!==o[t].type)t--}}},"998d":function(e,t,s){"use strict";function i(e,t){return!!e.canChat&&(!t.canNotSendReason||"only_friends"===t.canNotSendReason)}s.d(t,"a",(function(){return i}))},"99cd":function(e,t,s){"use strict";var i=s("2b0e"),r=s("4eb5"),n=s.n(r);i["default"].use(n.a)},"9c07":function(e,t,s){"use strict";s("d592")},"9c12e":function(e,t,s){"use strict";e.exports=function(e,t,s){var i,r,n;if(e.sCount[t]-e.blkIndent<4)return!1;r=i=t+1;while(i<s)if(e.isEmpty(i))i++;else{if(!(e.sCount[i]-e.blkIndent>=4))break;i++,r=i}return e.line=r,n=e.push("code_block","code",0),n.content=e.getLines(t,r,4+e.blkIndent,!0),n.map=[t,e.line],!0}},"9d30":function(e,t,s){"use strict";s("8e6e"),s("ac6a"),s("456d");var i=s("bd86"),r=s("d634");function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function a(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={computed:a({},Object(r["db"])({photoSwipeIsOpen:"isOpen"})),methods:a({},Object(r["cb"])({photoSwipeSetItems:"setItems",photoSwipeSetOptions:"setOptions",photoSwipeSetOpen:"setOpen"}))}},"9fb6":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"post-purchase m-default-bg"},[e.hasPreview?e._e():s("div",{staticClass:"post-purchase__no-media"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-locked"}),e.isGrid&&e.price?s("div",{staticClass:"post-purchase__overlay-price"},[e._v(" "+e._s(e.price)+" ")]):e._e()]),s("div",{staticClass:"b-purchase",class:{"profile-inner":e.isGrid}},[s("div",{staticClass:"purchase-block",class:{"profile-inner":e.isGrid}},[s("div",{staticClass:"content-icons"},[e.hasAny?s("ul",{staticClass:"b-purchase__list"},[e.hasLockedText?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-text-frame-off",attrs:{"extra-class":"mr-0"}})]):e._e(),e.postLockedMedia("photo")?s("li",{staticClass:"b-purchase__list-item",class:{"m-without-counter":e.isGrid}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-media"}),e.isGrid?e._e():[e._v(" "+e._s(e.photoLockedCount)+" ")]],2):e._e(),e.postLockedMedia("video")?s("li",{staticClass:"b-purchase__list-item",class:{"m-without-counter":e.isGrid}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-video"}),e.isGrid?e._e():[e._v(" "+e._s(e.videoLockedCount>1?e.videoLockedCount:e.videoLockedDuration?e.videoLockedDuration:"")+" ")]],2):e._e(),e.postLockedMedia("gif")?s("li",{staticClass:"b-purchase__list-item",class:{"m-without-counter":e.isGrid}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-gif"}),e.isGrid?e._e():[e._v(" "+e._s(e.gifLockedCount>1?e.gifLockedCount:e.gifLockedDuration?e.gifLockedDuration:"")+" ")]],2):e._e(),e.postLockedMedia("audio")?s("li",{staticClass:"b-purchase__list-item",class:{"m-without-counter":e.isGrid}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-voice"}),e.isGrid?e._e():[e._v(" "+e._s(e.audioLockedDuration?e.audioLockedDuration:"")+" ")]],2):e._e(),e.hasLockedPoll?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-poll"})]):e._e(),e.hasLockedQuiz?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-quiz"})]):e._e()]):e._e()]),e.isSubscribeBtn?s("div",{staticClass:"mt-1"},[s("subscribe-btn",{attrs:{id:e.userIdToSubscribe,"is-custom":""},scopedSlots:e._u([{key:"content",fn:function(){return[s("div",{staticClass:"g-btn m-rounded m-uppercase m-block",attrs:{role:"button"},domProps:{innerHTML:e._s(e.textConfirmBtn)}})]},proxy:!0}],null,!1,1858346433)})],1):e.isGrid?e._e():s("button",{staticClass:"g-btn m-rounded post-subscribe-btn m-uppercase m-block",attrs:{type:"button"},on:{click:e.doConfirm}},[e._v(" "+e._s(e.textConfirmBtn)+" ")]),e.isGrid?s("span",{staticClass:"b-btn-purchase-post",on:{click:e.doConfirm}}):e._e()])])])},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),a=(s("6762"),s("2fdb"),s("bd86")),o=s("2ef0"),c=s("d634"),u=s("a2fa"),l=s("3c15"),d=s("ce23"),h=s("9df8");function p(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function m(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?p(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var f={name:"PostPurchase",components:{SubscribeBtn:u["a"]},mixins:[l["a"],d["a"],h["b"]],props:{post:{type:Object,required:!0},isLinked:{type:Boolean,default:!1},isGrid:{type:Boolean,default:!1},message:{type:Object,default:function(){}},isSubscribeBtn:{type:Boolean,default:!1}},data:function(){return{token:"",confirmPay:!1}},computed:m(m(m({},Object(c["b"])(["authUserId"])),Object(c["tc"])(["getUser"])),{},{textConfirmBtn:function(){return this.message&&this.isSubscribeBtn?this.$mq.includes("sm")?this.$t("message.cannot_purchase_need_subscribe_message_mobile"):this.$t("message.cannot_purchase_need_subscribe_message"):this.message?this.$t("message.message_pay_to_unlock_message",{MESSAGE_PRICE:this.amountHumanShort(this.post.price,"")}):this.$t("message.post_unlock_btn",{MESSAGE_PRICE:this.amountHumanShort(this.post.price,"")})},userIdToSubscribe:function(){return this.message?this.message.fromUser:null},price:function(){return!(!this.post||!this.post.price)&&this.amountHumanShort(this.post.price)}}),methods:m(m(m(m({},Object(c["yc"])(["setUserField"])),Object(c["m"])(["setHasPurchesesFeed"])),Object(c["jb"])(["fetchPost"])),{},{doConfirm:function(){var e=this;if(this.isGrid)this.$router.push({name:"Post",params:{postId:this.post.id,userId:this.getUser(this.post.author).username}});else if(!this.isLinked){var t=this.getUser(this.post.author||this.post.chatId)||{};if(t.vat)this.confirmedPay();else{var s=this.amountHumanShort(this.post.price,""),i=this.message?this.$t("message.buy_message_confirmation_copy",{PRICE:s}):this.$t("message.buy_post_confirmation_copy",{PRICE:s});alert({message:i,buttons:[{title:this.$t("message.button_pay"),onclick:function(){e.confirmedPay()},closeOnClick:!0}]})}}},confirmedPay:function(){this.message?this.confirmPayAction():this.pay()},pay:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.post.id,s=this.getUser(this.post.author),i=Object(o["get"])(s,"id",!1),e.next=5,this.makePayments({paymentType:"post",postId:t,amount:this.post.price,userId:i,vatData:s.vat&&{vat:s.vat}},this.pay);case 5:r=e.sent,r&&r.success&&(this.setUserField({userId:this.authUserId,field:"hasPurchasedPosts",status:!0}),this.fetchPost({id:t}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),confirmPayAction:function(){!1!==this.message.canPurchase&&this.payMessage()},payMessage:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.getUser(this.post.author||this.post.chatId)||{},s=Object(o["get"])(t,"id",!1),e.next=4,this.makePayments({paymentType:"message",messageId:this.message.id,amount:this.message.price,vatData:t.vat&&{vat:t.vat},userId:s},this.payMessage);case 4:i=e.sent,i&&i.success&&this.setHasPurchesesFeed({id:this.message.chatId,status:!0});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()})},b=f,g=s("2877"),v=Object(g["a"])(b,i,r,!1,null,null,null);t["a"]=v.exports},a124:function(e,t,s){"use strict";e.exports=function(e){var t,s,i,r=e.tokens;for(s=0,i=r.length;s<i;s++)t=r[s],"inline"===t.type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},a2fa:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isAuth||e.promotion||!e.user.canAddSubscriber?!e.isAuthUser&&e.user.subscribedBy?s("div",{class:{"m-rounded m-flex m-space-between":!e.flat&&!e.chat&&!e.newEdition,"m-rounded m-uppercase m-block":!e.flat&&!e.chat&&e.newEdition,"m-border":!e.flat&&!e.chat&&!e.newEdition&&(!e.waitForExpire||e.user.isSuspended||e.user.isFrozen),"m-lg":e.smSize?!e.smSize:!e.short,"m-flat m-reset-width m-no-uppercase m-default-font-weight":e.flat,"g-btn":!e.chat},attrs:{role:"button","at-attr":"subscribe_btn"},on:{click:function(t){return t.preventDefault(),e.openUnsubscribeModal(t)},mouseover:e.mouseover,mouseleave:e.mouseleave}},[e.user.isSuspended||e.user.isFrozen||e.waitForExpire?s("span",{staticClass:"b-wrap-btn-text",domProps:{innerHTML:e._s(e.subscribeText)}}):e.isFree?[e.labelPersonalTrial?s("span",{staticClass:"b-wrap-btn-text",domProps:{innerHTML:e._s(e.labelPersonalTrial)}}):e.labelPromoFreeTrial?s("span",{staticClass:"b-wrap-btn-text",domProps:{innerHTML:e._s(e.labelPromoFreeTrial)}}):[s("span",{staticClass:"b-btn-text",domProps:{innerHTML:e._s(e.$t("message.subscribed_btn"))}}),s("span",{staticClass:"b-btn-text",domProps:{innerHTML:e._s(e.$t("message.for_free_btn"))}})]]:s("div",{staticClass:"b-wrap-btn-text",domProps:{innerHTML:e._s(e.subscribeTextNoTime)}})],2):e.isAuthUser&&e.promotion?s("div",{class:{"m-rounded m-border m-uppercase":!e.flat&&!e.chat&&!e.newEdition,"m-rounded m-uppercase m-block":!e.flat&&!e.chat&&e.newEdition,"m-lg":e.smSize?!e.smSize:!e.short,"m-flat m-reset-width m-no-uppercase m-default-font-weight":e.flat,"g-btn":!e.chat},attrs:{role:"button"}},[s("span",{staticClass:"b-wrap-btn-text",class:{"m-notice":!e.promotion.hasRelatedPromo},domProps:{innerHTML:e._s(e.subscribePromoText)}})]):!e.isAuthUser&&e.user.canAddSubscriber&&e.promotion?s("div",{class:{"m-rounded m-flex m-space-between":!e.flat&&!e.chat&&!e.newEdition,"m-rounded m-uppercase m-block":!e.flat&&!e.chat&&e.newEdition,"m-lg":e.smSize?!e.smSize:!e.short,"m-flat m-reset-width m-no-uppercase m-default-font-weight":e.flat,"g-btn":!e.chat},attrs:{role:"button"},on:{click:e.openSubscribeModal}},[!e.isAuth||!e.short||e.chat||e.newEdition||e.isRestricted?e._e():s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-follow"}),s("span",{staticClass:"b-wrap-btn-text",class:{"m-notice":!e.promotion.hasRelatedPromo&&!e.short},domProps:{innerHTML:e._s(e.subscribePromoText)}})]):e.isCustom&&!e.isAuthUser&&e.user.canAddSubscriber&&!e.promotion?s("div",{on:{click:function(t){return t.preventDefault(),e.clickCustomButton(t)}}},[e._t("content")],2):e.isAuthUser||!e.user.canAddSubscriber||e.promotion?e._e():s("div",{class:{"m-rounded m-flex m-space-between":!e.flat&&!e.newEdition,"m-rounded m-uppercase m-block":!e.flat&&e.newEdition,"m-lg":e.smSize?!e.smSize:!e.short,"m-flat m-reset-width m-no-uppercase m-default-font-weight":e.flat,"g-btn":!e.chat},attrs:{role:"button"},on:{click:function(t){return t.preventDefault(),e.openSubscribeModal(t)}}},[e.isAuth&&e.short&&!e.isRestricted?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-follow"}):e._e(),s("div",{staticClass:"b-wrap-btn-text",domProps:{innerHTML:e._s(e.subscribeBtnLabel)}})]):s("div",{staticClass:"m-fluid-width",class:{"m-rounded m-flex m-space-between":!e.flat&&!e.chat,"m-lg":e.smSize?!e.smSize:!e.short,"m-flat m-reset-width m-no-uppercase m-default-font-weight":e.flat,"g-btn":!e.chat},attrs:{role:"button"},domProps:{innerHTML:e._s(e.subscribeBtnLabel)},on:{click:function(t){return t.preventDefault(),e.openSubscribeModal(t)}}})},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),a=(s("a481"),s("c5f6"),s("fca0"),s("7514"),s("bd86")),o=s("2ef0"),c=s("5a0c"),u=s.n(c),l=s("2612"),d=s("d634"),h=s("1db1"),p=s("9df8"),m=s("69c8"),f=s("09e4"),b=s("f950");function g(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function v(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?g(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):g(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var _={name:"SubscribeBtn",mixins:[h["a"],p["b"],m["a"],p["e"],p["d"]],props:{flat:{type:Boolean,required:!1},chat:{type:Object,default:null},short:{type:Boolean,required:!1},newEdition:{type:Boolean,required:!1},isCustom:{type:Boolean,default:!1},isRestricted:{type:Boolean,default:!1},smSize:{type:Boolean,default:!1},label:{type:String,default:""}},data:function(){return{showHoverButtonData:!1}},computed:v(v(v({},Object(d["b"])(["isAuth","authUserId","authUser"])),Object(d["d"])(["subscriptionInitiated"])),{},{promotionAll:function(){return Object(o["get"])(this,"user.promotions",[]).find((function(e){return"all"===e.type}))},promotionExpired:function(){return Object(o["get"])(this,"user.promotions",[]).find((function(e){return"expired"===e.type}))},promotion:function(){return this.isAuthUser?"SubscribersByType"===this.$route.name&&"expired"===this.$route.params.type?this.promotionExpired:this.promotionAll:this.isAuth&&this.isExpired?this.promotionExpired&&this.promotionExpired.canClaim?this.promotionExpired:null:this.promotionAll&&this.promotionAll.canClaim?this.promotionAll:null},hasRelatedPromo:function(){return 1===Object(o["get"])(this,"user.promotions",[]).length},daysInCurrentMonth:function(){var e=new Date;return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},subscribeBtnPrice:function(){return null!==this.user.currentSubscribePrice&&void 0!==this.user.currentSubscribePrice?this.user.currentSubscribePrice:this.user.subscribePrice},formattedSubscribeBtnPrice:function(){return this.formatPrice(this.subscribeBtnPrice)},subscribeBtnLabel:function(){if(this.label)return this.label;if(this.isRestricted)return'<span class="b-btn-text__center">\n          '.concat(this.$t("message.restricted_subscribe_button"),"\n        </span>");if(this.short)return this.$t("message.subscription_subscribe_free_simple_button");if(this.subscribeBtnPrice){if(!1===this.isExpiredNow&&this.user.isSuspended){var e='<span class="b-btn-text">'.concat(this.$t("message.subscribe_btn"),"</span>"),t='<span class="b-btn-text__small">'.concat(this.$t("message.price_per_month",{PRICE:this.formattedSubscribeBtnPrice}),"</span>");return"".concat(e).concat(t)}if(!1===this.isExpiredNow){var s=this.subscribe&&Number.isFinite(this.subscribe.price)?this.subscribe.price:this.subscribeBtnPrice,i='<span class="b-btn-text">'.concat(this.$t("message.subscribe_btn"),"</span>"),r=s?'<span class="b-btn-text__small">'.concat(this.$t("message.price_per_month",{PRICE:this.formatPrice(s)}),"</span>"):'<span class="b-btn-text">'.concat(this.$t("message.for_free_btn"),"</span>");return"".concat(i).concat(r)}return'<span class="b-btn-text">\n            '.concat(this.$t("message.subscribe_btn"),'\n          </span>\n          <span class="b-btn-text__small">\n            ').concat(this.$t("message.price_per_month",{PRICE:this.formattedSubscribeBtnPrice}),"\n          </span>")}return'<span class="b-btn-text">\n          '.concat(this.$t("message.subscribe_btn"),'\n        </span>\n        <span class="b-btn-text">\n          ').concat(this.$t("message.for_free_btn"),"\n        </span>")},isAuthUser:function(){return this.authUserId===this.id},expiredDateHuman:function(){return this.subscribe?u()(this.subscribe.expiredAt).format("MMM D, YYYY"):this.user.subscribedByExpireDate?u()(this.user.subscribedByExpireDate).format("MMM D, YYYY"):""},subscribeText:function(){if(this.label)return this.label;if(this.isRestricted)return'<span class="b-btn-text__center">\n          '.concat(this.$t("message.restricted_subscribe_button"),"\n        </span>");if(this.user&&(this.user.isSuspended||this.user.isFrozen)){var e='<span class="b-btn-text">'.concat(this.$t("message.subscribed_btn"),"</span>"),t=this.subscribeBtnPrice?'<span class="b-btn-text__small">'.concat(this.$t("message.price_per_month",{PRICE:this.formattedSubscribeBtnPrice}),"</span>"):'<span class="b-btn-text">'.concat(this.$t("message.for_free_btn"),"</span>");return"".concat(e).concat(t)}if(this.isFromPaidToFree){var s='<span class="b-btn-text">'.concat(this.$t("message.renew_btn"),"</span>"),i='<span class="b-btn-text">'.concat(this.$t("message.for_free_btn"),"</span>");return"".concat(s).concat(i)}if(this.hasAnyPaidSubscription){var r='<span class="b-btn-text">'.concat(this.$t("message.renew_btn"),"</span>"),n=this.subscribe&&this.subscribe.subscribePrice?'<span class="b-btn-text__small">\n              '.concat(this.$t("message.price_per_month",{PRICE:this.formatPrice(this.subscribe.subscribePrice)}),"\n            </span>"):'<span class="b-btn-text">'.concat(this.$t("message.for_free_btn"),"</span>");return"".concat(r).concat(n)}return this.subscribe&&this.subscribe.subscribePrice?'<span class="b-btn-text">\n            '.concat(this.$t("message.renew_btn"),'\n          </span>\n          <span class="b-btn-text__small">\n            ').concat(this.$t("message.price_per_month",{PRICE:this.formatPrice(this.subscribe.subscribePrice)}),"\n          </span>"):'<span class="b-btn-text">\n            '.concat(this.$t("message.subscribed_btn"),'\n          </span>\n          <span class="b-btn-text">\n            ').concat(this.$t("message.for_free_btn"),"\n          </span>")},subscribeTextNoTime:function(){return this.label?this.label:this.isRestricted?'<span class="b-btn-text__center">\n          '.concat(this.$t("message.restricted_subscribe_button"),"\n        </span>"):this.subscribedByPromo?'<span class="b-btn-text">\n            '.concat(this.$t("message.subscribed_btn"),'\n          </span>\n          <span class="b-btn-text__small">\n            ').concat(this.$t("message.user_card_price_for_count_days",{PRICE:this.formatPrice(this.subscribedByPromo.price),COUNT:this.subscribedByPromo.duration}),"\n          </span>"):this.subscribedByBundle?'<span class="b-btn-text">\n            '.concat(this.$t("message.subscribed_btn"),'\n          </span>\n          <span class="b-btn-text__small">\n            ').concat(this.$t("message.user_card_price_total",{PRICE:this.formatPrice(this.subscribedByBundle.price)}),"\n          </span>"):this.subscribe&&this.subscribe.price?'<span class="b-btn-text">\n            '.concat(this.$t("message.subscribed_btn"),'\n          </span>\n          <span class="b-btn-text__small">\n            ').concat(this.$t("message.price_per_month",{PRICE:this.formatPrice(this.subscribe.price)}),"\n          </span>"):this.$t("message.subscribe_btn_unsubscribe_label_wait_for_expire_for_free_no_time")},subscribePromoText:function(){return this.label?this.label:this.isRestricted?'<span class="b-btn-text__center">\n          '.concat(this.$t("message.restricted_subscribe_button"),"\n        </span>"):this.promotion?this.short?this.$t("message.subscription_subscribe_free_simple_button"):parseFloat(this.promotion.price)?'<span class="b-btn-text">\n                  '.concat(this.$t("message.subscribe_btn"),'\n                </span>\n                <span class="b-btn-text__small">\n                  ').concat(this.$t("message.user_card_price_for_count_days",{PRICE:this.priceHuman(this.promotion.price),COUNT:this.promotion.subscribeDays||this.daysInCurrentMonth}),"\n                </span>"):'<span class="b-btn-text">\n                '.concat(this.$t("message.subscribe_btn"),'\n              </span>\n              <span class="b-btn-text__small">\n                <span class="g-text-uppercase">').concat(this.$t("message.free"),'</span>\n                <span class="g-btn__new-line-text">\n                  ').concat(this.$t("message.user_card_price_for_count_days",{PRICE:"",COUNT:this.promotion.subscribeDays}),"\n                </span>\n              </span>"):""},isFree:function(){return!!this.subscribe&&!this.subscribe.price},lastPostDate:function(){return this.subscribe&&this.subscribe.lastPostDate?u()(this.subscribe.lastPostDate).format("MMM D, YYYY"):""},labelPersonalTrial:function(){return this.label?this.label:this.isRestricted?'<span class="b-btn-text__center">\n          '.concat(this.$t("message.restricted_subscribe_button"),"\n        </span>"):this.subscribedByPersonalTrial?'<span class="b-btn-text">\n            '.concat(this.$t("message.subscribed_btn"),'\n          </span>\n          <span class="b-btn-text">\n            ').concat(this.$t("message.free"),'\n            <span class="b-btn-text__small">\n              ').concat(this.$t("message.user_card_price_for_count_days",{PRICE:"",COUNT:this.subscribedByPersonalTrial.duration}),"\n            </span>\n          </span>"):""},labelPromoFreeTrial:function(){return this.label?this.label:this.isRestricted?'<span class="b-btn-text__center">\n          '.concat(this.$t("message.restricted_subscribe_button"),"\n        </span>"):this.subscribedByPromo&&(this.subscribedByPromo.price<=0||100===this.subscribedByPromo.disccount)?'<span class="b-btn-text">\n            '.concat(this.$t("message.subscribed_btn"),'\n          </span>\n          <span class="b-btn-text">\n            ').concat(this.$t("message.free"),'\n            <span class="b-btn-text__small">\n              ').concat(this.$t("message.user_card_price_for_count_days",{PRICE:"",COUNT:this.subscribedByPromo.duration}),"\n            </span>\n          </span>"):""},needConfirm:function(){return!this.isAuthUser&&this.user.canAddSubscriber&&!this.isExpired&&this.isNewPriceHigherAgreePrice}}),mounted:function(){if(!this.subscriptionInitiated&&(-1!==window.location.hash.indexOf("#subscribeModal")&&(this.isAuthUser||this.user.subscribedBy||this.openSubscribeModal()),"Profile"===this.$route.name&&this.isAuth&&this.subscribe)){var e=this.$route.query,t=e.agree_price,s=e.enable_renew,i=e.token;i||(this.needConfirm&&t&&+t===+this.user.subscribePrice&&(this.agreePriceConfirmShow(),this.$router.replace(v(v({},this.$route),{},{query:v(v({},this.$route.query),{},{agree_price:void 0})}))),s&&(this.$router.replace(v(v({},this.$route),{},{query:v(v({},this.$route.query),{},{enable_renew:void 0})})),this.isAuthUser||(this.isExpiredNow?this.openSubscribeModal():this.waitForExpire&&this.enableRenewConfirmShow())))}},methods:v(v(v(v(v(v(v({},Object(d["yc"])(["setModalUser"])),Object(d["sc"])(["fetchSubscriptionsCount"])),Object(d["lc"])(["updateSubscribe"])),Object(d["k"])(["fetchChat"])),Object(d["c"])(["setSubscriptionInitiated"])),Object(d["F"])(["updateLiveUser"])),{},{enableRenewConfirmShow:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.interact(this.$t("message.renewal_confirmation_desc",{NAME:this.user.name,AMOUNT:"<strong>".concat(this.amountHumanShort(this.user.subscribePrice),"</strong>")}));case 2:t=e.sent,t&&this.doEnableRenew();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),suspendedSubscribeConfirmShow:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.interact(this.$t("message.subscribe_suspended_confirm_popup",{LAST_POST_DATE:this.lastPostDate}));case 2:t=e.sent,t&&this.openSubscribeModal();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),agreePriceConfirmShow:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.interact(this.$t("message.renewal_confirmation_desc",{NAME:this.user.name,AMOUNT:"<strong>".concat(this.amountHumanShort(this.user.subscribePrice),"</strong>")}));case 2:t=e.sent,t&&this.confirmPrice({place:"email"});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),subscribeFinish:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t||!t.id){e.next=15;break}if(this.updateSubscribe(t),this.fetchSubscriptionsCount(),"Profile"!==this.$route.name&&"ProfileInner"!==this.$route.name&&"Post"!==this.$route.name){e.next=7;break}this.fetchProfileData(this.id),e.next=15;break;case 7:if("Chat"!==this.$route.name){e.next=14;break}return e.next=10,this.fetchChat(this.id);case 10:this.$route.params.chatId&&this.$root.$emit("message::from::draft",this.$route.params.chatId),this.$emit("hide-dropdown"),e.next=15;break;case 14:"SubscribesByType"===this.$route.name?this.removeSubscribe(this.id):"Live"===this.$route.name&&(this.updateLiveUser(t),this.$root.$emit("bv::hide::modal","ModalSubscribeLite"));case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),openSubscribeModal:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isAuthUser){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.setModalUser({userId:this.id});case 4:if(this.isAuth){e.next=8;break}this.$nextTick((function(){i.$root.$emit("bv::show::modal","ModalSubscribe")})),e.next=32;break;case 8:if(!this.user.subscribePrice){e.next=12;break}this.$nextTick((function(){!1===i.isExpiredNow?i.doResubscribe():i.$root.$emit("bv::show::modal","ModalSubscribe")})),e.next=32;break;case 12:if(!this.authUser.isPaywallRestriction){e.next=16;break}this.$nextTick((function(){i.$root.$emit("bv::show::modal","ModalSubscribe")})),e.next=32;break;case 16:return e.prev=16,this.setSubscriptionInitiated(!0),window.showPreloader(),t=Object(b["a"])(this.$route.name),e.next=22,Object(l["Cb"])(this.id,{source:t});case 22:s=e.sent,window.hidePreloader(),this.setSubscriptionInitiated(!1),this.subscribeFinish(s),e.next=32;break;case 28:e.prev=28,e.t0=e["catch"](16),window.hidePreloader(),Object(f["b"])(e.t0);case 32:case"end":return e.stop()}}),e,this,[[16,28]])})));function t(){return e.apply(this,arguments)}return t}(),doEnableRenew:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.id,e.next=3,this.autoprolongToggle({id:t});case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),openUnsubscribeModal:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.id,this.user.canAddSubscriber&&!this.user.isSuspended&&!this.user.isFrozen){e.next=11;break}if(!this.isExpiredNow){e.next=6;break}this.suspendedSubscribeConfirmShow(),e.next=9;break;case 6:return e.next=8,this.setModalUser({userId:t});case 8:this.$nextTick((function(){s.$root.$emit("bv::show::modal","ModalUnsubscribe")}));case 9:e.next=18;break;case 11:if(!this.waitForExpire){e.next=15;break}this.autoprolongToggle(v({id:t},this.hasAnyPaidSubscription||this.isFromPaidToFree?{force:"on"}:{})),e.next=18;break;case 15:return e.next=17,this.setModalUser({userId:t});case 17:this.$nextTick((function(){s.$root.$emit("bv::show::modal","ModalUnsubscribe")}));case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),doResubscribe:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.interact(this.$t("message.dialog_resubscribe_desc_new",{AMOUNT:"<strong>".concat(this.amountHumanShort(this.user.subscribePrice),"</strong>"),DATE:"<strong>".concat(this.expiredDateHuman,"</strong>")}),{confirmText:this.$t("message.yes")});case 2:if(!e.sent){e.next=14;break}return e.prev=3,t=Object(b["a"])(this.$route.name),e.next=7,Object(l["rb"])(this.id,{source:t});case 7:s=e.sent,this.subscribeFinish(s),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](3),Object(f["b"])(e.t0);case 14:case"end":return e.stop()}}),e,this,[[3,11]])})));function t(){return e.apply(this,arguments)}return t}(),mouseover:function(){this.showHoverButtonData=!0},mouseleave:function(){this.showHoverButtonData=!1},clickCustomButton:function(e){e.target!==e.currentTarget&&this.openSubscribeModal()}})},y=_,w=s("2877"),O=Object(w["a"])(y,i,r,!1,null,null,null);t["a"]=O.exports},a3cb:function(e,t,s){"use strict";
/**
 * vue-unique-id v3.1.5
 * (c) 2020 Bertrand Guay-Paquet
 * @license ISC
 */var i={$idFactory:function(e){return function(t){return void 0===t&&(t=""),this[e]+"-"+t}},$idRef:function(e){return"#"+this.$id(e)}},r={uidProperty:"uid"};function n(e,t){void 0===t&&(t={});var s=t.uidProperty||r.uidProperty,n=0;e.mixin({beforeCreate:function(){var e;n+=1;var t="uid-"+n;Object.defineProperties(this,(e={},e[s]={get:function(){return t}},e))}}),e.prototype.$id=i.$idFactory(s),e.prototype.$idRef=i.$idRef}t["a"]=n},a4bb:function(e,t,s){e.exports=s("8aae")},a690:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-tabs__nav m-tab-rounded m-single-current m-sm-mb",class:{"m-with-counter":e.isChat}},[s("swiper",{directives:[{name:"swiper-mousewheel",rawName:"v-swiper-mousewheel"}],staticClass:"m-gaps-inside",class:{"m-gaps-outside":"lg"!==e.$mq&&e.isChat,"m-left-gap-outside":!e.isChat},attrs:{options:e.swiperOptions}},[s("swiper-slide",{key:"all"},[s("button",{staticClass:"b-tabs__nav__item",class:{"m-current":!e.currentFiltersIds.length},attrs:{type:"button"},on:{click:function(t){return e.setActiveFilters()}}},[s("span",{staticClass:"b-tabs__nav__text"},[e._v(e._s(e.$t("message.all_button")))])])]),e.isChat?e._e():[e.authUser.hasPurchasedPosts?s("swiper-slide",{key:"purchased"},[s("button",{staticClass:"b-tabs__nav__item",class:{"m-current":e.isActiveFilter("purchased")},attrs:{type:"button"},on:{click:function(t){return e.setActiveFilters("purchased")}}},[s("span",{staticClass:"b-tabs__nav__text"},[e._v(e._s(e.$t("message.feed_purchased_tab_title")))])])]):e._e(),e.authUser.paidFeed?s("swiper-slide",{key:"blurred"},[s("button",{staticClass:"b-tabs__nav__item",class:{"m-current":e.isActiveFilter("blurred")},attrs:{type:"button"},on:{click:function(t){return e.setActiveFilters("blurred")}}},[s("span",{staticClass:"b-tabs__nav__text"},[e._v(e._s(e.$t("message.feed_blurred_tab_title")))])])]):e._e()],e.isChat&&e.authUser.tipsEnabled?s("swiper-slide",{key:"who-tipped"},[s("button",{staticClass:"b-tabs__nav__item",class:{"m-current":e.isChat&&e.currentFiltersIds.includes("who_tipped")},attrs:{type:"button"},on:{click:function(t){return e.setActiveFilters("who_tipped")}}},[s("span",{staticClass:"b-tabs__nav__text m-capitalize"},[e._v(e._s(e.$t("message.whith_tips_title")))])])]):e._e(),e.isChat&&e.authUser.countPriorityChat>0?s("swiper-slide",{key:"priority"},[s("button",{staticClass:"b-tabs__nav__item",class:{"m-current":e.isChat&&e.currentFiltersIds.includes("priority")},attrs:{type:"button"},on:{click:function(t){return e.setActiveFilters("priority")}}},[s("span",{staticClass:"b-tabs__nav__text m-capitalize"},[e._v(e._s(e.$t("message.priority_button")))]),e.authUser.countPriorityChat>0?s("span",{staticClass:"b-tabs__nav__count"},[e._v(" "+e._s(e.authUser.countPriorityChat>999?"999+":e.authUser.countPriorityChat)+" ")]):e._e()])]):e._e(),e._l(e.filterButtons,(function(t){return s("swiper-slide",{key:t.id},[s("button",{staticClass:"b-tabs__nav__item",class:{"m-current":e.currentFiltersIds.includes(t.id)},attrs:{type:"button",disabled:e.isChat?!t.usersCount:!t.postsCount},on:{click:function(s){return e.setActiveFilters(t.id)}}},[s("span",{staticClass:"b-tabs__nav__text"},[e._v(e._s(e._f("encodeHtml")(t.name)))])])])})),s("swiper-slide",{key:"add"},[s("button",{staticClass:"b-tabs__nav__item",attrs:{type:"button"},on:{click:e.openModalPinCollectionsFilters}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-edit"})])])],2),s("feed-posts-filter",{directives:[{name:"show",rawName:"v-show",value:!e.isChat&&e.postsFilter,expression:"!isChat && postsFilter"}]}),s("modal-pin-collections-filters",{attrs:{"is-chat":e.isChat}})],1)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("a481"),s("6762"),s("2fdb"),s("75fc")),a=s("bd86"),o=s("d634"),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{id:"ModalPinCollectionsFilters","modal-class":"b-users-lists__modal",centered:"","header-class":"m-border-header","footer-class":"m-border-footer","body-class":"m-reset-body-padding-top m-reset-body-padding-bottom"},scopedSlots:e._u([{key:"modal-header",fn:function(){return[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.isChat?e.$t("message.pinned_lists"):e.$t("message.pin_to_home"))+" ")])]},proxy:!0},{key:"modal-footer",fn:function(){return[s("button",{staticClass:"g-btn m-flat m-btn-gaps m-reset-width",attrs:{type:"button"},on:{click:e.close}},[e._v(" "+e._s(e.$t("message.close_button"))+" ")])]},proxy:!0}]),model:{value:e.showSync,callback:function(t){e.showSync=t},expression:"showSync"}},[e.loading&&!e.couldBePinnedList.length?s("div",{staticClass:"b-posts_preloader_container show_more_container"},[s("spinner-loader")],1):e._e(),s("div",{staticClass:"b-users-lists m-collections-list m-native-custom-scrollbar m-scrollbar-y m-invisible-scrollbar"},[e._l(e.couldBePinnedList,(function(t){return s("label",{key:t,staticClass:"b-users-lists__item__label m-collection-item b-input-radio__container"},[s("input",{staticClass:"b-input-radio m-only-by-class",class:{"m-checked":e.pinnedIds.includes(t)},attrs:{id:"users-list-"+t,type:"checkbox"},domProps:{checked:e.pinnedIds.includes(t)},on:{change:function(s){return e.togglePinnedList(t)}}}),s("label",{staticClass:"b-input-radio__label",attrs:{for:"users-list-"+t}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-done"}),s("span",{staticClass:"b-input-ripple"})]),s("users-list",{attrs:{id:t,"is-modal":""}})],1)})),e.hasMore?s("infinite-loading",{key:e.infiniteId,on:{infinite:e.infiniteHandler}},[s("div",{staticClass:"b-posts_preloader_container show_more_container",attrs:{slot:"spinner"},slot:"spinner"},[s("spinner-loader")],1),s("div",{attrs:{slot:"no-more"},slot:"no-more"}),s("div",{attrs:{slot:"no-results"},slot:"no-results"})]):e._e()],2)])},u=[],l=(s("96cf"),s("3b8d")),d=s("e166"),h=s.n(d),p=s("84df"),m=s("e528"),f=s("b775");function b(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function g(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?b(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):b(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var v={name:"ModalPinCollectionsFilters",components:{UsersList:p["a"],InfiniteLoading:h.a,SpinnerLoader:m["a"]},props:{isChat:{type:Boolean,default:!1}},data:function(){return{showSync:!1,limit:f["e"],infiniteId:+new Date,hasMore:!1,offset:0}},computed:g({},Object(o["xc"])(["pinnedIds","currentFiltersIds","loading","couldBePinnedList"])),watch:{$route:function(){this.close()},showSync:{handler:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t||this.loading){e.next=7;break}return this.offset=0,this.infiniteId+=1,this.hasMore=!1,e.next=6,this.fetchUsersLists({more:!1,filter:this.isChat?"can_pin_chat":"can_pin",offset:this.offset});case 6:this.hasMore=!0;case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),immediate:!0}},methods:g(g({},Object(o["uc"])(["fetchUsersLists","updateUsersListPin","updateFeedFiltersAndRefetch"])),{},{infiniteHandler:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.loading){e.next=2;break}return e.abrupt("return");case 2:return this.offset+=f["e"],e.next=5,this.fetchUsersLists({more:!0,filter:this.isChat?"can_pin_chat":"can_pin",offset:this.offset});case 5:s=e.sent,s.length?t.loaded():(this.hasMore=!1,t.complete());case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),close:function(){this.showSync=!1},togglePinnedList:function(e){if(!this.loading){var t=!this.pinnedIds.includes(e);this.updateUsersListPin({listId:e,status:t}),this.currentFiltersIds.includes(e)&&!t&&this.updateFeedFiltersAndRefetch([])}}})},_=v,y=s("2877"),w=Object(y["a"])(_,c,u,!1,null,null,null),O=w.exports,C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-dropdown",{attrs:{right:"",offset:"4"},scopedSlots:e._u([{key:"button-content",fn:function(){return[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-sort"})]},proxy:!0}])},[s("b-dropdown-item-button",{on:{click:e.toggleIsHideLockedFeedPosts}},[e._v(" "+e._s(e.toggleLockedTitle)+" ")]),s("b-dropdown-item-button",{on:{click:e.toggleIsHidePromoFeedPosts}},[e._v(" "+e._s(e.togglePromoTitle)+" ")]),s("b-dropdown-item-button",{on:{click:e.toggleIsHideFeedPostsProfileBanners}},[e._v(" "+e._s(e.toggleBannersTitle)+" ")])],1)},k=[];function x(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function P(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?x(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):x(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var S={name:"FeedPostsFilter",computed:P(P({},Object(o["mb"])(["feedSettings"])),{},{toggleLockedTitle:function(){return this.feedSettings.isHideLockedFeedPosts?this.$t("message.show_all_locked_posts"):this.$t("message.hide_all_locked_posts")},togglePromoTitle:function(){return this.feedSettings.isHidePromoFeedPosts?this.$t("message.show_all_promo_posts"):this.$t("message.hide_all_promo_posts")},toggleBannersTitle:function(){return this.feedSettings.isHideFeedPostsProfileBanners?this.$t("message.show_profile_banners"):this.$t("message.hide_profile_banners")}}),methods:P({},Object(o["lb"])(["toggleIsHideLockedFeedPosts","toggleIsHidePromoFeedPosts","toggleIsHideFeedPostsProfileBanners"]))},j=S,M=Object(y["a"])(j,C,k,!1,null,null,null),I=M.exports,$=s("4ead");function L(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function T(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?L(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):L(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var U={name:"CollectionsFilters",components:{ModalPinCollectionsFilters:O,FeedPostsFilter:I},mixins:[$["a"]],props:{isChat:{type:Boolean,default:!1},postsFilter:{type:Boolean,default:!0}},data:function(){return{swiperOptions:{slidesPerView:"auto",watchOverflow:!0,spaceBetween:8,mousewheel:!0,threshold:5},isOpenUserPurchased:!1}},computed:T(T(T(T({},Object(o["vc"])(["getUsersList","getCurrentFilterIsPurchased"])),Object(o["xc"])(["pinnedIds","currentFiltersIds"])),Object(o["b"])(["authUser"])),{},{filterButtons:function(){var e=this;return this.pinnedIds.reduce((function(t,s){var i=e.getUsersList(s);return i?[].concat(Object(n["a"])(t),[i]):t}),[])}}),beforeMount:function(){this.$route.query.user&&this.currentFiltersIds.includes("purchased")&&(this.isOpenUserPurchased=!0),"Purchased"===this.$route.name&&(this.authUser.hasPurchasedPosts&&this.setActiveFilters("purchased"),this.$router.replace(T(T({},this.$route),{},{name:"Feed"}))),"Blurred"===this.$route.name&&(this.authUser.paidFeed&&this.setActiveFilters("blurred"),this.$router.replace(T(T({},this.$route),{},{name:"Feed"})))},methods:T(T({},Object(o["uc"])(["updateFeedFiltersAndRefetch"])),{},{isActiveFilter:function(e){return this.currentFiltersIds.includes(e)},setActiveFilters:function(e){!e&&!this.currentFiltersIds.length||this.isOpenUserPurchased?this.isOpenUserPurchased=!1:("Purchased"!==this.$route.name&&this.$emit("closeSearchOnFilterChange"),e&&this.currentFiltersIds.includes(e)?this.updateFeedFiltersAndRefetch([]):this.updateFeedFiltersAndRefetch(e?[e]:[]))},openModalPinCollectionsFilters:function(){this.$root.$emit("bv::show::modal","ModalPinCollectionsFilters")}})},D=U,E=Object(y["a"])(D,i,r,!1,null,null,null);t["a"]=E.exports},a7bc:function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},a8a6:function(e,t,s){"use strict";t["a"]={data:function(){return{CHAT_GAP_SIZE:186}},methods:{previewMediaWidth:function(e,t){var s,i;if(e&&e.info&&e.info.preview){var r=e.info.preview;s=r.width,i=r.height}if(!s||!i)return"";var n,a="squarePreview"===this.mediaPreviewType?1:i/s;n="squarePreview"===this.mediaPreviewType?"(min-width: ".concat(parseInt(s,10)+104,"px) and (min-height: ").concat(parseInt(s,10)+this.CHAT_GAP_SIZE,"px)"):"(min-width: ".concat(parseInt(s,10)+104,"px) and (min-height: ").concat(parseInt(i,10)+this.CHAT_GAP_SIZE,"px)");var o=window.matchMedia&&window.matchMedia(n);return t&&o.matches?"".concat(s,"px"):"calc((100vh - ".concat(this.CHAT_GAP_SIZE,"px) / ").concat(a,")")},previewMediaPaddingTop:function(e){var t,s;if(e&&e.info&&e.info.preview){var i=e.info.preview;t=i.width,s=i.height}return t&&s?"squarePreview"===this.mediaPreviewType?"100%":"".concat(s/t*100,"%"):""}}}},a8db:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var i=s("e265"),r=s.n(i),n=s("a4bb"),a=s.n(n);function o(e,t){if(null==e)return{};var s,i,r={},n=a()(e);for(i=0;i<n.length;i++)s=n[i],t.indexOf(s)>=0||(r[s]=e[s]);return r}function c(e,t){if(null==e)return{};var s,i,n=o(e,t);if(r.a){var a=r()(e);for(i=0;i<a.length;i++)s=a[i],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}},a915:function(e,t,s){"use strict";var i=s("4883"),r=[["normalize",s("4c26")],["block",s("34080")],["inline",s("a124")],["linkify",s("9921")],["replacements",s("bb4a")],["smartquotes",s("af30")]];function n(){this.ruler=new i;for(var e=0;e<r.length;e++)this.ruler.push(r[e][0],r[e][1])}n.prototype.process=function(e){var t,s,i;for(i=this.ruler.getRules(""),t=0,s=i.length;t<s;t++)i[t](e)},n.prototype.State=s("7133"),e.exports=n},aced:function(e){e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},ad97:function(e,t,s){"use strict";s("6762"),s("2fdb");t["a"]={data:function(){return{alreadyConfirmLeave:!1,beforeUnloadWatcher:null}},mounted:function(){this.alreadyConfirmLeave=!1},methods:{$_checkLeave_confirm:function(e){return window.confirm(this[e])},routerCheckLeave:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=t.conditionField,i=t.textField,r=t.component,n=void 0===r?"":r;return this.$router.beforeEach((function(t,r,a){if("story"===n&&["Feed","Purchased"].includes(t.name))a();else if("chat"!==n||t.path!==r.path)if(e[s]){if("checkLeaveConditionUploader"===s&&"/my/chats/send"===t.path&&"/my/chats/send"===r.path)return void a();if(e.alreadyConfirmLeave)return void a();var o=e.$_checkLeave_confirm(i);o?("Chat"!==t.name&&(e.alreadyConfirmLeave=!0),a()):a(!1)}else a();else a()}))},beforeunloadCheckLeave:function(e){var t=this,s=e.watchField,i=e.conditionField,r=e.eventField,n=e.funcField;this.beforeUnloadWatcher=this.$watch((function(e){return e[s]}),(function(){if(t[i]){if(!t[r]){t[r]=!0;try{window.addEventListener("beforeunload",t[n])}catch(e){t[r]=!1}}}else t[r]&&(t[r]=!1,window.removeEventListener("beforeunload",t[n]))}),{immediate:!0})}},beforeDestroy:function(){this.alreadyConfirmLeave=!1,"function"===typeof this.beforeUnloadWatcher&&this.beforeUnloadWatcher(),this.beforeUnloadWatcher=null}}},af30:function(e,t,s){"use strict";var i=s("0068").isWhiteSpace,r=s("0068").isPunctChar,n=s("0068").isMdAsciiPunct,a=/['"]/,o=/['"]/g,c="’";function u(e,t,s){return e.substr(0,t)+s+e.substr(t+1)}function l(e,t){var s,a,l,d,h,p,m,f,b,g,v,_,y,w,O,C,k,x,P,S,j;for(P=[],s=0;s<e.length;s++){for(a=e[s],m=e[s].level,k=P.length-1;k>=0;k--)if(P[k].level<=m)break;if(P.length=k+1,"text"===a.type){l=a.content,h=0,p=l.length;e:while(h<p){if(o.lastIndex=h,d=o.exec(l),!d)break;if(O=C=!0,h=d.index+1,x="'"===d[0],b=32,d.index-1>=0)b=l.charCodeAt(d.index-1);else for(k=s-1;k>=0;k--){if("softbreak"===e[k].type||"hardbreak"===e[k].type)break;if(e[k].content){b=e[k].content.charCodeAt(e[k].content.length-1);break}}if(g=32,h<p)g=l.charCodeAt(h);else for(k=s+1;k<e.length;k++){if("softbreak"===e[k].type||"hardbreak"===e[k].type)break;if(e[k].content){g=e[k].content.charCodeAt(0);break}}if(v=n(b)||r(String.fromCharCode(b)),_=n(g)||r(String.fromCharCode(g)),y=i(b),w=i(g),w?O=!1:_&&(y||v||(O=!1)),y?C=!1:v&&(w||_||(C=!1)),34===g&&'"'===d[0]&&b>=48&&b<=57&&(C=O=!1),O&&C&&(O=v,C=_),O||C){if(C)for(k=P.length-1;k>=0;k--){if(f=P[k],P[k].level<m)break;if(f.single===x&&P[k].level===m){f=P[k],x?(S=t.md.options.quotes[2],j=t.md.options.quotes[3]):(S=t.md.options.quotes[0],j=t.md.options.quotes[1]),a.content=u(a.content,d.index,j),e[f.token].content=u(e[f.token].content,f.pos,S),h+=j.length-1,f.token===s&&(h+=S.length-1),l=a.content,p=l.length,P.length=k;continue e}}O?P.push({token:s,pos:d.index,single:x,level:m}):C&&x&&(a.content=u(a.content,d.index,c))}else x&&(a.content=u(a.content,d.index,c))}}}}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&a.test(e.tokens[t].content)&&l(e.tokens[t].children,e)}},b117:function(e,t,s){"use strict";e.exports=function(e){var t={};t.src_Any=s("cbc7").source,t.src_Cc=s("a7bc").source,t.src_Z=s("4fc2").source,t.src_P=s("7ca0").source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var i="[><｜]";return t.src_pseudo_letter="(?:(?!"+i+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+i+"|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+i+"|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!+(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+i+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},b6a4:function(e,t,s){"use strict";s("8e6e"),s("ac6a"),s("456d"),s("96cf");var i=s("3b8d"),r=s("bd86"),n=s("d634");function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){Object(r["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={data:function(){return{disabledHideUserPost:!1}},computed:o(o({},Object(n["tc"])(["getUser"])),Object(n["xc"])(["currentFiltersIds"])),methods:o(o(o({},Object(n["sc"])(["toggleHiddenPosts"])),Object(n["lb"])(["filterHiddenUserFeedPosts"])),{},{hideUserPostsText:function(e){return e?this.$t("message.post_dropdown_hide_posts"):this.$t("message.post_dropdown_show_posts")},doHideUserPosts:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var s,r,n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=t.userId,r=t.isFeed,n=void 0!==r&&r,this.disabledHideUserPost=!0,this.$nextTick(Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.toggleHiddenPosts(s);case 2:t=a.getUser(s),!n||!t||!1!==t.showPostsInFeed||a.currentFiltersIds&&a.currentFiltersIds.length||(a.filterHiddenUserFeedPosts(s),alert(a.$t("message.hide_user_posts_from_feed_alert")));case 4:case"end":return e.stop()}}),e)})))),this.disabledHideUserPost=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()})}},baca:function(e,t,s){"use strict";function i(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,t){var s=e.pos;while(s<e.posMax&&!i(e.src.charCodeAt(s)))s++;return s!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,s)),e.pos=s,!0)}},bb4a:function(e,t,s){"use strict";var i=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,r=/\((c|tm|r|p)\)/i,n=/\((c|tm|r|p)\)/gi,a={c:"©",r:"®",p:"§",tm:"™"};function o(e,t){return a[t.toLowerCase()]}function c(e){var t,s,i=0;for(t=e.length-1;t>=0;t--)s=e[t],"text"!==s.type||i||(s.content=s.content.replace(n,o)),"link_open"===s.type&&"auto"===s.info&&i--,"link_close"===s.type&&"auto"===s.info&&i++}function u(e){var t,s,r=0;for(t=e.length-1;t>=0;t--)s=e[t],"text"!==s.type||r||i.test(s.content)&&(s.content=s.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1—").replace(/(^|\s)--(?=\s|$)/gm,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1–")),"link_open"===s.type&&"auto"===s.info&&r--,"link_close"===s.type&&"auto"===s.info&&r++}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(r.test(e.tokens[t].content)&&c(e.tokens[t].children),i.test(e.tokens[t].content)&&u(e.tokens[t].children))}},bb73:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.hasNote?s("div",[s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.noteTooltip,expression:"noteTooltip"}],class:{"b-tabs__nav__item":e.isButtonType,"g-btn m-flat m-reset-width m-no-uppercase m-default-font-weight m-gray":!e.isButtonType},attrs:{type:"button"},on:{click:e.openNoteModal}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-notes"}),e.isButtonType?s("span",{staticClass:"b-tabs__nav__text"},[e._v(" "+e._s(e.noteText)+" ")]):e._e()])]):e._e()},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),a=s("bd86"),o=(s("c5f6"),s("d634"));function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function u(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var l={name:"UserNote",props:{userId:{type:[String,Number],required:!0},type:{type:String,default:"button"}},computed:u(u(u({},Object(o["b"])(["authUser"])),Object(o["tc"])(["getUser"])),{},{noteText:function(){return this.userWithNote.notice?this.$t("message.edit_notes"):this.$t("message.add_notes")},noteTooltip:function(){return this.isButtonType?"":this.noteText},hasNote:function(){return this.authUser.isPerformer&&this.isUserWithNoteSubscriber},isButtonType:function(){return"button"===this.type},isUserWithNoteSubscriber:function(){return this.userWithNote.subscribedOn||this.userWithNote.subscribedOnExpiredNow},userWithNote:function(){return this.getUser(this.userId)||{}}}),methods:u(u({},Object(o["yc"])(["setModalUser"])),{},{openNoteModal:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.setModalUser({userId:this.userWithNote.id});case 2:this.$nextTick((function(){t.$root.$emit("bv::show::modal","ModalSubscriberNotes")}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()})},d=l,h=s("2877"),p=Object(h["a"])(d,i,r,!1,null,null,null);t["a"]=p.exports},bd68:function(e,t,s){"use strict";e.exports=s("aced")},bf2b:function(e,t,s){"use strict";e.exports=function(e,t,s,i){var r,n,a,o,c,u,l,d=!1,h=e.bMarks[t]+e.tShift[t],p=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(h+3>p)return!1;if(r=e.src.charCodeAt(h),126!==r&&96!==r)return!1;if(c=h,h=e.skipChars(h,r),n=h-c,n<3)return!1;if(l=e.src.slice(c,h),a=e.src.slice(h,p),96===r&&a.indexOf(String.fromCharCode(r))>=0)return!1;if(i)return!0;for(o=t;;){if(o++,o>=s)break;if(h=c=e.bMarks[o]+e.tShift[o],p=e.eMarks[o],h<p&&e.sCount[o]<e.blkIndent)break;if(e.src.charCodeAt(h)===r&&(!(e.sCount[o]-e.blkIndent>=4)&&(h=e.skipChars(h,r),!(h-c<n)&&(h=e.skipSpaces(h),!(h<p))))){d=!0;break}}return n=e.sCount[t],e.line=o+(d?1:0),u=e.push("fence","code",0),u.info=a,u.content=e.getLines(t+1,o,n,!0),u.markup=l,u.map=[t,e.line],!0}},c2d8:function(e,t,s){"use strict";var i=s("5706").HTML_TAG_RE;function r(e){var t=32|e;return t>=97&&t<=122}e.exports=function(e,t){var s,n,a,o,c=e.pos;return!!e.md.options.html&&(a=e.posMax,!(60!==e.src.charCodeAt(c)||c+2>=a)&&(s=e.src.charCodeAt(c+1),!(33!==s&&63!==s&&47!==s&&!r(s))&&(n=e.src.slice(c).match(i),!!n&&(t||(o=e.push("html_inline","",0),o.content=e.src.slice(c,c+n[0].length)),e.pos+=n[0].length,!0))))}},c34a:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-filter-counter__wrapper"},[s("div",{staticClass:"b-filter-counter__row m-ability-remove",class:{"g-pointer-cursor":e.clickable},on:{click:e.onClick}},[s("span",{staticClass:"b-filter-counter__row__icon-avatar"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-friends"})]),s("span",{staticClass:"g-btn m-rounded m-reset-width m-thumb-r-center-pos m-btn-remove m-secondary m-sm-icon-size",attrs:{"at-attr":"filter_delete_btn",type:"button"},on:{click:e.onRemove}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})]),e.isLoading?s("spinner-loader"):s("span",{staticClass:"b-username-row m-width-limit"},[s("span",{staticClass:"b-username"},[s("span",{staticClass:"g-user-name m-regular"},[e._v(" "+e._s(e.countText)+" ")])])])],1)])},r=[],n={name:"FilterCounter",props:{countText:{type:String,default:""},clickable:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},computed:{},methods:{onClick:function(){this.clickable&&this.$emit("click")},onRemove:function(){this.$emit("remove")}}},a=n,o=(s("9c07"),s("2877")),c=Object(o["a"])(a,i,r,!1,null,"5f8b711c",null);t["a"]=c.exports},c464:function(e,t,s){"use strict";var i={};function r(e){var t,s,r=i[e];if(r)return r;for(r=i[e]=[],t=0;t<128;t++)s=String.fromCharCode(t),/^[0-9a-z]$/i.test(s)?r.push(s):r.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t];return r}function n(e,t,s){var i,a,o,c,u,l="";for("string"!==typeof t&&(s=t,t=n.defaultChars),"undefined"===typeof s&&(s=!0),u=r(t),i=0,a=e.length;i<a;i++)if(o=e.charCodeAt(i),s&&37===o&&i+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))l+=e.slice(i,i+3),i+=2;else if(o<128)l+=u[o];else if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&i+1<a&&(c=e.charCodeAt(i+1),c>=56320&&c<=57343)){l+=encodeURIComponent(e[i]+e[i+1]),i++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(e[i]);return l}n.defaultChars=";/?:@&=+$,-_.!~*'()#",n.componentChars="-_.!~*'()",e.exports=n},c8a9:function(e,t,s){"use strict";function i(e,t){var s,i,r,n,a,o,c=t.length;for(s=c-1;s>=0;s--)i=t[s],95!==i.marker&&42!==i.marker||-1!==i.end&&(r=t[i.end],o=s>0&&t[s-1].end===i.end+1&&t[s-1].token===i.token-1&&t[i.end+1].token===r.token+1&&t[s-1].marker===i.marker,a=String.fromCharCode(i.marker),n=e.tokens[i.token],n.type=o?"strong_open":"em_open",n.tag=o?"strong":"em",n.nesting=1,n.markup=o?a+a:a,n.content="",n=e.tokens[r.token],n.type=o?"strong_close":"em_close",n.tag=o?"strong":"em",n.nesting=-1,n.markup=o?a+a:a,n.content="",o&&(e.tokens[t[s-1].token].content="",e.tokens[t[i.end+1].token].content="",s--))}e.exports.tokenize=function(e,t){var s,i,r,n=e.pos,a=e.src.charCodeAt(n);if(t)return!1;if(95!==a&&42!==a)return!1;for(i=e.scanDelims(e.pos,42===a),s=0;s<i.length;s++)r=e.push("text","",0),r.content=String.fromCharCode(a),e.delimiters.push({marker:a,length:i.length,jump:s,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0},e.exports.postProcess=function(e){var t,s=e.tokens_meta,r=e.tokens_meta.length;for(i(e,e.delimiters),t=0;t<r;t++)s[t]&&s[t].delimiters&&i(e,s[t].delimiters)}},c992:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-chats__conversations m-base-chat",class:{"scroll-list-chats":e.chatsScrollClass},attrs:{"at-attr":"chat_page_locator"}},[e.isMobileChatPage?e._e():s("chats-list"),e.mobileVersion?e._e():s("chat-not-active"),s("router-view"),e.isLoading?s("spinner-loader",{staticClass:"b-spinner-processing text-center",class:{"empty-chats":e.mobileVersion}}):e._e()],1)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),a=s("d634"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{"b-chats__conversations-list":!e.mobileVersion,"b-chats__list":e.mobileVersion}},[s("chats-header",{attrs:{"deselect-all-state":e.deselectAllState,"show-selected-btn":e.showSelectedBtn},on:{"update:deselectAllState":function(t){e.deselectAllState=t},"update:deselect-all-state":function(t){e.deselectAllState=t},click:e.scrollTo,selectedUsers:e.selectedUsers}}),e.authUser.isPerformer?s("queue-messages"):e._e(),s("div",{staticClass:"b-page-content g-sides-gaps"},[s("div",{ref:"listScroller",staticClass:"b-chats__scroller",class:{"h-100":e.noSearchResult,"m-native-custom-scrollbar m-scrollbar-y m-invisible-scrollbar m-scroll-behavior-auto":!e.mobileVersion}},[s("div",{staticClass:"b-users-lists-wrapper"},[s("filters",{attrs:{"show-selected-btn":e.showSelectedBtn},on:{selectedUsers:e.selectedUsers}}),s("feed-collections-filter",{attrs:{"is-chat":""}}),e.isUserslistFetched?s("div",{staticClass:"b-chats__list-dialogues"},[e.chatsByType.length?s("swipe-list",{ref:"chatsList",staticClass:"b-chats__list-wrapper",class:{"m-loading-items":e.chatsListHasMore},attrs:{items:e.chatsByTypeSorted,"item-key":"withUser",revealed:e.revealed,threshold:100},on:{"update:revealed":function(t){e.revealed=t}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.item;return[i?s("chats-item",{key:i.withUser,attrs:{chat:i,"show-selected-btn":e.showSelectedBtn}}):e._e()]}},{key:"right",fn:function(t){var i=t.item;return[i?s("span",{staticClass:"b-chats__mark-as-read-label"},[e._v(" "+e._s(i.unreadMessagesCount?e.$t("message.swipe_dialog_to_mark_it_as_read"):e.$t("message.swipe_dialog_to_mark_it_as_un_read"))+" ")]):e._e()]}}],null,!1,2294387198)}):e._e(),s("infinite-loading",{key:e.infiniteId,attrs:{identifier:e.infiniteId},on:{infinite:e.infiniteHandler}},[s("div",{staticClass:"b-posts_preloader_container show_more_container",attrs:{slot:"spinner"},slot:"spinner"},[s("spinner-loader")],1),s("div",{attrs:{slot:"no-more"},slot:"no-more"}),s("div",{attrs:{slot:"no-results"},slot:"no-results"},[e.noSearchResult?s("div",{staticClass:"b-chat__search-nothing"},[e._v(" "+e._s(e.$t("message.not_search_user_chat"))+' "'+e._s(e.$route.query.q)+'" ')]):e.chatsByType.length?e._e():s("p",{staticClass:"empty-message show"},[e._v(" "+e._s(e.$t("message.nothing_found_message"))+" ")])])])],1):e._e()],1)])])],1)},c=[],u=(s("6762"),s("2fdb"),s("96cf"),s("3b8d")),l=(s("55dd"),s("2ef0")),d=(s("3ebf"),s("c5f6"),{});function h(e){return 0===e.button}function p(e){return e.touches&&e.touches[0]?e=e.touches[0]:e.changedTouches&&e.changedTouches[0]&&(e=e.changedTouches[0]),{top:e.clientY,left:e.clientX}}Object.defineProperty(d,"passive",{configurable:!0,get:function(){var e;try{var t=Object.defineProperty({},"passive",{get:function(){e={passive:!0}}});window.addEventListener("qtest",null,t),window.removeEventListener("qtest",null,t)}catch(s){}return d.passive=e,e},set:function(e){Object.defineProperty(this,"passive",{value:e})}});function m(e,t,s){var i=t.target;s.touchTargetObserver=new MutationObserver((function(){!1===e.contains(i)&&s.end(t)})),s.touchTargetObserver.observe(e,{childList:!0,subtree:!0})}function f(e){void 0!==e.touchTargetObserver&&(e.touchTargetObserver.disconnect(),e.touchTargetObserver=void 0)}function b(e){var t=!0!==e.horizontal&&!0!==e.vertical,s={all:!0===t||!0===e.horizontal&&!0===e.vertical};return!0!==e.horizontal&&!0!==t||(s.horizontal=!0),!0!==e.vertical&&!0!==t||(s.vertical=!0),s}function g(e,t,s){var i,r=p(e),n=r.left-t.event.x,a=r.top-t.event.y,o=Math.abs(n),c=Math.abs(a);return i=t.direction.horizontal&&!t.direction.vertical?n<0?"left":"right":!t.direction.horizontal&&t.direction.vertical?a<0?"up":"down":o>=c?n<0?"left":"right":a<0?"up":"down",{evt:e,position:r,direction:i,isFirst:t.event.isFirst,isFinal:!0===s,isMouse:t.event.mouse,duration:(new Date).getTime()-t.event.time,distance:{x:o,y:c},offset:{x:n,y:a},delta:{x:r.left-t.event.lastX,y:r.top-t.event.lastY}}}function v(e,t){return!(!e.direction.horizontal||!e.direction.vertical)||(e.direction.horizontal&&!e.direction.vertical?Math.abs(t.delta.x)>0:!e.direction.horizontal&&e.direction.vertical?Math.abs(t.delta.y)>0:void 0)}var _={name:"touch-pan",bind:function(e,t){var s=!0===t.modifiers.mouse,i=!0!==t.modifiers.mouseMightPrevent&&!0!==t.modifiers.mousePrevent,r=void 0===d.passive||{passive:i,capture:!0},n=!0!==t.modifiers.mightPrevent&&!0!==t.modifiers.prevent,a=n?d.passive:null;function o(e,i){s&&i?(t.modifiers.mouseStop&&e.stopPropagation(),t.modifiers.mousePrevent&&e.preventDefault()):(t.modifiers.stop&&e.stopPropagation(),t.modifiers.prevent&&e.preventDefault())}var c={handler:t.value,direction:b(t.modifiers),mouseStart:function(e){h(e)&&(document.addEventListener("mousemove",c.move,r),document.addEventListener("mouseup",c.mouseEnd,r),c.start(e,!0))},mouseEnd:function(e){document.removeEventListener("mousemove",c.move,r),document.removeEventListener("mouseup",c.mouseEnd,r),c.end(e)},start:function(t,s){f(c),!0!==s&&m(e,t,c);var i=p(t);c.event={x:i.left,y:i.top,time:(new Date).getTime(),mouse:!0===s,detected:!1,abort:!1,isFirst:!0,isFinal:!1,lastX:i.left,lastY:i.top}},move:function(e){if(c.event&&!0!==c.event.abort)if(!0!==c.event.detected){var s=p(e),i=Math.abs(s.left-c.event.x),r=Math.abs(s.top-c.event.y);i!==r&&(c.event.detected=!0,!1!==c.direction.all||!1!==c.event.mouse&&!0===t.modifiers.mouseAllDir||(c.event.abort=c.direction.vertical?i>r:i<r),!0!==c.event.abort&&(document.documentElement.style.cursor="grabbing",document.body.classList.add("swipeout-no-pointer-events"),document.body.classList.add("swipeout-non-selectable")),c.move(e))}else{o(e,c.event.mouse);var n=g(e,c,!1);v(c,n)&&(c.handler(n),c.event.lastX=n.position.left,c.event.lastY=n.position.top,c.event.isFirst=!1)}},end:function(e){c.event&&(!0!==c.event.mouse&&f(c),document.documentElement.style.cursor="",document.body.classList.remove("swipeout-no-pointer-events"),document.body.classList.remove("swipeout-non-selectable"),!0!==c.event.abort&&!0===c.event.detected&&!0!==c.event.isFirst&&(o(e,c.event.mouse),c.handler(g(e,c,!0))))}};e.__qtouchpan&&(e.__qtouchpan_old=e.__qtouchpan),e.__qtouchpan=c,!0===s&&e.addEventListener("mousedown",c.mouseStart,r),e.addEventListener("touchstart",c.start,a),e.addEventListener("touchmove",c.move,a),e.addEventListener("touchcancel",c.end,a),e.addEventListener("touchend",c.end,a)},update:function(e,t){var s=t.oldValue,i=t.value,r=t.modifiers,n=e.__qtouchpan;s!==i&&(n.handler=i),r.horizontal===n.direction.horizontal&&r.vertical===n.direction.vertical||(n.direction=b(r))},unbind:function(e,t){var s=e.__qtouchpan_old||e.__qtouchpan;if(void 0!==s){f(s),document.documentElement.style.cursor="",document.body.classList.remove("swipeout-no-pointer-events"),document.body.classList.remove("swipeout-non-selectable");var i=!0===t.modifiers.mouse,r=!0!==t.modifiers.mouseMightPrevent&&!0!==t.modifiers.mousePrevent,n=void 0===d.passive||{passive:r,capture:!0},a=!0!==t.modifiers.mightPrevent&&!0!==t.modifiers.prevent,o=a?d.passive:null;!0===i&&(e.removeEventListener("mousedown",s.mouseStart,n),document.removeEventListener("mousemove",s.move,n),document.removeEventListener("mouseup",s.mouseEnd,n)),e.removeEventListener("touchstart",s.start,o),e.removeEventListener("touchmove",s.move,o),e.removeEventListener("touchcancel",s.end,o),e.removeEventListener("touchend",s.end,o),delete e[e.__qtouchpan_old?"__qtouchpan_old":"__qtouchpan"]}}};function y(e){return 0===e?"":"translate3d(".concat(e,"px, 0, 0)")}function w(e){return e?e.clientWidth:0}function O(e,t){return!e&&!t||e===t}var C={name:"SwipeOut",directives:{touchPan:_},props:{threshold:{type:Number,default:45},revealed:{type:[String,Boolean]},disabled:{type:Boolean,default:!1},passiveListeners:{type:Boolean,default:!1}},watch:{revealed:function(e){this.innerRevealed!==e&&this._reveal(e,!0)}},data:function(){return{innerRevealed:this.revealed||!1}},methods:{closeActions:function(){this.close()},close:function(){this._isActive||this._reveal(!1,!0)},revealLeft:function(){!this._isActive&&this.$refs.left&&this._reveal("left",!0)},revealRight:function(){!this._isActive&&this.$refs.right&&this._reveal("right",!0)},_distanceSwiped:function(){var e=this.$refs.content.getBoundingClientRect(),t=this.$el.getBoundingClientRect();return e.left-t.left-this.$el.clientLeft},_onPan:function(e){return this.disabled?null:e.isFirst?this._startListener(e):this._isActive?e.isFinal?this._stopListener(e):this._swipeListener(e):null},_startListener:function(e){var t=e.distance;this.$el.classList.add("swipeout--no-transition"),t.y<=5&&(this._leftActionsWidth=this.$refs.left?this.$refs.left.clientWidth:0,this._rightActionsWidth=this.$refs.right?this.$refs.right.clientWidth:0,this._startLeft=this._distanceSwiped(),this._isActive=!0,this.$emit("active",!0),clearTimeout(this._timer))},_swipeListener:function(e){var t=e.offset,s=t.x+this._startLeft;return!this.$scopedSlots.left&&s>0||!this.$scopedSlots.right&&s<0?this._animateSlide(0):this._animateSlide(t.x+this._startLeft)},_stopListener:function(e){var t=e.offset,s=e.distance;this.$el.classList.remove("swipeout--no-transition"),this._isActive=!1,this.$emit("active",!1);var i=this._startLeft+t.x;return 0===this._startLeft&&Math.abs(i)<=this.threshold||s.x>=this.threshold&&(this._startLeft>0&&s.x<this._leftActionsWidth||this._startLeft<0&&s.x<this._rightActionsWidth)?this._reveal(!1):this._reveal(i>0?"left":"right")},_reveal:function(e,t){if(!this._isActive||!O(this.innerRevealed,e))return e&&!this.$refs[e]&&(e=!1),this.innerRevealed=e,this.$emit("update:revealed",e),e?"left"===e&&this.$refs.left?(this._leftActionsWidth=t?w(this.$refs.left):this._leftActionsWidth,this._animateSlide(this._leftActionsWidth),this.$emit("revealed",{side:"left",close:this.closeActions}),void this.$emit("leftRevealed",{close:this.closeActions})):void("right"===e&&this.$refs.right&&(this._rightActionsWidth=t?w(this.$refs.right):this._rightActionsWidth,this._animateSlide(-this._rightActionsWidth),this.$emit("revealed",{side:"right",close:this.closeActions}),this.$emit("rightRevealed",{close:this.closeActions}))):(this._animateSlide(0),void this.$emit("closed"))},_shiftLeftActions:function(e){if(this.$scopedSlots.left){e<0&&(e=0);for(var t=this.$refs.left,s=this._leftActionsWidth,i=1-Math.min(e/s,1),r=Math.min(e,s),n=t.children,a=n.length,o=0;o<a;o++){var c=n[o],u=s-c.offsetLeft-c.offsetWidth;c.style.transform=y(r+u*i),a>1&&(c.style.zIndex="".concat(a-o))}}},_shiftRightActions:function(e){if(this.$scopedSlots.right){e>0&&(e=0);for(var t=this.$refs.right,s=this._rightActionsWidth,i=1+Math.max(e/s,-1),r=Math.max(e,-s),n=t.children,a=0;a<n.length;a++){var o=n[a];o.style.transform=y(r-o.offsetLeft*i)}}},_animateSlide:function(e){var t=this;cancelAnimationFrame(this._frame),this._frame=requestAnimationFrame((function(){t.$refs.content.style.transform=y(e),t._shiftLeftActions(e),t._shiftRightActions(e)}))}},render:function(e){var t=[],s=this.$scopedSlots,i=s.left,r=s.right,n=s.default;return i&&t.push(e("div",{ref:"left",staticClass:"swipeout-left"},i({close:this.closeActions}))),r&&t.push(e("div",{ref:"right",staticClass:"swipeout-right"},r({close:this.closeActions}))),t.push(e("div",{ref:"content",staticClass:"swipeout-content",directives:this.disabled||!i&&!r?null:[{name:"touch-pan",value:this._onPan,modifiers:{horizontal:!0,mouse:!0,prevent:!this.passiveListeners,mousePrevent:!0}}]},n?n({revealLeft:this.revealLeft,revealRight:this.revealRight,disabled:this.disabled,close:this.closeActions,revealed:this.innerRevealed}):null)),e("div",{staticClass:"swipeout",class:{"swipeout--disabled":this.disabled}},t)},beforeDestroy:function(){clearTimeout(this._timer),cancelAnimationFrame(this._frame)}},k=(s("ac4d"),s("8a81"),s("0122")),x=s("a8db");function P(e){var t=S(e,"string");return"symbol"===Object(k["a"])(t)?t:String(t)}function S(e,t){if("object"!==Object(k["a"])(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,t||"default");if("object"!==Object(k["a"])(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function j(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function M(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?j(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):j(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var I={name:"SwipeList",props:{items:{type:Array,required:!0},itemKey:{type:String},transitionKey:{type:String},threshold:{type:Number,default:45},revealed:{type:Object},disabled:{type:Boolean,default:!1},itemDisabled:{type:Function,default:function(){return!1}},passiveListeners:{type:Boolean,default:!1}},data:function(){return{innerRevealed:this.revealed||{},rev:this.items.map((function(){return null}))}},watch:{revealed:function(e){this.innerRevealed=e},items:function(){this._emitRevealed({})}},methods:{revealRight:function(e){this.$refs.items[e]&&this.$refs.items[e].revealRight()},revealLeft:function(e){this.$refs.items[e]&&this.$refs.items[e].revealLeft()},close:function(e){if(this.$refs.items){if(void 0===e)return this.$refs.items.forEach((function(e){return e.close()}));if(this.$refs.items[e])return this.$refs.items[e].close()}},isRevealed:function(e){return this.innerRevealed[e]||!1},closeActions:function(e){this.close(e)},_onReveal:function(e,t,s){this.$emit("revealed",{index:t,item:e,side:s.side,close:s.close}),this._emitRevealed(M(M({},this.innerRevealed),{},Object(n["a"])({},t,s.side)))},_onClose:function(e,t){this.$emit("closed",{index:t,item:e});var s=this.innerRevealed,i=(s[t],Object(x["a"])(s,[t].map(P)));this._emitRevealed(i)},_getItemKey:function(e,t){var s=this.itemKey||this.transitionKey;return void 0!==s?e[this.itemKey||this.transitionKey]:t},_emitRevealed:function(e){void 0===this.revealed?this.innerRevealed=e:this.$emit("update:revealed",e)},__renderItem:function(e,t,s){var i=this,r=this.$scopedSlots,n=r.left,a=r.right,o=r.default,c={};return n&&(c.left=function(e){var i=e.close;return n({item:t,close:i,index:s})}),a&&(c.right=function(e){var i=e.close;return a({item:t,close:i,index:s})}),c.default=function(r){var n=r.close,a=r.disabled,c=r.revealLeft,u=r.revealRight,l=r.revealed;return e("div",{ref:"itemsContent",on:{click:function(){return i.$emit("swipeout:click",t)}}},o({item:t,index:s,close:n,disabled:a,revealed:l,revealLeft:c,revealRight:u}))},e(C,{key:s,ref:"items",refInFor:!0,staticClass:"swipeout-list-item",props:{disabled:this.disabled||this.itemDisabled(t),threshold:this.threshold,revealed:this.innerRevealed[s],passiveListeners:this.passiveListeners},on:{revealed:function(e){return i._onReveal(t,s,e)},leftRevealed:function(e){return i.$emit("leftRevealed",{index:s,item:t,close:e.close})},rightRevealed:function(e){return i.$emit("rightRevealed",{index:s,item:t,close:e.close})},closed:function(e){return i._onClose(t,s,e)},active:function(e){return i.$emit("active",e)}},scopedSlots:c})}},render:function(e){var t=this;return e("div",{staticClass:"swipeout-list",class:{"swipeout--disabled":this.disabled}},this.items.map((function(s,i){return t.__renderItem(e,s,i)})))}},$=s("e166"),L=s.n($),T=s("e528"),U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.chat?s("div",{staticClass:"b-chats__item m-with-rectangle-hover",class:{"m-muted":!e.isAvailableChat||e.chat.isMutedNotifications,"m-muted-by-me":!e.isAvailableChat,"m-unread":!!e.chat.unreadMessagesCount,"m-unread-muted":e.isUnreadMuted,current:e.isCurrent,"m-muted-notifications":e.chat.isMutedNotifications&&e.isAvailableChat,"m-item-choice":e.showSelectedBtn},attrs:{id:e.chat.withUser}},[s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.chat_clear_message"),expression:"$t('message.chat_clear_message')"}],staticClass:"b-chats__item__btn-clear m-with-round-hover m-size-sm-hover",attrs:{type:"button"},on:{click:e.deleteConfirmShow}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close",attrs:{"extra-class":"m-aligned-top"}})]),e.showSelectedBtn?s("span",{staticClass:"b-input-radio__label b-chats__available-users__item__checkbox m-dialog-select",class:{"m-active":e.inSelected}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-done"}),s("span",{staticClass:"b-input-ripple"})]):e._e(),s("avatar",{staticClass:"m-border-line-theme m-chat-avatar m-valign-center m-absolute",class:{"m-no-pointer":e.showSelectedBtn},attrs:{"user-id":e.withUser.id,size:50,"is-link":e.chat.canGoToProfile&&!e.showSelectedBtn}}),s("router-link",{staticClass:"b-chats__item__link",class:{selected:e.inSelected},attrs:{to:{name:"Chat",params:{chatId:e.chat.withUser},query:{q:e.$route.query.q}},replace:!!e.$route.params.chatId,custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.href,r=t.navigate;return[s("a",{attrs:{href:i},on:{click:function(t){return e.goUserChat(t,r)}}},[s("div",{staticClass:"b-chats__item__user b-username-row"},[s("div",{staticClass:"b-username m-flex"},[s("span",{staticClass:"g-user-name m-md-size",attrs:{"at-attr":"chat_list_user_name"},domProps:{innerHTML:e._s(e.userName)}}),e.withUser.isVerified?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-verified",attrs:{"extra-class":"m-verified-icon"}}):e._e(),e.isInactiveUser?e._e():s("span",{staticClass:"g-user-username m-md-size"},[e._v(" @"+e._s(e.withUser.username)+" ")])])]),s("div",{staticClass:"b-chats__item__body"},[s("div",{staticClass:"b-chats__item__last-message",class:{"m-light-color":e.isEmptyMsgTitle||e.isMineMessage}},[e.chat.typing?s("em",{staticClass:"chat-is-typing"},[e._v(" "+e._s(e.$t("message.chat_is_typing_message"))+" "),s("span",{staticClass:"hellip-animate"},[e._v("...")])]):[e.isEmptyLastMessage?s("span",{staticClass:"b-chats__item__media-label"},[e._v(" "+e._s(e.$t("message.chat_is_empty"))+" ")]):e._e(),e.draftItem?s("div",{staticClass:"b-chats__item__last-message"},[s("span",{staticClass:"b-chats__item__draft-label"},[e._v(" ["+e._s(e.$t("message.draft_title_msg"))+"] ")]),s("div",{staticClass:"b-chats__item__last-message__icons"},[e.draftItem.uploadedFiles.length&&!e.draftItem.tipValue?s("div",{staticClass:"b-chats__item__last-message__icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-media"}),e.draftItem.text.length?e._e():s("span",[e._v(e._s(e.$t("message.chats_files")))])]):e._e(),e.draftItem.tipValue?s("div",{staticClass:"b-chats__item__last-message__icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-funds"}),e.draftItem.text.length?e._e():s("span",[e._v(e._s(e.$t("message.subscribers_activity_tips_summ_title")))])]):e._e()]),e.draftItem.text?s("div",{staticClass:"b-chats__item__last-message__content"},[s("span",{staticClass:"b-chats__item__last-message__text",domProps:{innerHTML:e._s(e.draftItem.text)}})]):e._e()]):e.lastMessage.isFree||e.lastMessage.isOpened||e.isMineMessage?[e.lastMessage.mediaCount?s("div",{staticClass:"b-chats__item__last-message__icons"},[e.lastMessage.isTip?e._e():s("div",{staticClass:"b-chats__item__last-message__icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-media"})])]):e._e(),e.lastMessage.isTip?[s("div",{staticClass:"b-chats__item__last-message__icons"},[s("div",{staticClass:"b-chats__item__last-message__icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.tooltip_tip"),expression:"$t('message.tooltip_tip')"}],staticClass:"icon-funds"}),s("span",{staticClass:"b-chats__item__last-message__icon-value"},[e._v(" "+e._s("$"+e.lastMessage.tipAmount)+" ")])])]),s("div",{staticClass:"b-chats__item__last-message__content"},[s("span",{staticClass:"b-chats__item__last-message__text",domProps:{innerHTML:e._s(e.lastMessageText)}})])]:s("div",{staticClass:"b-chats__item__last-message__content"},[e.lastMessageText?s("span",{staticClass:"b-chats__item__last-message__text",domProps:{innerHTML:e._s(e.lastMessageText)}}):e.lastMessage.mediaCount?s("span",{staticClass:"b-chats__item__media-label",domProps:{innerHTML:e._s(e.$t("message.chat_message_media_label"))}}):e._e()])]:[!e.lastMessage.isTip&&e.lastMessage.mediaCount?s("div",{staticClass:"b-chats__item__last-message__icons"},[s("div",{staticClass:"b-chats__item__last-message__icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-media"})])]):e._e(),s("div",{staticClass:"b-chats__item__last-message__content"},[e.isLockedMsg?s("span",{staticClass:"b-chats__item__media-label"},[e._v(" "+e._s(e.$t("message.locked_message_text_message_new"))+" ")]):e._e(),e.isLockedMsgText?s("span",{staticClass:"b-chats__item__media-label",domProps:{innerHTML:e._s(e.lastMessageText)}}):e._e()])]]],2),e.chat.typing?e._e():s("div",{staticClass:"b-chats__item__time"},[s("utils-time",{attrs:{date:e.lastMessage.createdAt,type:"chat"}})],1),e.chat.unreadMessagesCount?s("span",{staticClass:"b-chats__item__uread-count text-center"}):e._e(),s("span",{staticClass:"b-icon-state-dialog",class:{"m-lighten":e.isNotificationState}},[e.isMuteState?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:e.isMutedStateTooltip,expression:"isMutedStateTooltip"}],staticClass:"icon-mute"}):e._e(),e.isNotificationState?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.chat_muted_notifications"),expression:"$t('message.chat_muted_notifications')"}],staticClass:"icon-notification-off"}):e._e(),e.isAlertState?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.chat_expired_subscription"),expression:"$t('message.chat_expired_subscription')"}],staticClass:"icon-alert"}):e._e()])])])]}}],null,!1,2184735882)})],1):e._e()},D=[],E=(s("a481"),s("9b02")),A=s.n(E),F=s("33a44"),B=s("b48d"),R=s("f747"),N=s("8975"),q=s("79bb"),V=s("998d");function z(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function H(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?z(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):z(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var G={name:"ChatsItem",components:{UtilsTime:F["a"],Avatar:B["a"]},mixins:[R["a"]],props:{chat:{type:Object,required:!0},showSelectedBtn:{type:Boolean,default:!1}},computed:H(H(H(H(H(H(H({},Object(a["b"])(["authUserId","authUser"])),Object(a["tc"])(["getUser"])),Object(a["l"])(["getMessage"])),Object(a["n"])(["selectedUsers"])),Object(a["Cb"])(["userLoginPrefix"])),Object(a["x"])(["chatDraft"])),{},{isCurrent:function(){return Number(this.withUser.id)===Number(this.$route.params.chatId)},withUser:function(){return this.getUser(this.chat.withUser)},lastMessage:function(){var e=this.chat.messages&&this.chat.messages.length>0&&this.chat.messages[this.chat.messages.length-1];return this.getMessage(this.chat.lastMessage)||this.getMessage(e)||{}},isInactiveUser:function(){return"user_inactive"===this.chat.canNotSendReason},isMineMessage:function(){return this.lastMessage.fromUser===this.authUserId},userName:function(){return this.isInactiveUser?this.$t("message.inactive_user"):this.withUser.displayName?this.withUser.name==="".concat(this.userLoginPrefix).concat(this.withUser.id)?this.withUser.displayName:"".concat(this.withUser.displayName,' <span class="g-gray-text">(').concat(this.withUser.name,")</span>"):this.withUser.name},isAvailableChat:function(){return!this.withUser.isRestricted&&Object(V["a"])(this.authUser,this.chat)},isEmptyMsgTitle:function(){return!this.lastMessageText&&!this.lastMessage.mediaCount},isLockedMsg:function(){return(this.lastMessage.lockedText||!this.lastMessage.lockedText&&!this.lastMessageText)&&!this.lastMessage.isOpened&&!this.lastMessage.isFree},isLockedMsgText:function(){return!this.lastMessage.lockedText&&this.lastMessageText&&!this.lastMessage.isOpened&&!this.lastMessage.isFree},isMuteState:function(){return!this.isAvailableChat&&!this.isAlertState},isNotificationState:function(){return this.chat.isMutedNotifications&&this.isAvailableChat},isAlertState:function(){return"unsubscribed"===this.chat.canNotSendReason},isUnreadMuted:function(){return void 0!==this.chat.isMutedNotifications&&void 0!==this.chat.canNotSendReason&&(!!this.chat.unreadMessagesCount&&!this.lastMessage.isTip&&(this.chat.isMutedNotifications||!1!==this.chat.canNotSendReason&&"only_friends"!==this.chat.canNotSendReason))},isEmptyLastMessage:function(){return Object(l["isEmpty"])(this.lastMessage)||!this.lastMessageText&&!this.lastMessage.mediaCount},lastMessageText:function(){return Object(l["isEmpty"])(this.lastMessage)?"":Object(N["c"])(Object(q["a"])(this.lastMessage.tipText||this.lastMessage.text))},draftItem:function(){return this.isAvailableChat&&this.withUser&&A()(this,"chatDraft[".concat(this.withUser.id,"]"),null)},inSelected:function(){return this.selectedUsers&&this.selectedUsers.length&&this.selectedUsers.includes(this.chat.withUser)}}),methods:H(H(H({},Object(a["k"])(["deleteChat"])),Object(a["m"])(["setSelectedUsers","removeSelectedUserById"])),{},{deleteConfirmShow:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.interact(this.$t("message.confirm_delete_chat_desc"),{confirmText:this.$t("message.yes")});case 2:t=e.sent,t&&this.clearMessages();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),clearMessages:function(){this.deleteChat(this.chat.withUser),this.removeSelectedUserById(this.chat.withUser),this.isCurrent&&this.$router.replace({name:"Chats"})},goUserChat:function(e,t){this.showSelectedBtn?(e.preventDefault(),this.setSelectedUsers(this.chat.withUser)):t(e)}})},Q=G,W=s("2877"),Z=Object(W["a"])(Q,U,D,!1,null,null,null),Y=Z.exports,K=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-chats__header g-page__header m-reset-mb m-real-sticky m-reset-sides-gaps",class:{"m-search-form-visible m-search-header":e.isShowSearch}},[e.showSelectedBtn?[s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.clear_button"),expression:"$t('message.clear_button')"}],staticClass:"g-page__header__btn m-with-round-hover",on:{click:e.unselect}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})]),s("h1",{staticClass:"g-page-title"},[e.selectedUsers.length?[e._v(" "+e._s(e.selectedUsers.length)+" "+e._s(e.$t("message.selected"))+" ")]:[e._v(" "+e._s(e.$t("message.select_chat"))+" ")]],2),s("div",{staticClass:"b-btns-group m-lg-gaps-between-btns"},[s("button",{staticClass:"g-btn m-flat m-no-uppercase m-reset-width",class:{"m-text":!e.selectedUsers.length,"m-link":e.selectedUsers.length},attrs:{disabled:!e.selectedUsers.length},on:{click:e.deleteConfirmShow}},[e._v(" "+e._s(e.$t("message.delete"))+" ")]),e.isSelectedAllUsers?s("button",{staticClass:"g-btn m-link m-flat m-no-uppercase m-reset-width",on:{click:e.deselectAll}},[e._v(" "+e._s(e.$t("message.deselect"))+" ")]):s("button",{staticClass:"g-btn m-link m-flat m-no-uppercase m-reset-width",on:{click:e.selectAll}},[e._v(" "+e._s(e.$t("message.select_all"))+" ")])])]:[s("go-back"),s("h1",{staticClass:"g-page-title m-scroll-top",on:{click:function(t){return e.$emit("click")}}},[s("span",{staticClass:"b-inside-el"},[e._v(" "+e._s(e.$t("message.chats_index_title"))+" ")])]),s("page-title",{attrs:{title:e.$t("message.chats_index_title")}}),s("div",{staticClass:"b-btns-group m-move-right"},[e.authUser.isPerformer?[s("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.posts_queue_title"),expression:"$t('message.posts_queue_title')"}],staticClass:"g-btn m-with-round-hover m-icon m-icon-only m-default-color m-sm-size",attrs:{to:{name:"MyQueue"}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-calendar-datepicker",attrs:{"extra-class":"m-default-size"}})]),s("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.mass_chats_stat_btn_title"),expression:"$t('message.mass_chats_stat_btn_title')"}],staticClass:"g-btn m-with-round-hover m-icon m-icon-only m-default-color m-sm-size",attrs:{to:{name:"MassMessagesStats"}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-statements",attrs:{"extra-class":"m-default-size"}})])]:e._e(),s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.search_button"),expression:"$t('message.search_button')"}],staticClass:"g-btn m-with-round-hover m-icon m-icon-only m-default-color m-sm-size",attrs:{type:"button","at-attr":"search_header_btn"},on:{click:e.toggleSearch}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-search",attrs:{"extra-class":"m-default-size"}})]),s("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.new_message_button"),expression:"$t('message.new_message_button')"}],staticClass:"g-btn m-with-round-hover m-icon m-icon-only m-default-color m-sm-size",attrs:{to:{name:"ChatsSend"}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-add",attrs:{"extra-class":"m-default-size"}})]),s("chats-search",{attrs:{"is-show":e.isShowSearch},on:{close:e.toggleSearch}})],2)]],2)},J=[],X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("form",{staticClass:"b-search-form b-form b-chat__search-form",on:{submit:function(t){return t.preventDefault(),e.searchSubmit(t)}}},[s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.search_clear"),expression:"$t('message.search_clear')"}],staticClass:"g-page__header__btn m-with-round-hover",attrs:{type:"button"},on:{click:e.closeSearch}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})]),s("input",{ref:"searchInput",staticClass:"b-search-form__input form-control",attrs:{type:"text",maxlength:"30",placeholder:e.$t("message.chat_search_placeholder"),autocomplete:"chats-search-input",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},domProps:{value:e.searchField},on:{keyup:e.quest}}),s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.search_button"),expression:"$t('message.search_button')"}],staticClass:"g-page__header__btn m-with-round-hover",attrs:{type:"submit",disabled:0===e.searchField.length}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-search",attrs:{"extra-class":"m-default-size"}})])])},ee=[];function te(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function se(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?te(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):te(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var ie={name:"ChatsSearch",props:{isShow:{type:Boolean,required:!0}},data:function(){return{searchField:""}},watch:{$route:function(e){e.query&&!e.query.q&&(this.searchField="")},isShow:function(e){e&&!this.searchField.length&&this.$refs.searchInput&&this.$refs.searchInput.focus()},searchField:{handler:Object(l["debounce"])((function(e,t){e!==t&&(0===e.length&&t.length>0?this.$router.replace({query:se(se({},this.$route.query),{},{q:void 0})}):e.length<3||this.searchSubmit())}),500)}},mounted:function(){this.$route.query.q&&(this.searchField=this.$route.query.q)},methods:{searchSubmit:function(){if(this.$route.query.q!==this.searchField&&(void 0!==this.$route.query.q||this.searchField.length)){var e=se({},this.$route.query);e.q=this.searchField,this.$router.replace({query:e})}},closeSearch:function(){this.searchField="",this.$router.replace({query:se(se({},this.$route.query),{},{q:void 0})}),this.$emit("close",!0)},quest:function(e){this.searchField=e.target.value}}},re=ie,ne=Object(W["a"])(re,X,ee,!1,null,null,null),ae=ne.exports,oe=s("b6ee");function ce(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function ue(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ce(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var le={name:"ChatsHeader",components:{ChatsSearch:ae,GoBack:oe["a"]},props:{showSelectedBtn:{type:Boolean,default:!1},deselectAllState:{type:Boolean,default:!1}},data:function(){return{isShowSearch:!1}},computed:ue(ue(ue({},Object(a["b"])(["authUser"])),Object(a["n"])(["chats","selectedUsers"])),{},{isSelectedAllUsers:function(){return this.chats.length===this.selectedUsers.length}}),mounted:function(){this.$route.query.q&&(this.isShowSearch=!0)},methods:ue(ue(ue({},Object(a["m"])(["resetSelectedUsers","setAllSelectedUsers"])),Object(a["k"])(["deleteChat"])),{},{deleteConfirmShow:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(l["get"])(this,"selectedUsers.length",0),s=t>1?"message.confirm_delete_some_chats":"message.confirm_delete_some_chat",e.next=4,window.interact(this.$t(s,{COUNT:t||""}),{confirmText:this.$t("message.yes")});case 4:i=e.sent,i&&this.clearMessages();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),toggleSearch:function(){this.isShowSearch=!this.isShowSearch},unselect:function(){this.resetSelectedUsers(),this.$emit("selectedUsers",!1)},clearMessages:function(){this.deleteChat(this.selectedUsers),this.resetSelectedUsers(),this.$emit("selectedUsers",!1),this.$emit("update:deselectAllState",!1)},selectAll:function(){this.setAllSelectedUsers(),this.$emit("update:deselectAllState",!0)},deselectAll:function(){this.resetSelectedUsers(),this.$emit("update:deselectAllState",!1)}})},de=le,he=Object(W["a"])(de,K,J,!1,null,null,null),pe=he.exports,me=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-content-filter",class:{"m-reset-sides-gaps":e.mobileVersion}},[s("div",{staticClass:"b-content-filter__title",domProps:{innerHTML:e._s(e.title)}}),s("div",{staticClass:"b-content-filter__group-btns"},[s("b-dropdown",{ref:"profileDropdown",attrs:{"at-attr":"sort_dropdown",offset:"4",right:"","toggle-class":"m-with-round-hover"},scopedSlots:e._u([{key:"button-content",fn:function(){return[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.tooltip_more"),expression:"$t('message.tooltip_more')"}],staticClass:"icon-sort"})]},proxy:!0}])},[e._l(e.chatsOrderTypes,(function(t){return[t?s("b-dropdown-item",{key:t.name,staticClass:"b-input-radio__container",attrs:{href:"javascript:void(0)"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.chatsOrder,expression:"chatsOrder"}],staticClass:"b-input-radio",attrs:{id:"chats_sort_input_"+t.name,type:"radio",name:"chats_sort"},domProps:{value:t.name,checked:e._q(e.chatsOrder,t.name)},on:{change:function(s){e.chatsOrder=t.name}}}),s("label",{attrs:{for:"chats_sort_input_"+t.name}},[e._v(" "+e._s(t.label)+" ")]),s("span",{staticClass:"b-dropdown__icon"},[s("span",{staticClass:"b-input-ripple"})])]):e._e()]})),s("b-dropdown-divider"),s("b-dropdown-item-button",{staticClass:"mark-all-as-read",attrs:{disabled:0===e.authUser.chatMessagesCount},on:{click:e.markAllAsRead}},[e._v(" "+e._s(e.$t("message.mark_all_as_read"))+" ")]),s("b-dropdown-divider"),s("b-dropdown-item-button",{staticClass:"mark-all-as-read",on:{click:e.selectedUser}},[e._v(" "+e._s(e.showSelectedBtn?e.$t("message.clear_selection"):e.$t("message.button_label_select"))+" ")])],2)],1)])},fe=[];function be(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function ge(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?be(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):be(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var ve={name:"ChatsFilters",props:{showSelectedBtn:{type:Boolean,default:!1}},computed:ge(ge(ge(ge(ge({},Object(a["n"])(["chatsSort","chatsSortPriority","mobileVersion"])),Object(a["l"])(["chatsByType"])),Object(a["b"])(["authUser"])),Object(a["xc"])(["currentFiltersIds"])),{},{chatsOrder:{get:function(){return this.currentFiltersIds.includes("priority")?this.chatsSortPriority:this.chatsSort},set:function(e){var t=this;this.$refs.profileDropdown&&this.$refs.profileDropdown.hide(),this.$nextTick((function(){t.currentFiltersIds.includes("priority")&&t.setChatsSortPriority(e),t.setChatsSort({value:e,isPerformer:t.authUser.isPerformer})}))}},title:function(){var e=this.chatsSort;return this.currentFiltersIds.includes("priority")&&(e=this.chatsSortPriority),this.$t("message.chats_list_type_title_".concat(e||"recent"))},chatsOrderTypes:function(){return[{name:"recent",label:this.$t("message.chart_sort_by_recent_label")},!this.currentFiltersIds.includes("priority")&&this.authUser.isPerformer&&{name:"unread_tips",label:this.$t("message.chart_sort_by_unread_tips_first_label")},!this.currentFiltersIds.includes("priority")&&{name:"unread",label:this.$t("message.chart_sort_by_unread_first_label")},{name:"old_unread",label:this.$t("message.chart_sort_by_old_unread_first_label")}]}}),methods:ge(ge(ge({},Object(a["m"])(["setChatsSort","setChatsSortPriority"])),Object(a["k"])(["markAllChatAsRead"])),{},{markAllAsRead:function(){var e=0,t=this.chatsByType.map((function(t){return e+=t.unreadMessagesCount,t.withUser}));this.markAllChatAsRead({filteredChatsIds:t,unreadMessagesCount:e,currentFiltersIds:this.currentFiltersIds}),this.$refs.profileDropdown&&this.$refs.profileDropdown.hide()},selectedUser:function(){this.$emit("selectedUsers",!this.showSelectedBtn)}})},_e=ve,ye=Object(W["a"])(_e,me,fe,!1,null,null,null),we=ye.exports,Oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.queueIds.length?s("div",{staticClass:"b-chat-informer"},[s("div",{staticClass:"system-messages-wrapper m-native-custom-scrollbar m-scrollbar-y m-invisible-scrollbar"},e._l(e.queueIds,(function(e){return s("queue-message-item",{key:e,attrs:{"message-id":e}})})),1)]):e._e()},Ce=[],ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.unsendSeconds?s("div",{staticClass:"b-chat__bulk-message"},[s("div",{staticClass:"b-chat__bulk-message__text"},[e.message.total>0?[e._v(" "+e._s(e.$t("message.message_to_count_people",{COUNT:e.message.total}))+" ")]:[e._v(" "+e._s(e.$t("message.message_sent"))+" ")],s("utils-time",{attrs:{date:e.message.date,type:"feed"}}),s("div",{staticClass:"b-chat__bulk-message__status",attrs:{"at-attr":"mass_message_status"}},[e._v(" "+e._s(e.status)+" ")])],2),e.message.canUnsend?s("button",{staticClass:"g-btn m-flat m-reset-width",attrs:{type:"button","at-attr":"unsend_btn",title:e.$t("message.chat_Message_unsend_button")+" "+e.unsendSeconds+"s"},on:{click:e.unsendConfirmShow}},[e._v(" "+e._s(e.$t("message.chat_Message_unsend_button"))+" ")]):e._e()]):e._e()},xe=[];function Pe(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Se(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Pe(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var je={name:"QueueMessageItem",components:{UtilsTime:F["a"]},props:{messageId:{type:Number,required:!0}},data:function(){return{setInterval:null,unsendSeconds:0,unsendId:null}},computed:Se(Se({},Object(a["l"])(["getQueueItem"])),{},{message:function(){return this.getQueueItem(this.messageId)},status:function(){if(this.message.isDone)return this.$t("message.button_done");var e=this.$t("message.chat_queue_status_in_progress");return this.message.pending>-1&&this.message.total>0&&this.message.pending<this.message.total&&(e+=" ".concat(Math.round(100*(this.message.total-this.message.pending)/this.message.total),"%")),e}}),mounted:function(){this.unsendSeconds=this.message.unsendSeconds,this.setUnsendInterval()},beforeDestroy:function(){this.clearUnsendInterval()},methods:Se(Se({},Object(a["k"])(["delMessagesQueue"])),{},{setUnsendInterval:function(){this.setInterval=setInterval(this.unsendInterval,1e3)},unsendInterval:function(){0!==this.unsendSeconds&&(this.unsendSeconds-=1,0===this.unsendSeconds&&this.clearUnsendInterval())},clearUnsendInterval:function(){this.setInterval&&clearInterval(this.setInterval)},delQueue:function(){this.delMessagesQueue({id:this.message.id,withRequest:!0})},unsendConfirmShow:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.interact(this.$t("message.dialog_unsend_chat_message_title_new"),{confirmText:this.$t("message.dialog_unsend_chat_message_button")});case 2:t=e.sent,t&&this.delQueue();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()})},Me=je,Ie=Object(W["a"])(Me,ke,xe,!1,null,null,null),$e=Ie.exports;function Le(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Te(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Le(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Ue={name:"QueueMessages",components:{QueueMessageItem:$e},computed:Te({},Object(a["n"])(["queueIds"])),mounted:function(){this.fetchMessagesQueue()},methods:Te({},Object(a["k"])(["fetchMessagesQueue"]))},De=Ue,Ee=Object(W["a"])(De,Oe,Ce,!1,null,null,null),Ae=Ee.exports,Fe=s("a690"),Be=s("16d9"),Re=s("709f");function Ne(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function qe(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ne(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Ve={name:"ChatsList",components:{InfiniteLoading:L.a,ChatsItem:Y,SpinnerLoader:T["a"],ChatsHeader:pe,Filters:we,SwipeList:I,QueueMessages:Ae,FeedCollectionsFilter:Fe["a"]},mixins:[Be["a"]],data:function(){return{infiniteId:+new Date,revealed:{},more:!1,showSelectedBtn:!1,isUserslistFetched:!1,deselectAllState:!1}},computed:qe(qe(qe(qe(qe(qe({},Object(a["b"])(["authUser"])),Object(a["l"])(["chatsByType","getMessage"])),Object(a["n"])(["mobileVersion","chatsListLoading","chatsSort","chatsListHasMore","nextOffset","chatsSortPriority"])),Object(a["xc"])(["currentFiltersIds"])),Object(a["rb"])(["route"])),{},{noSearchResult:function(){return this.$route.query.q&&!this.chatsByType.length&&!this.chatsListLoading},chatsByTypeSorted:function(){var e=this;return"unread_tips"===Re["a"].getItem("sort_chats")?this.chatsByType.map((function(t){return qe(qe({},t),{},{hasUnreadTips:e.isChatHasUnreadTips(t)})})).sort((function(e,t){return(t.hasUnreadTips?1:-1)-(e.hasUnreadTips?1:-1)})):this.chatsByType}}),watch:{route:{handler:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=t.to,i=t.from,Object(l["get"])(s,"query.q")!==Object(l["get"])(i,"query.q")&&this.infiniteReset(),"Chats"===s.name&&"Chat"===i.name&&i.params.chatId&&this.$nextTick((function(){var e=document.getElementById(i.params.chatId);e&&e.scrollIntoView({behavior:"auto",block:"center",inline:"nearest"})}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),immediate:!0},revealed:function(e){var t=Object.keys(e);t.length&&this.chatsByType[t[0]]&&(this.chatsByType[t[0]].unreadMessagesCount?this.markChatAsRead(this.chatsByType[t[0]].withUser):this.markChatAsUnRead(this.chatsByType[t[0]].withUser),this.revealed={},this.$refs.chatsList&&this.$refs.chatsList.closeActions())},chatsSort:function(){this.infiniteReset()},currentFiltersIds:function(){this.infiniteReset()}},mounted:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.resetCollectionsFilter(),e.next=3,this.fetchUsersLists({more:!1,filter:"chat",limit:100});case 3:this.isUserslistFetched=!0,this.$root.$on("updateChatsList",this.infiniteReset),this.$root.$on("refreshChats",this.refreshChatsHandler);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){this.$root.$off("updateChatsList"),this.$root.$off("refreshChats"),this.selectedUsers(!1),this.resetSelectedUsers()},methods:qe(qe(qe(qe(qe({},Object(a["k"])(["fetchChats","markChatAsRead","markChatAsUnRead"])),Object(a["m"])(["resetSelectedUsers","setSelectedUsers","resetChats"])),Object(a["wc"])(["resetCollectionsFilter","setCurrentFiltersIds"])),Object(a["uc"])(["fetchUsersLists"])),{},{messagesByChat:function(e){return e.messages&&e.messages.length>0?e.messages:e.lastMessage?[e.lastMessage]:[]},isChatHasUnreadTips:function(e){var t=this;if(e.hasUnreadTips)return!0;if(0===e.unreadMessagesCount)return!1;var s=this.messagesByChat(e);return s.some((function(e){var s=t.getMessage(e);return s.isNew&&!!s.tipAmount}))},scrollTo:function(){this.mobileVersion?this.scrollToTop():this.scrollToTopChats()},scrollToTopChats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.behavior,s=void 0===t?"smooth":t,i=this.$refs.listScroller;i&&i.scrollTop&&i.scrollTo({top:0,behavior:s})},infiniteReset:function(){this.resetChats(),this.more=!1,this.infiniteId+=1},infiniteHandler:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var s,i,r,n,a,o,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=this.$route.query.q,i=this.currentFiltersIds.includes("priority")||this.currentFiltersIds.includes("who_tipped"),r=this.currentFiltersIds&&i?this.currentFiltersIds[0]:"",n=this.currentFiltersIds&&!i?this.currentFiltersIds[0]:"",a={order:this.currentFiltersIds.includes("priority")?this.chatsSortPriority:this.chatsSort,more:this.more,query:s,filter:r,list_id:n},e.next=7,this.fetchChats(a);case 7:o=e.sent,this.more=!0,this.showSelectedBtn&&this.deselectAllState&&o.list.forEach((function(e){return c.setSelectedUsers(e.withUser.id)})),o&&o.hasMore?t.loaded():t.complete();case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),selectedUsers:function(e){e||this.resetSelectedUsers(),this.showSelectedBtn=e},refreshChatsHandler:function(){var e=Object(l["get"])(this,"currentFiltersIds[0]");1!==this.chatsByType.length||this.chatsByType[0].unreadMessagesCount||"priority"!==e||this.setCurrentFiltersIds([]),this.infiniteReset()}})},ze=Ve,He=Object(W["a"])(ze,o,c,!1,null,null,null),Ge=He.exports,Qe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isAnyActiveChat?s("div",{staticClass:"b-chats__conversations-content m-empty-chat"},[s("div",{staticClass:"conversations-start"},[s("div",{staticClass:"conversations-start__title",domProps:{innerHTML:e._s(e.$t("message.any_active_chat_now_now"))}})])]):e.isStartConversation?s("div",{staticClass:"b-chats__conversations-content m-empty-chat"},[s("div",{staticClass:"conversations-start"},[s("div",{staticClass:"conversations-start__title"},[e._v(" "+e._s(e.$t("message.select_any_conversation"))+" ")]),s("div",{staticClass:"conversations-start__content"},[s("router-link",{staticClass:"g-btn m-rounded m-lg m-block m-fix-width m-mall-auto",attrs:{to:{name:"ChatsSend"}}},[e._v(" "+e._s(e.$t("message.new_message"))+" ")])],1)])]):e._e()},We=[];function Ze(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Ye(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ze(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Ke={name:"ChatNotActive",computed:Ye(Ye(Ye({},Object(a["b"])(["authUser"])),Object(a["n"])(["chatsLoading","mobileVersion","items"])),{},{isEmptyChats:function(){return!(Object(l["isEmpty"])(this.items)&&!this.chatsLoading)},isAnyActiveChat:function(){return!this.isEmptyChats&&!this.authUser.subscribersCount&&!this.authUser.subscribesCount},isStartConversation:function(){return!this.$route.params.chatId&&!this.mobileVersion||!this.$route.params.chatId&&this.mobileVersion&&!this.isEmptyChats&&!this.$route.query.q}})},Je=Ke,Xe=Object(W["a"])(Je,Qe,We,!1,null,null,null),et=Xe.exports;function tt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function st(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):tt(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var it={name:"PageChatsList",components:{ChatsList:Ge,ChatNotActive:et,SpinnerLoader:T["a"]},computed:st(st({},Object(a["n"])(["mobileVersion","firstLoadingChatsList"])),{},{isMobileChatPage:function(){return this.mobileVersion&&this.$route.params.chatId},chatsScrollClass:function(){return!this.mobileVersion||this.$route.params.chatId},isLoading:function(){return!this.isMobileChatPage&&!this.firstLoadingChatsList}})},rt=it,nt=Object(W["a"])(rt,i,r,!1,null,null,null);t["default"]=nt.exports},cbc7:function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},cd0f:function(e,t,s){"use strict";var i=s("0068").normalizeReference,r=s("0068").isSpace;e.exports=function(e,t){var s,n,a,o,c,u,l,d,h,p="",m="",f=e.pos,b=e.posMax,g=e.pos,v=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(c=e.pos+1,o=e.md.helpers.parseLinkLabel(e,e.pos,!0),o<0)return!1;if(u=o+1,u<b&&40===e.src.charCodeAt(u)){for(v=!1,u++;u<b;u++)if(n=e.src.charCodeAt(u),!r(n)&&10!==n)break;if(u>=b)return!1;if(g=u,l=e.md.helpers.parseLinkDestination(e.src,u,e.posMax),l.ok){for(p=e.md.normalizeLink(l.str),e.md.validateLink(p)?u=l.pos:p="",g=u;u<b;u++)if(n=e.src.charCodeAt(u),!r(n)&&10!==n)break;if(l=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<b&&g!==u&&l.ok)for(m=l.str,u=l.pos;u<b;u++)if(n=e.src.charCodeAt(u),!r(n)&&10!==n)break}(u>=b||41!==e.src.charCodeAt(u))&&(v=!0),u++}if(v){if("undefined"===typeof e.env.references)return!1;if(u<b&&91===e.src.charCodeAt(u)?(g=u+1,u=e.md.helpers.parseLinkLabel(e,u),u>=0?a=e.src.slice(g,u++):u=o+1):u=o+1,a||(a=e.src.slice(c,o)),d=e.env.references[i(a)],!d)return e.pos=f,!1;p=d.href,m=d.title}return t||(e.pos=c,e.posMax=o,h=e.push("link_open","a",1),h.attrs=s=[["href",p]],m&&s.push(["title",m]),e.md.inline.tokenize(e),h=e.push("link_close","a",-1)),e.pos=u,e.posMax=b,!0}},ce7e:function(e,t,s){var i=s("63b6"),r=s("584a"),n=s("294c");e.exports=function(e,t){var s=(r.Object||{})[e]||Object[e],a={};a[e]=t(s),i(i.S+i.F*n((function(){s(1)})),"Object",a)}},d1db:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"g-sides-gaps"},[s("div",{staticClass:"g-page__header m-real-sticky"},[s("go-back",{attrs:{default:{name:"Chats"}}}),s("header-with-back-to-top",{attrs:{text:e.$t("message.personal_mass_chats")}}),s("page-title",{attrs:{title:e.$t("message.personal_mass_chats")}})],1),e.messages.length?s("table",{staticClass:"b-table m-responsive m-mass-chats-stat m-to-level-lg"},[s("thead",[s("tr",[s("th",[e._v(e._s(e.$t("message.date_time_table_heading")))]),s("th",[e._v(e._s(e.$t("message.text_table_heading")))]),s("th",[e._v(e._s(e.$t("message.media_type_table_heading")))]),s("th",[e._v(e._s(e.$t("message.price_table_heading")))]),s("th",[e._v(e._s(e.$t("message.real_sent_table_heading")))]),s("th",[e._v(e._s(e.$t("message.real_looked_table_heading")))]),s("th",[e._v(e._s(e.$t("message.real_opened_table_heading")))]),s("th",[e._v(e._s(e.$t("message.chat_Message_unsend_button")))])])]),s("tbody",e._l(e.messages,(function(t){return s("tr",{key:t.id,class:{"m-gray-bg":t.isCanceled}},[s("td",{attrs:{valign:"top","data-title":e.$t("message.date_time_table_heading")}},[s("div",{staticClass:"g-nowrap"},[s("span",[s("utils-time",{attrs:{date:t.date,type:"date-only"}})],1),s("span",{staticClass:"local-time",attrs:{"data-type":"time-only"}},[s("utils-time",{attrs:{date:t.date,type:"time-only"}})],1)])]),s("td",{staticClass:"td-table-text",attrs:{valign:"top","data-title":e.$t("message.text_table_heading")}},[s("truncated-text",{attrs:{text:e.messageText(t.text),"collapse-limit":4,"visible-lines":3}})],1),s("td",{attrs:{valign:"top","data-title":e.$t("message.media_type_table_heading")}},[t.mediaTypes&&Object.keys(t.mediaTypes).length?s("button",{staticClass:"b-chat__messages__stat__media-count__wrapper",attrs:{type:"button",disabled:e.isLoading===t.id},on:{click:function(s){return e.openMedia(t.id)}}},[e.isLoading===t.id?s("spinner-loader"):e._l(t.mediaTypes,(function(t,i){return s("span",{key:i,staticClass:"b-chat__messages__stat__media-count"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],class:{"icon-media":"photo"===i,"icon-video":"video"===i,"icon-voice":"audio"===i,"icon-gif":"gif"===i}}),e._v(" "+e._s(t)+" ")])}))],2):e._e()]),s("td",{attrs:{valign:"top","data-title":e.$t("message.price_table_heading")}},[t.isFree?e._e():s("utils-money",{attrs:{value:t.price,currency:t.currency}})],1),s("td",{attrs:{valign:"top","data-title":e.$t("message.real_sent_table_heading")}},[e._v(" "+e._s(t.sentCount>-1?t.sentCount:"")+" "),t.sentCount<0?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-loading",attrs:{"extra-class":"m-icon-sm m-light-color"}}):e._e()]),s("td",{attrs:{valign:"top","data-title":e.$t("message.real_looked_table_heading")}},[s("span",{staticClass:"chat-stat-unsend"},[e._v(" "+e._s(t.viewedCount>-1?t.viewedCount:"")+" "),t.viewedCount<0?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-loading",attrs:{"extra-class":"m-icon-sm m-light-color"}}):s("span",{staticClass:"g-icon-info m-with-round-hover"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.chat_mass_stat_views_delay"),expression:"$t('message.chat_mass_stat_views_delay')"}],staticClass:"icon-info"})])])]),s("td",{attrs:{valign:"top","data-title":e.$t("message.real_opened_table_heading")}},[!t.isFree&&e.authUser.canSendChatToAll&&t.purchasedCount&&t.canSendMessageToBuyers?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip.enabled",value:e.$t("message.message_to_fans_purchased_message"),expression:"$t('message.message_to_fans_purchased_message')",modifiers:{enabled:!0}}],staticClass:"g-btn m-flat m-send-queue-to-paid-customers m-default-icon-size m-reset-width",attrs:{type:"button"},on:{click:function(s){return e.openUserListModal({type:"QueueBuyers",queueId:t.id})}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-message"})]):e._e(),e._v(" "+e._s(t.isFree?"":t.purchasedCount)+" ")]),s("td",{class:{"unsend-messages_chat-stat":t.canUnsend},attrs:{"data-title":e.$t("message.chat_Message_unsend_button"),valign:"top"}},[t.canUnsend?s("span",{staticClass:"chat-stat-unsend"},[s("span",{on:{click:function(s){return e.doUnsendMessage(t.id)}}},[e._v(e._s(e.$t("message.chat_Message_unsend_button")))]),s("span",{staticClass:"g-icon-info m-with-round-hover"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip.enabled",value:e.$t("message.info_delete_the_paid_message"),expression:"$t('message.info_delete_the_paid_message')",modifiers:{enabled:!0}}],staticClass:"icon-info"})])]):t.isCanceled?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip.enabled",value:e.$t("message.cancelled"),expression:"$t('message.cancelled')",modifiers:{enabled:!0}}],staticClass:"icon-undo",attrs:{"extra-class":"m-danger m-icon-sm m-block"}}):e._e()])])})),0)]):e.loading?e._e():s("p",{staticClass:"empty-message m-height-page m-light-text show"},[e._v(" "+e._s(e.$t("message.no_mass_message_stats"))+" ")]),e.loading&&!e.messages.length?s("div",{staticClass:"b-posts_preloader_container show_more_container"},[s("spinner-loader")],1):e._e(),e.hasMore?s("infinite-loading",{ref:"infiniteLoader",attrs:{identifier:e.infiniteId},on:{infinite:e.infiniteHandler}},[s("div",{staticClass:"b-posts_preloader_container show_more_container",attrs:{slot:"spinner"},slot:"spinner"},[s("spinner-loader")],1),s("div",{attrs:{slot:"no-more"},slot:"no-more"}),s("div",{attrs:{slot:"no-results"},slot:"no-results"})]):e._e(),s("modal-user-list",{attrs:{"modal-name":e.usersListModalName,title:e.userModalTitle,params:e.userModalParams,query:e.userModalQuery,list:e.userModalUserList,limit:10,fetch:e.fetchUserList,reset:e.resetUserModalData,loading:e.userModalLoading,"reset-user":""}})],1)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("75fc")),a=(s("96cf"),s("3b8d")),o=s("bd86"),c=s("2ef0"),u=s("a836"),l=s("d634"),d=s("e166"),h=s.n(d),p=s("e528"),m=s("33a44"),f=s("6ea3"),b=s("dcf6"),g=s("b6ee"),v=s("3ac5"),_=s("956d"),y=s("5888"),w=s("64eb"),O=s("09e4"),C=s("79bb");function k(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function x(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?k(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):k(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var P={name:"MassMessagesStat",components:{InfiniteLoading:h.a,SpinnerLoader:p["a"],UtilsTime:m["a"],HeaderWithBackToTop:f["a"],UtilsMoney:b["a"],GoBack:g["a"],TruncatedText:v["a"],ModalUserList:_["a"]},mixins:[y["a"],w["a"]],data:function(){return{infiniteId:+new Date,limit:20,currentId:null,offset:0,mediaFiles:[],isLoading:!1}},computed:x(x(x(x({},Object(l["n"])(["scheduleQueueMessage"])),Object(l["K"])(["messages","loading","hasMore"])),Object(l["b"])(["authUser"])),{},{usersListModalName:function(){return"ModalQueueBuyersUsers"}}),mounted:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.getStat();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){this.infiniteReset(),this.resetMassStat(),this.setMessageScheduledQueue(null)},methods:x(x(x(x(x({},Object(l["L"])(["resetMassStat","setMessage"])),Object(l["J"])(["fetchMessagesStat"])),Object(l["k"])(["getMessageScheduledQueue"])),Object(l["m"])(["setMessageScheduledQueue"])),{},{getStat:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r,n,a,o,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},s=t.more,i=void 0!==s&&s,r=this.limit,e.prev=2,i||(this.offset=0),n=this.offset,e.next=7,this.fetchMessagesStat({offset:n,more:i,limit:r});case 7:a=e.sent,o=a.hasMore,o&&(this.offset+=this.limit),e.next=14;break;case 12:e.prev=12,e.t0=e["catch"](2);case 14:case"end":return e.stop()}}),e,this,[[2,12]])})));function t(){return e.apply(this,arguments)}return t}(),infiniteHandler:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getStat({more:!0});case 2:this.hasMore?t.loaded():t.complete();case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),unsendConfirmShowCurrent:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.interact(this.$t("message.chat_unsend_this_mass_message"),{confirmText:this.$t("message.dialog_unsend_chat_message_button")});case 2:t=e.sent,t&&this.unsendQueue();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),doUnsendMessage:function(e){this.currentId=e,this.unsendConfirmShowCurrent()},unsendQueue:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u["a"])(this.currentId);case 3:t=e.sent,t&&t.success&&t.queue&&this.setMessage(t.queue),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),Object(O["b"])(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),infiniteReset:function(){this.infiniteId+=1},messageText:function(e){return Object(C["a"])(e)},openMedia:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var s,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=t,e.next=3,this.getMessageScheduledQueue({id:t});case 3:s=e.sent,this.isLoading===t&&(this.isLoading=!1),s&&this.$nextTick((function(){Object(c["get"])(i,"scheduleQueueMessage.media.length")&&(i.mediaFiles=Object(n["a"])(i.scheduleQueueMessage.media),i.$nextTick((function(){i.showPhotoSwipe({index:0})})))}));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()})},S=P,j=s("2877"),M=Object(j["a"])(S,i,r,!1,null,null,null);t["default"]=M.exports},d4cd:function(e,t,s){"use strict";e.exports=s("08ae")},d592:function(e,t,s){},d5d1:function(e,t,s){"use strict";t.Any=s("cbc7"),t.Cc=s("a7bc"),t.Cf=s("6fd1"),t.P=s("7ca0"),t.Z=s("4fc2")},d670:function(e,t,s){"use strict";var i=s("0068").normalizeReference,r=s("0068").isSpace;e.exports=function(e,t,s,n){var a,o,c,u,l,d,h,p,m,f,b,g,v,_,y,w,O=0,C=e.bMarks[t]+e.tShift[t],k=e.eMarks[t],x=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(C))return!1;while(++C<k)if(93===e.src.charCodeAt(C)&&92!==e.src.charCodeAt(C-1)){if(C+1===k)return!1;if(58!==e.src.charCodeAt(C+1))return!1;break}for(u=e.lineMax,y=e.md.block.ruler.getRules("reference"),f=e.parentType,e.parentType="reference";x<u&&!e.isEmpty(x);x++)if(!(e.sCount[x]-e.blkIndent>3)&&!(e.sCount[x]<0)){for(_=!1,d=0,h=y.length;d<h;d++)if(y[d](e,x,u,!0)){_=!0;break}if(_)break}for(v=e.getLines(t,x,e.blkIndent,!1).trim(),k=v.length,C=1;C<k;C++){if(a=v.charCodeAt(C),91===a)return!1;if(93===a){m=C;break}10===a?O++:92===a&&(C++,C<k&&10===v.charCodeAt(C)&&O++)}if(m<0||58!==v.charCodeAt(m+1))return!1;for(C=m+2;C<k;C++)if(a=v.charCodeAt(C),10===a)O++;else if(!r(a))break;if(b=e.md.helpers.parseLinkDestination(v,C,k),!b.ok)return!1;if(l=e.md.normalizeLink(b.str),!e.md.validateLink(l))return!1;for(C=b.pos,O+=b.lines,o=C,c=O,g=C;C<k;C++)if(a=v.charCodeAt(C),10===a)O++;else if(!r(a))break;b=e.md.helpers.parseLinkTitle(v,C,k),C<k&&g!==C&&b.ok?(w=b.str,C=b.pos,O+=b.lines):(w="",C=o,O=c);while(C<k){if(a=v.charCodeAt(C),!r(a))break;C++}if(C<k&&10!==v.charCodeAt(C)&&w){w="",C=o,O=c;while(C<k){if(a=v.charCodeAt(C),!r(a))break;C++}}return!(C<k&&10!==v.charCodeAt(C))&&(p=i(v.slice(1,m)),!!p&&(n||("undefined"===typeof e.env.references&&(e.env.references={}),"undefined"===typeof e.env.references[p]&&(e.env.references[p]={title:w,href:l}),e.parentType=f,e.line=t+O+1),!0))}},d8a6:function(e,t,s){"use strict";e.exports.encode=s("c464"),e.exports.decode=s("8f37"),e.exports.format=s("43e0"),e.exports.parse=s("da5f")},d981:function(e,t,s){"use strict";s.d(t,"b",(function(){return o}));s("8e6e"),s("ac6a"),s("456d"),s("7514");var i=s("bd86"),r=(s("c5f6"),s("d634"));function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function a(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={props:{id:{type:Number,required:!0}},computed:a(a(a(a({},Object(r["tc"])(["getUser"])),Object(r["mc"])(["getSubscribe"])),Object(r["E"])(["currentDate"])),{},{user:function(){return this.getUser(this.id)},subscribe:function(){return this.getSubscribe(this.id)},isExpired:function(){return!!this.user.subscribedIsExpiredNow||this.subscribe&&!this.subscribe.renewedAt&&!this.subscribe.status},agreePrice:function(){return this.subscribe?Math.max(this.subscribe.newPrice,this.subscribe.price):0},isAutoprolong:function(){return!!this.subscribe&&(this.isFromPaidToFree||this.hasAnyPaidSubscription?!!this.subscribe.renewedAt:!!this.subscribe.renewedAt||0===this.user.subscribePrice)},isNewPriceHigherAgreePrice:function(){return this.user.subscribePrice>this.agreePrice},waitForExpire:function(){return!this.isAutoprolong||this.isNewPriceHigherAgreePrice},isExpiredNow:function(){return this.subscribe&&+new Date(this.subscribe.expiredAt)<=this.currentDate||this.user.subscribedIsExpiredNow},isFromPaidToFree:function(){return this.subscribe?!!this.subscribe.price&&!this.subscribe.subscribePrice:this.user&&!!this.user.currentSubscribePrice&&!this.user.subscribePrice},subscribedByPersonalTrial:function(){return this.subscribe&&this.subscribe.subscribes&&this.subscribe.subscribes.length&&this.subscribe.subscribes.find((function(e){return("personal_trial"===e.type||"trial"===e.type)&&e.isCurrent}))},subscribedByPromo:function(){return this.subscribe&&this.subscribe.subscribes&&this.subscribe.subscribes.length&&this.subscribe.subscribes.find((function(e){return"promo"===e.type&&e.isCurrent}))},subscribedByBundle:function(){return this.subscribe&&this.subscribe.subscribes&&this.subscribe.subscribes.length&&this.subscribe.subscribes.find((function(e){return"bundle"===e.type&&e.isCurrent}))},hasAnyPaidSubscription:function(){return!!(this.subscribe&&this.subscribe.subscribes&&this.subscribe.subscribes.length&&this.subscribe.subscribes.some((function(e){return!!e.price})))}}),methods:a(a({},Object(r["lc"])(["autoprolongToggle"])),Object(r["nc"])(["removeSubscribe"]))};var o={computed:{hasAnyPaidSubscription:function(){return!!(this.subscribe&&this.subscribe.subscribes&&this.subscribe.subscribes.length&&this.subscribe.subscribes.some((function(e){return!!e.price})))}}}},da5f:function(e,t,s){"use strict";function i(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var r=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r","\n","\t"],c=["{","}","|","\\","^","`"].concat(o),u=["'"].concat(c),l=["%","/","?",";","#"].concat(u),d=["/","?","#"],h=255,p=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function g(e,t){if(e&&e instanceof i)return e;var s=new i;return s.parse(e,t),s}i.prototype.parse=function(e,t){var s,i,n,o,c,u=e;if(u=u.trim(),!t&&1===e.split("#").length){var g=a.exec(u);if(g)return this.pathname=g[1],g[2]&&(this.search=g[2]),this}var v=r.exec(u);if(v&&(v=v[0],n=v.toLowerCase(),this.protocol=v,u=u.substr(v.length)),(t||v||u.match(/^\/\/[^@\/]+@[^@\/]+/))&&(c="//"===u.substr(0,2),!c||v&&f[v]||(u=u.substr(2),this.slashes=!0)),!f[v]&&(c||v&&!b[v])){var _,y,w=-1;for(s=0;s<d.length;s++)o=u.indexOf(d[s]),-1!==o&&(-1===w||o<w)&&(w=o);for(y=-1===w?u.lastIndexOf("@"):u.lastIndexOf("@",w),-1!==y&&(_=u.slice(0,y),u=u.slice(y+1),this.auth=_),w=-1,s=0;s<l.length;s++)o=u.indexOf(l[s]),-1!==o&&(-1===w||o<w)&&(w=o);-1===w&&(w=u.length),":"===u[w-1]&&w--;var O=u.slice(0,w);u=u.slice(w),this.parseHost(O),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C){var k=this.hostname.split(/\./);for(s=0,i=k.length;s<i;s++){var x=k[s];if(x&&!x.match(p)){for(var P="",S=0,j=x.length;S<j;S++)x.charCodeAt(S)>127?P+="x":P+=x[S];if(!P.match(p)){var M=k.slice(0,s),I=k.slice(s+1),$=x.match(m);$&&(M.push($[1]),I.unshift($[2])),I.length&&(u=I.join(".")+u),this.hostname=M.join(".");break}}}}this.hostname.length>h&&(this.hostname=""),C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var L=u.indexOf("#");-1!==L&&(this.hash=u.substr(L),u=u.slice(0,L));var T=u.indexOf("?");return-1!==T&&(this.search=u.substr(T),u=u.slice(0,T)),u&&(this.pathname=u),b[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this},i.prototype.parseHost=function(e){var t=n.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=g},db63:function(e,t,s){"use strict";s("8e6e"),s("ac6a"),s("456d");var i=s("bd86"),r=s("d634"),n=s("e057");function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={mixins:[n["a"]],computed:o(o(o({},Object(r["E"])(["isFraudRepayment","isNeedIV"])),Object(r["b"])(["isAuth","authUser"])),{},{isMyFraudsterProfile:function(){return this.isAuthUser&&this.isFraudRepayment},isMyProfileNeedIV:function(){return this.isAuthUser&&this.isNeedIV},isHasScenario:function(){return this.isAuth&&this.authUser.hasScenario},isMyProfileHasScenario:function(){return this.isMyFraudsterProfile||this.isMyProfileNeedIV}})}},df56:function(e,t,s){"use strict";e.exports=function(e,t,s){var i,r,n,a,o=-1,c=e.posMax,u=e.pos;e.pos=t+1,i=1;while(e.pos<c){if(n=e.src.charCodeAt(e.pos),93===n&&(i--,0===i)){r=!0;break}if(a=e.pos,e.md.inline.skipToken(e),91===n)if(a===e.pos-1)i++;else if(s)return e.pos=u,-1}return r&&(o=e.pos),e.pos=u,o}},e057:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));s("8e6e"),s("ac6a"),s("456d");var i=s("bd86"),r=s("d634");function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function a(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var o={computed:a(a(a({},Object(r["tc"])(["userId"])),Object(r["b"])(["authUserId"])),{},{isAuthUser:function(){return!(!this.userId||!this.authUserId||this.userId!==this.authUserId)}})}},e1ab:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.chat&&!e.error?s("div",{staticClass:"b-chats__conversations-content"},[s("div",{staticClass:"b-chat has-advanced-upload"},[s("chat-header",{staticClass:"b-header-conversation m-real-sticky m-reset-sides-gaps",attrs:{chat:e.chat}}),s("messages-list",{attrs:{chat:e.chat}}),e.isHideForm?s("div",{staticClass:"chat-footer__alert"},[e.isNeedAndCanSubscribeToChat?s("alert-o-f",{scopedSlots:e._u([{key:"content",fn:function(){return[s("subscribe-btn",{attrs:{id:e.userIdToSubscribe,"is-custom":""},scopedSlots:e._u([{key:"content",fn:function(){return[s("span",{domProps:{innerHTML:e._s(e.isMutedStateTooltip)},on:{click:function(e){if(e.target!==e.currentTarget)return null;e.stopPropagation()}}})]},proxy:!0}],null,!1,457729204)})]},proxy:!0}],null,!1,534370533)}):s("alert-o-f",{scopedSlots:e._u([{key:"content",fn:function(){return[s("span",{domProps:{innerHTML:e._s(e.isMutedStateTooltip)},on:{click:e.innerLinkToRouter}})]},proxy:!0}],null,!1,1121711545)})],1):e._e(),e.isAuth?s("make-post",{directives:[{name:"show",rawName:"v-show",value:!e.isHideForm,expression:"!isHideForm"}],key:e.$route.params.chatId,ref:"makePost",staticClass:"m-chat-footer",attrs:{"is-chat":"","with-user":e.withUser,chat:e.chat,"is-hide-form":e.isHideForm,"draft-message":e.draftMessage}}):e._e(),s("div",{staticClass:"b-dropzone__label"},[e._v(" "+e._s(e.$t("message.fileupload_drop_label"))+" ")])],1)]):e._e()},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("a481"),s("c5f6"),s("96cf"),s("3b8d")),a=s("bd86"),o=s("2ef0"),c=s("9029"),u=s("d634"),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-chat__header g-page__header",class:{"m-search-form-visible":e.isShowSearch}},[e.chat?[s("go-back",{attrs:{default:{name:"Chats"}}}),s("users-action",{attrs:{user:e.withUser,chat:e.chat,"class-btn":"btn btn-link m-not-width-limit m-hover-vertical m-btn-vertical-dots"}}),s("div",{staticClass:"b-chat__header__wrapper"},[s("h1",{staticClass:"g-page-title",attrs:{"at-attr":"page_title"}},[s("div",{staticClass:"b-username-row m-width-limit"},[s("div",{staticClass:"g-user-name m-nowrap-text"},[s(e.chat.canGoToProfile?"router-link":"span",e._b({tag:"component",staticClass:"g-user-realname__wrapper m-nowrap-text"},"component",e.userNameProps,!1),[s("span",{staticClass:"g-user-name",class:{"m-verified":e.withUser.isVerified}},[e.isInactiveUser?[e._v(" "+e._s(e.$t("message.inactive_user"))+" ")]:[e._v(" "+e._s(e._f("encodeHtml")(e.withUser.displayName||e.withUser.name))+" ")],e.withUser.isVerified?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-verified",attrs:{"extra-class":"m-verified"}}):e._e()],2),e.withUser.displayName&&e.withUser.name!==""+e.userLoginPrefix+e.withUser.id?s("span",{staticClass:"g-user-realname m-round-brackets"},[e._v(" "+e._s(e._f("encodeHtml")(e.withUser.name))+" ")]):e._e()])],1),s("user-custom-name",{attrs:{"user-id":e.withUser.id}})],1)])]),s("div",{staticClass:"b-chat__subheader"},[e.showUserStatus?s("div",{staticClass:"b-chat__subheader__col"},[s("div",{staticClass:"b-chat__user-status"},[e.isMutedUser?[s("span",{staticClass:"b-chat__header__online-badge m-muted"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-mute"})]),e._v(" "+e._s(e.$t("message.restricted_title"))+" ")]:e.withUser.hasStream?[s("span",{staticClass:"b-chat__header__live-badge"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-live"})]),e._v(" "+e._s(e.$t("message.profile_live_label"))+" ")]:e.withUser.isOnline?[s("span",{staticClass:"b-chat__header__online-badge"}),e._v(" "+e._s(e.$t("message.profile_available_now_label"))+" ")]:null!==e.withUser.lastSeen?[e._v(" "+e._s(e.$t("message.profile_last_seen_label"))+" "),e.withUser.lastSeen?s("utils-time",{attrs:{date:e.withUser.lastSeen,type:"feed"}}):[e._v(" "+e._s(e.$t("message.days_ago"))+" ")]]:e._e()],2)]):e._e(),e.isInactiveUser?e._e():[s("div",{staticClass:"b-chat__subheader__col"},[s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.addedLists.length?e.$t("message.open_users_lists_btn_label"):e.$t("message.add_to_users_lists_btn_label"),expression:"addedLists.length ? $t('message.open_users_lists_btn_label') : $t('message.add_to_users_lists_btn_label')"}],staticClass:"g-btn m-flat b-chat__add-to-favorites__btn m-reset-width",class:{"m-active":e.addedLists.length,"m-gray":!e.addedLists.length},attrs:{type:"button"},on:{click:e.openUsersListsModal}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],class:e.userListsIcon})])]),s("div",{staticClass:"b-chat__subheader__col"},[s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.chat.isMutedNotifications?e.$t("message.unmute_notifications"):e.$t("message.mute_notifications"),expression:"chat.isMutedNotifications ? $t('message.unmute_notifications') : $t('message.mute_notifications')"}],staticClass:"g-btn m-flat b-chat__add-to-favorites__btn m-reset-width",class:{"m-gray":e.chat.isMutedNotifications},attrs:{type:"button","at-attr":"mute_chat",disabled:e.disabledMuteNotifications},on:{click:e.muteNotifications}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],class:e.muteChatIcon})])])],s("user-note",{staticClass:"b-chat__subheader__col",attrs:{"user-id":e.chat.withUser,type:"icon"}}),s("div",{staticClass:"b-chat__subheader__col"},[s("router-link",{staticClass:"g-btn m-flat m-gray b-chat__header__search-btn m-no-uppercase m-reset-width m-default-font-weight",attrs:{"at-attr":"gallery_btn",to:{name:"Gallery"}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-media"}),s("span",{staticClass:"b-chat__subheader__col_text"},[e._v(e._s(e.$t("message.show_gallery")))])])],1),e.chat.hasPurchasedFeed?s("div",{staticClass:"b-chat__subheader__col"},[s("router-link",{staticClass:"g-btn m-flat m-gray b-chat__header__search-btn m-no-uppercase m-reset-width m-default-font-weight",attrs:{to:{name:"Purchased",query:{user:e.withUser.username}}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-payments-2nd"}),s("span",{staticClass:"b-chat__subheader__col_text"},[e._v(e._s(e.$t("message.message_type_purchases")))])])],1):e._e(),s("div",{staticClass:"b-chat__subheader__col"},[s("button",{staticClass:"g-btn m-flat m-gray b-chat__header__search-btn m-no-uppercase m-reset-width m-default-font-weight",class:{"m-active":e.isShowSearch},attrs:{type:"button","at-attr":"search_btn"},on:{click:e.toggleSearch}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-search"}),s("span",[e._v(e._s(e.$t("message.chat_header_search_btn_label")))])])])],2),s("form",{staticClass:"b-search-form b-form b-chat__search-form b-chat__search-form__small",on:{submit:function(t){return t.preventDefault(),e.doSearchMessages(t)}}},[s("button",{staticClass:"g-page__header__btn m-with-round-hover",attrs:{type:"button","at-attr":"close_search"},on:{click:e.toggleSearch}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.search_clear"),expression:"$t('message.search_clear')"}],staticClass:"icon-close"})]),s("div",{staticClass:"b-search-form__wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchField,expression:"searchField"}],ref:"searchField",staticClass:"b-search-form__input form-control b-chat__search-input",attrs:{type:"text",name:"query",maxlength:100,"at-attr":"chat_search_input",placeholder:e.$t("message.chat_search_input_placeholder"),autocomplete:"chats-header-input",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},domProps:{value:e.searchField},on:{input:function(t){t.target.composing||(e.searchField=t.target.value)}}}),e.isFirstLoad?e._e():s("div",{staticClass:"b-chat__search__results-nav"},[s("span",{staticClass:"b-chat__search__results-count",attrs:{"at-attr":"search_results_count"}},[e._v(" "+e._s(e.searchIds.length?e.currentSearchIndex+1:"0")+"/"+e._s(e.searchIds.length)+" ")]),s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.chat-search_results_nav_prev_title"),expression:"$t('message.chat-search_results_nav_prev_title')"}],staticClass:"b-chat__search__results-nav-btn m-prev g-btn m-with-round-hover m-icon m-icon-only m-sm-size",class:{"m-gray":e.currentSearchIndex+1>=e.searchIds.length},attrs:{type:"button",disabled:e.currentSearchIndex+1>=e.searchIds.length},on:{click:function(t){return e.changeCurrentSearchId("up")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-up",attrs:{"extra-class":"m-default-size"}})]),s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.chat-search_results_nav_next_title"),expression:"$t('message.chat-search_results_nav_next_title')"}],staticClass:"b-chat__search__results-nav-btn m-next g-btn m-with-round-hover m-icon m-icon-only m-sm-size",class:{"m-gray":e.currentSearchIndex<=0},attrs:{type:"button",disabled:e.currentSearchIndex<=0},on:{click:function(t){return e.changeCurrentSearchId("down")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-down",attrs:{"extra-class":"m-default-size"}})])])]),s("button",{staticClass:"g-page__header__btn m-with-round-hover",attrs:{type:"submit",disabled:e.searchingNow}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.search_button"),expression:"$t('message.search_button')"}],staticClass:"icon-search"})])])]:s("go-back")],2)},d=[],h=(s("6762"),s("2fdb"),s("33a44")),p=s("fa8d"),m=s("3ef6"),f=s("b6ee"),b=s("bb73"),g=s("16d9");function v(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function _(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?v(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):v(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var y={name:"ChatHeader",components:{UtilsTime:h["a"],UsersAction:p["a"],UserCustomName:m["a"],GoBack:f["a"],UserNote:b["a"]},mixins:[g["a"]],props:{chat:{type:Object,default:function(){}}},data:function(){return{searchField:"",isShowSearch:!1,isFirstLoad:!0,searchingNow:!1,disabledMuteNotifications:!1}},computed:_(_(_(_(_(_(_({},Object(u["tc"])(["getUser"])),Object(u["b"])(["authUser"])),Object(u["l"])(["messages"])),Object(u["n"])(["searchIds","currentSearchIndex"])),Object(u["Cb"])(["userLoginPrefix"])),Object(u["rb"])(["route"])),{},{withUser:function(){return this.getUser(this.chat.withUser)},isMutedUser:function(){return this.withUser.isRestricted},showUserStatus:function(){return!this.isInactiveUser&&(this.isMutedUser||this.withUser.hasStream||this.withUser.isOnline||null!==this.withUser.lastSeen)},isInactiveUser:function(){return"user_inactive"===this.chat.canNotSendReason},addedLists:function(){return this.withUser.listsStates?this.withUser.listsStates.filter((function(e){return["fans","following","rebill_on"].indexOf(e.type)<0&&e.hasUser})):[]},muteChatIcon:function(){return"icon-notification".concat(this.chat.isMutedNotifications?"-off":"")},userListsIcon:function(){return"icon-star-".concat(this.addedLists.length?"on":"default")},userNameProps:function(){return this.chat.canGoToProfile?{to:{name:"Profile",params:{userId:this.withUser.username}}}:{}}}),watch:{searchField:{handler:Object(o["debounce"])((function(e,t){e!==t&&(0===e.length&&t.length>0?this.$router.replace({query:_(_({},this.$route.query),{},{q:void 0})}):e.length<3||this.doSearchMessages())}),500)},route:function(e){var t=e.from;t&&t.params.chatId!==this.chat.withUser&&this.isShowSearch&&(this.searchField="",this.isShowSearch=!1)}},methods:_(_(_(_({},Object(u["k"])(["fetchChatsMessages","searchMessages","toggleMuteNotifications"])),Object(u["m"])(["setCurrentSearchIndex","setSearchIds"])),Object(u["yc"])(["setModalUser"])),{},{toggleSearch:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isShowSearch=!this.isShowSearch,this.isShowSearch){e.next=12;break}return this.searchField="",this.setCurrentSearchIndex(null),this.setSearchIds([]),this.isFirstLoad=!0,t=this.$route.params.chatId,e.next=9,this.fetchChatsMessages({userId:t});case 9:this.scrollToBottom(),e.next=13;break;case 12:this.$nextTick((function(){s.$refs.searchField.focus()}));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),openUsersListsModal:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.setModalUser({userId:this.withUser.id}),this.$nextTick((function(){t.$root.$emit("bv::show::modal","ModalUsersLists")}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),doSearchMessages:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.searchField.length){e.next=2;break}return e.abrupt("return");case 2:if(!this.searchingNow){e.next=4;break}return e.abrupt("return");case 4:return this.searchingNow=!0,e.next=7,this.searchMessages({id:this.withUser.id,query:this.searchField});case 7:if(t=e.sent,this.isFirstLoad=!1,this.searchingNow=!1,t.length){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,this.loadMessages(0);case 14:this.setCurrentSearchIndex(0);case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),loadMessages:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.chat.messages.includes(this.searchIds[t])){e.next=5;break}return s=this.$route.params.chatId,i=this.searchIds[t],e.next=5,this.fetchChatsMessages({userId:s,firstId:i,more:!0});case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),changeCurrentSearchId:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s="up"===t?this.currentSearchIndex+1:this.currentSearchIndex-1,e.next=3,this.loadMessages(s);case 3:this.setCurrentSearchIndex(s);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),muteNotifications:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.disabledMuteNotifications=!0,e.prev=1,e.next=4,this.toggleMuteNotifications(this.withUser.id);case 4:t=e.sent,t&&t.success&&this.$bvToast.toast(this.chat.isMutedNotifications?this.$t("message.mute_notifications_chats_toast",{USERNAME:this.withUser.username}):this.$t("message.unmute_notifications_chats_toast",{USERNAME:this.withUser.username}),{toastClass:"b-toaster__only_msg settings-toast",toaster:"b-toaster-bottom-left",autoHideDelay:1e3}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),alert(e.t0.data);case 11:this.disabledMuteNotifications=!1;case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}()})},w=y,O=s("2877"),C=Object(O["a"])(w,l,d,!1,null,null,null),k=C.exports,x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"listScroller",staticClass:"b-chats__scrollbar m-custom-scrollbar b-chat__messages m-native-custom-scrollbar m-scrollbar-y m-scroll-behavior-auto",class:{"empty-chats":e.isEmptyChats&&e.firstLoadingMessagesList,"m-no-scroll":e.isPreventScroll},on:{scroll:e.onScroll}},[e.firstLoadingMessagesList?e._e():s("div",{staticClass:"b-posts_preloader_container show_more_container"},[s("spinner-loader")],1),e.hasChatWith?s("div",{staticClass:"text-center m-mall-auto g-sides-gaps",domProps:{innerHTML:e._s(e.$t("message.type_a_message_below_to_start",{USER_NAME:e.withUser.name}))}}):e._e(),s("div",{staticClass:"b-chat__messages-wrapper"},[e.hasMoreMessagesTop?s("infinite-loading",{staticClass:"b-chat__loading b-chat__loading-top",attrs:{direction:"top",identifier:e.infiniteIdTop,distance:250},on:{infinite:e.infiniteHandlerTop},scopedSlots:e._u([{key:"spinner",fn:function(){return[s("div",{staticClass:"b-posts_preloader_container"},[s("spinner-loader",{attrs:{"is-loading-line":""}})],1)]},proxy:!0},{key:"no-more",fn:function(){return[s("div")]},proxy:!0},{key:"no-results",fn:function(){return[s("div")]},proxy:!0}],null,!1,205601447)}):e._e(),e.isEmptyChats||e.hasMoreMessages?e._e():s("div",{staticClass:"b-chat__message__system"},[e._v(" "+e._s(e.$t("message.system_message_conversatation_started"))+" ")]),e._l(e.groupByDate,(function(t,i){return s("div",{key:i,staticClass:"b-chat__item-message"},[s("div",{key:i,staticClass:"b-chat__message__system m-timeline",style:e.computedStyle},[s("div",{staticClass:"b-chat__messages__time"},[s("utils-time",{attrs:{date:i,type:"timeline"}})],1)]),e._l(t,(function(i,r){return[e.isShowMessageItem(i)?s("messages-item",{key:i.id,attrs:{message:i,chat:e.chat,"with-user":e.withUser,"next-message":t[r+1]}}):e._e(),i.id===e.chat.newMessageId?s("div",{key:i.id+e.withUser.id,staticClass:"b-chat__message__system m-new-message"},[s("span",{staticClass:"b-chat__messages__time"},[e._v(" "+e._s(e.newMessageText)+" ")])]):e._e()]}))],2)})),e.chat.typing?s("div",{staticClass:"b-chat__typing-message",class:{"m-empty-chat":e.isEmptyChats}},[s("avatar",{staticClass:"m-absolute",attrs:{"user-id":e.withUser.id,"is-link":!1,"hide-online":"",size:16}}),e._v(" "+e._s(e._f("encodeHtml")(e.withUser.name))+" "+e._s(e.$t("message.chat_is_typing_message"))+" "),s("span",{staticClass:"hellip-animate"},[e._v("...")])],1):e._e(),e.hasMoreMessagesBottom?s("infinite-loading",{staticClass:"b-chat__loading b-chat__loading-bottom",attrs:{direction:"bottom",identifier:e.infiniteIdBottom,distance:250},on:{infinite:e.infiniteHandlerBottom},scopedSlots:e._u([{key:"spinner",fn:function(){return[s("div",{staticClass:"b-posts_preloader_container"},[s("spinner-loader",{attrs:{"is-loading-line":""}})],1)]},proxy:!0},{key:"no-more",fn:function(){return[s("div")]},proxy:!0},{key:"no-results",fn:function(){return[s("div")]},proxy:!0}],null,!1,205601447)}):e._e()],2)])},P=[],S=s("5a0c"),j=s.n(S),M=(s("0da7"),s("e166")),I=s.n(M),$=s("e528"),L=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"message",staticClass:"b-chat__message",class:{"m-from-me":e.isMineMessage,"m-has-media":e.mHasMedia,"m-media-less-text":e.isMediaLessText,"m-media-less-audio":e.isMediaLessAudio,"m-media-less-purchase":e.isMediaLessPurchase,"m-audio":e.hasAudio,"m-photo":e.mPhoto,"m-text":e.mText,"m-tip":e.hasTips,"m-purchase":e.isMessagePurchaseVisible||e.isMessageNotAvailable,"m-time-hidden":e.isTimeHidden,"m-not-paid-yet":e.isNotPaidYet,"m-can-unsend":e.isCanCancel,"m-processing":e.isMediaProcessing},attrs:{"at-attr":"chat_message"}},[s("div",{staticClass:"b-chat__message__content"},[e.isMineMessage||e.isTimeHidden?e._e():s("avatar",{staticClass:"m-absolute",style:e.computedStyle,attrs:{"user-id":e.fromUser.id,"is-link":e.chat.canGoToProfile},nativeOn:{click:function(t){!e.chat.canGoToProfile&&e.maybeOpenCard({userId:e.withUser.id})}}}),s("div",{staticClass:"b-chat__message__body"},[e.message.isReportedByMeTemp?s("div",{staticClass:"b-chat__message__text m-reported",attrs:{"at-attr":"message_text"},domProps:{innerHTML:e._s(e.$t("message.thanks_for_reporting_message"))}}):[s("item-story",{style:e.computedStyle,attrs:{message:e.message},on:{toggleLikeMessage:e.toggleLikeMessage}}),e.hasTips?s("item-tips",{ref:"itemTips",style:e.computedStyle,attrs:{message:e.message,"message-text":e.messageText},on:{toggleLikeMessage:e.toggleLikeMessage}}):e._e(),s("item-media",{ref:"itemMedia",style:e.computedStyle,attrs:{message:e.message,"current-media":e.currentMedia,chat:e.chat,"with-user":e.withUser},on:{openReportModal:e.openReportModal}}),s("item-text",{ref:"itemText",attrs:{message:e.message,"is-not-paid-yet":e.isNotPaidYet,"is-mine-message":e.isMineMessage,"message-text":e.messageText},on:{toggleLikeMessage:e.toggleLikeMessage}})]],2),s("item-actions",{attrs:{message:e.message,"with-user":e.withUser,"is-can-cancel":e.isCanCancel},on:{toggleLikeMessage:e.toggleLikeMessage,doUnsendMessage:e.doUnsendMessage}})],1),e.isTimeHidden?e._e():s("item-time-bar",{style:e.computedStyle,attrs:{message:e.message,"is-mine-message":e.isMineMessage},on:{toggleLikeMessage:e.toggleLikeMessage}}),e.isCanCancel?[s("modal-unsend-messages",{attrs:{"modal-show":e.isUnsendConfirmShowQueue,title:e.$t("message.unsend_messagee_popup_title"),"agree-btn":e.$t("message.dialog_unsend_chat_message_button")},on:{"update:modalShow":function(t){e.isUnsendConfirmShowQueue=t},"update:modal-show":function(t){e.isUnsendConfirmShowQueue=t},"on-agree":e.unsendMessage,"on-cancel":e.cancelUnsendMessage}})]:e._e()],2)},T=[],U=(s("6b54"),s("a836")),D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{size:"sm","hide-header-close":"","hide-header":!e.showTitle,lazy:"",centered:""},scopedSlots:e._u([{key:"modal-header",fn:function(){return[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.title)+" ")])]},proxy:!0},{key:"modal-footer",fn:function(){return[s("button",{staticClass:"g-btn m-flat m-btn-gaps m-reset-width",attrs:{type:"button",disabled:e.disabledBtns},on:{click:e.doCancel}},[e._v(" "+e._s(e.cancelBtn)+" ")]),s("button",{staticClass:"g-btn m-flat m-btn-gaps m-reset-width",attrs:{type:"button",disabled:!e.unsendType},on:{click:e.doAgree}},[e._v(" "+e._s(e.agreeBtn)+" ")])]},proxy:!0}]),model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},e._l(e.types,(function(t){var i=t.value,r=t.label;return s("div",{key:i,staticClass:"g-input__wrapper b-input-radio__wrapper"},[s("span",{staticClass:"b-input-radio__container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.unsendType,expression:"unsendType"}],staticClass:"b-input-radio",attrs:{id:i+"_unsend",type:"radio"},domProps:{value:i,checked:e._q(e.unsendType,i)},on:{change:function(t){e.unsendType=i}}}),s("label",{staticClass:"b-input-radio__text",attrs:{for:i+"_unsend"}},[e._v(" "+e._s(r)+" ")]),s("span",{staticClass:"b-input-radio__label"},[s("span",{staticClass:"b-input-ripple"})])])])})),0)},E=[],A={name:"ModalUnsendMessages",props:{title:{type:String,required:!0},cancelBtn:{type:String,default:"Cancel"},agreeBtn:{type:String,default:"Yes"},modalShow:{type:Boolean,required:!0},disabledBtns:{type:Boolean,default:!1},disabledAgreeBtn:{type:Boolean,default:!1},closeOnAgree:{type:Boolean,default:!1},closeOnCancel:{type:Boolean,default:!1}},data:function(){return{unsendType:""}},computed:{show:{get:function(){return this.modalShow},set:function(e){this.$emit("update:modalShow",e),e||this.$emit("on-hide")}},showTitle:function(){return!!this.title},types:function(){return[{value:"current",label:this.$t("message.chat_unsend_in_this_dialog")},{value:"queue",label:this.$t("message.chat_unsend_this_mass_message")}]}},methods:{doAgree:function(){this.$emit("on-agree",this.unsendType),this.closeOnAgree&&(this.show=!1)},doCancel:function(){this.$emit("on-cancel"),this.unsendType&&(this.unsendType=""),this.closeOnCancel&&(this.show=!1)}}},F=A,B=Object(O["a"])(F,D,E,!1,null,null,null),R=B.exports,N=s("b48d"),q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isShow?s("b-dropdown",{ref:"postDropdown",staticClass:"m-hover-vertical m-btn-vertical-dots m-default-hover-color m-page-header-dots b-post__tools__more m-not-width-limit m-size-lg m-center",attrs:{right:"",dropright:"","toggle-class":"m-post-btn m-gray m-size-sm","menu-class":"m-dropdown-row m-not-fixed-dropdown",variant:"link",offset:"32",boundary:"true"},scopedSlots:e._u([{key:"button-content",fn:function(){return[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.tooltip_more"),expression:"$t('message.tooltip_more')"}],staticClass:"icon-more",attrs:{"extra-class":"m-dots-size-sm"}})]},proxy:!0}],null,!1,3517415849)},[e.hasTextToCopy?s("b-dropdown-item-button",{on:{click:function(t){return e.$copyText(e.copiedText)}}},[e._v(" "+e._s(e.$t("message.copy_message_text"))+" ")]):e._e(),e.isMineMessage?e.canForwardMessage||e.hasCancelMenu?[e.canForwardMessage?s("b-dropdown-item-button",{on:{click:e.doForwardMessage}},[e._v(" "+e._s(e.$t("message.forward"))+" ")]):e._e(),e.hasCancelMenu?s("b-dropdown-item-button",{on:{click:e.doUnsendMessage}},[e._v(" "+e._s(e.$t("message.chat_Message_unsend_button")+" "+e.transformCancelSeconds)+" ")]):e._e()]:e._e():[e.isUserBanned?s("b-dropdown-item-button",{on:{click:e.toggleLikeMessage}},[e._v(" "+e._s(e.message.isLiked?e.$t("message.post_like_button_title_unlike"):e.$t("message.post_like_button_title_like"))+" ")]):e._e(),s("b-dropdown-item-button",{attrs:{disabled:e.disabledHideMessage},on:{click:e.doHideMessage}},[e._v(" "+e._s(e.$t("message.chat_message_hide_item_button"))+" ")]),e.message.canReport?s("b-dropdown-item-button",{on:{click:e.openReportModal}},[e._v(" "+e._s(e.$t("message.report"))+" ")]):e._e()]],2):e._e()},V=[],z=(s("99cd"),s("8975"));function H(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function G(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?H(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):H(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Q={name:"ItemActions",props:{message:{type:Object,default:function(){return{}}},withUser:{type:Object,default:function(){return{}}},isCanCancel:{type:Boolean,required:!0}},data:function(){return{disabledHideMessage:!1,timeInterval:null}},computed:G(G({},Object(u["b"])(["authUserId","authUser"])),{},{isShow:function(){return this.hasTextToCopy||!this.isMineMessage||this.canForwardMessage||this.hasCancelMenu},isUserBanned:function(){return this.withUser&&!this.withUser.isRestricted&&!this.withUser.isBlocked},isMineMessage:function(){return this.message.fromUser===this.authUserId},hasCancelMenu:function(){return this.isCanCancel&&!!this.message.cancelSeconds},transformCancelSeconds:function(){return this.secondsToHms(this.message.cancelSeconds)},canForwardMessage:function(){return this.authUser.canSendChatToAll&&!this.message.isTip&&!this.message.isFundRaisingTip&&!this.message.story&&this.message.isMediaReady},copiedText:function(){return Object(z["c"])(this.message.text)},hasTextToCopy:function(){return this.message.text&&this.message.text.length&&!this.message.lockedText},isDesktop:function(){return"lg"===this.$mq}}),created:function(){this.startTimer()},mounted:function(){this.isDesktop&&this.$root.$on("chat::list::scroll",this.hide)},beforeDestroy:function(){this.clearTimer()},methods:G(G(G(G({},Object(u["R"])(["setReportType"])),Object(u["m"])(["setMessageCancelSeconds"])),Object(u["k"])(["setLikeMessage","setUnlikeMessage","hideMessage"])),{},{openReportModal:function(){var e=this.message.id;this.setReportType({type:"message",postId:e}),this.$root.$emit("bv::show::modal","ModalReport")},toggleLikeMessage:function(e){this.$emit("toggleLikeMessage",e,null,!0)},doUnsendMessage:function(e){this.$emit("doUnsendMessage",e)},doHideMessage:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$nextTick(Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.disabledHideMessage=!0,e.next=3,t.hideMessage(t.message.id);case 3:t.disabledHideMessage=!1;case 4:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),secondsToHms:function(e){var t="";e=Number(e);var s=Math.floor(e/3600),i=Math.floor(e%3600/60),r=Math.floor(e%3600%60);if(s>48)return t;var n=s>0?"".concat(s,"h"):"",a=i>0?"".concat(i,"m"):"",o=r>0?"".concat(r,"s"):"";return n?t="".concat(n," ").concat(a):a&&e>120?t="".concat(a," ").concat(o):e<=120&&(t="".concat(e,"s")),t},startTimer:function(){var e=this;this.isMineMessage&&this.message.cancelSeconds&&(this.timeInterval=setInterval((function(){var t=e.message,s=t.id,i=t.cancelSeconds;if(i){var r=i-1;0===r?(e.hide(),e.$nextTick((function(){e.setMessageCancelSeconds({messageId:s,value:r})}))):e.setMessageCancelSeconds({messageId:s,value:r})}else e.clearTimer()}),1e3))},clearTimer:function(){this.timeInterval&&clearInterval(this.timeInterval)},hide:function(){this.$refs.postDropdown&&this.$refs.postDropdown.hide()},doForwardMessage:function(){this.$router.push({name:"ChatsSend",params:{forwardMessageId:this.message.id}})}})},W=Q,Z=Object(O["a"])(W,q,V,!1,null,null,null),Y=Z.exports,K=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isShow?s("div",{staticClass:"b-chat__message__media-wrapper"},[e.isMessageNotAvailable?s("post-restricted",{attrs:{"user-id":e.message.fromUser,post:e.message,message:e.message,text:e.$t("message.message_is_unavailable")}}):[e.message.isMediaReady?[e.media.length?[e.visibleMediaWithoutAudio.length?s("div",{ref:"mediaMessage",staticClass:"b-chat__message__media",style:{width:e.previewMediaWidth(e.currentMedia,!0)}},[e.isShowReportButton?s("button",{staticClass:"b-chat__message__report-btn g-btn m-dark-bg m-lighter-bg m-rounded m-no-uppercase m-default-font-weight",on:{click:function(t){return t.stopPropagation(),e.openReportModal(t)}}},[s("span",[e._v(e._s(e.$t("message.report")))])]):e._e(),s("post-media",{style:{width:e.previewMediaWidth(e.visibleMediaWithoutAudio[0]),paddingTop:e.previewMediaPaddingTop(e.visibleMediaWithoutAudio[0])},attrs:{post:e.message,message:e.message}})],1):e._e(),e.hasAudioVisible?s("div",{ref:"audioMessage",staticClass:"chat-audio"},[s("audio-player",{attrs:{audio:e.audio,"response-type":e.message.responseType}})],1):e._e()]:e._e(),e.isMessagePurchaseVisible?s("post-purchase",{ref:"purchaseMessage",staticClass:"m-purchase-chat",attrs:{post:e.message,message:e.message,"is-subscribe-btn":e.isNeedAndCanSubscribeToPurchase}}):e._e()]:e.isMediaProcessing?[e.media.length&&!e.media[0].src?s("div",{staticClass:"b-chat__message__media post_media m-processing"},[s("div",{staticClass:"b-processing-content",attrs:{"at-attr":"processing_content"}},[s("spinner-loader",{staticClass:"b-spinner-processing"}),e._v(" "+e._s(e.msgCurrentlyProcessing)+" ")],1)]):e._e()]:e._e()]],2):e._e()},J=[],X=s("3bc9"),ee=s("9fb6"),te=s("4ca0"),se=s("3ce9"),ie=s("a8a6"),re=s("3c15");function ne(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function ae(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ne(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var oe={name:"ItemMedia",components:{SpinnerLoader:$["a"],PostMedia:X["a"],PostPurchase:ee["a"],PostRestricted:te["a"],AudioPlayer:se["a"]},mixins:[ie["a"],re["a"]],props:{message:{type:Object,required:!0},currentMedia:{type:Object,default:function(){return{}}},chat:{type:Object,default:function(){return{}}},withUser:{type:Object,default:function(){return{}}}},computed:ae(ae({},Object(u["b"])(["authUser","authUserId"])),{},{isShow:function(){return this.isMessageNotAvailable||this.isMediaProcessing||this.message.isMediaReady&&!!this.media.length||this.message.isMediaReady&&this.isMessagePurchaseVisible},isMineMessage:function(){return this.message.fromUser===this.authUserId},isMessageNotAvailable:function(){return!this.isMineMessage&&this.message.isMediaReady&&"not_available"===this.message.canPurchaseReason&&!this.message.isFree},isShowReportButton:function(){return!this.isMineMessage&&this.authUser.isPerformer&&this.message.canReport&&!this.withUser.isRealPerformer},isMediaProcessing:function(){return!this.message.isMediaReady&&(this.message.mediaCount||this.media.length)},msgCurrentlyProcessing:function(){return!this.message.isMediaReady&&this.isMineMessage?this.$t("message.media_currently_processing"):this.$t("message.media_currently_processing_not_mine")},isMessagePurchaseVisible:function(){return!this.isMineMessage&&!this.message.isTip&&(this.media.length||this.message.lockedText)&&(this.message.canPurchase||"unsubscribed"===this.message.canPurchaseReason)},isNeedAndCanSubscribeToPurchase:function(){return this.chat&&"unsubscribed"===this.chat.canNotSendReason&&this.withUser&&this.withUser.canAddSubscriber&&!this.withUser.subscribedBy&&!this.withUser.isBlocked&&"deleted_user"!==this.chat.canNotSendReason&&"user_inactive"!==this.chat.canNotSendReason}}),methods:{openReportModal:function(){this.$emit("openReportModal")}}},ce=oe,ue=Object(O["a"])(ce,K,J,!1,null,null,null),le=ue.exports,de=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isShow?s("div",{staticClass:"b-chat__message__text-wrapper",attrs:{"at-attr":"message_text"}},[s("div",{ref:"textMessage",staticClass:"b-chat__message__text"},[e.hasTextMessage?s("span",{directives:[{name:"touch",rawName:"v-touch",value:e.toggleLikeMessage,expression:"toggleLikeMessage"}],domProps:{innerHTML:e._s(e.messageText(e.message.text))},on:{click:e.innerLinkToRouter}}):e._e()])]):e._e()},he=[],pe=s("ebf6");function me(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function fe(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?me(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):me(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var be={name:"ItemText",mixins:[pe["a"]],props:{message:{type:Object,required:!0},isNotPaidYet:{type:Boolean,required:!0},isMineMessage:{type:Boolean,required:!0},messageText:{type:Function,required:!0}},data:function(){return{showCopyBtn:!1}},computed:fe(fe({},Object(u["n"])(["mobileVersion"])),{},{isShow:function(){return this.hasTextMessage&&(this.isMineMessage||!this.message.canPurchase||this.message.canPurchase&&this.message.isOpened||!this.message.lockedText)},hasTextMessage:function(){return this.message.text.length&&(!this.isNotPaidYet||this.isMineMessage||this.isNotPaidYet&&this.message.media.length)&&!this.message.isTip}}),methods:{toggleLikeMessage:function(e){this.$emit("toggleLikeMessage",e)}}},ge=be,ve=Object(O["a"])(ge,de,he,!1,null,null,null),_e=ve.exports,ye=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-chat__message__text-wrapper"},[s("div",{directives:[{name:"touch",rawName:"v-touch",value:e.toggleLikeMessage,expression:"toggleLikeMessage"}],staticClass:"b-chat__message__text",attrs:{"at-attr":"message_text"}},[s("span",{staticClass:"b-chat__message__tip-text"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-funds"}),s("span",{attrs:{"at-attr":"msg_tip"},domProps:{innerHTML:e._s(e.messageText(e.message.text))},on:{click:e.innerLinkToRouter}}),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-hearts"})]),e.message.tipText?s("span",{ref:"textMessage",staticClass:"b-chat__message__text-content",domProps:{innerHTML:e._s(e.messageText(e.message.tipText))},on:{click:e.innerLinkToRouter}}):e._e()])])},we=[],Oe={name:"ItemTips",mixins:[pe["a"]],props:{message:{type:Object,required:!0},messageText:{type:Function,required:!0}},methods:{toggleLikeMessage:function(e){this.$emit("toggleLikeMessage",e)}}},Ce=Oe,ke=Object(O["a"])(Ce,ye,we,!1,null,null,null),xe=ke.exports,Pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.message.story?s("div",{directives:[{name:"touch",rawName:"v-touch",value:e.toggleLikeMessage,expression:"toggleLikeMessage"}],staticClass:"chat-message-story-wrapper",class:{"m-unavailable":e.message.story.isExpired}},[e.message.story.isExpired?s("span",{staticClass:"b-chat-story-unavailable"},[e._v(" "+e._s(e.$t("message.story_is_unavailable"))+" ")]):s("chat-story",{attrs:{value:e.message.story}})],1):e._e()},Se=[],je=s("86bc"),Me={name:"ItemStory",components:{ChatStory:je["a"]},props:{message:{type:Object,required:!0}},methods:{toggleLikeMessage:function(e){this.$emit("toggleLikeMessage",e)}}},Ie=Me,$e=Object(O["a"])(Ie,Pe,Se,!1,null,null,null),Le=$e.exports,Te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"b-chat__message__time"},[e.message.isLiked?s("button",{staticClass:"g-btn m-flat b-chat__message__like m-with-round-hover m-size-sms-hover m-reset-width",attrs:{type:"button",disabled:e.isMineMessage},on:{click:e.toggleLikeMessage}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-liked"})]):e._e(),s("utils-time",{attrs:{date:e.message.createdAt,type:"time-only"}}),e.message.price>0?s("span",{staticClass:"b-chat__message__payment-state",attrs:{"at-attr":"payment_state"}},[e._v(" "+e._s(e.paidStatus)+" ")]):e._e(),e.isMineMessage?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],class:"icon-done"+(e.message.isNew?"":"-all")}):e._e()],1)},Ue=[],De=s("9df8"),Ee={name:"ItemTimeBar",components:{UtilsTime:h["a"]},mixins:[De["b"]],props:{message:{type:Object,required:!0},isMineMessage:{type:Boolean,required:!0}},computed:{paidStatus:function(){var e="message.paid_message_not_viewed_label";return this.message.isOpened&&(e="message.paid_message_media"),this.$t(e,{MESSAGE_PRICE:this.amountHumanShort(this.message.price)})}},methods:{toggleLikeMessage:function(e){this.$emit("toggleLikeMessage",e)}}},Ae=Ee,Fe=Object(O["a"])(Ae,Te,Ue,!1,null,null,null),Be=Fe.exports,Re=s("ebdc"),Ne=s("25ac"),qe=s("25e7"),Ve=s("5888"),ze=s("c785"),He=s("09e4"),Ge=s("79bb");function Qe(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function We(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Qe(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Ze={name:"MessagesItem",components:{ModalUnsendMessages:R,Avatar:N["a"],ItemActions:Y,ItemMedia:le,ItemText:_e,ItemTips:xe,ItemStory:Le,ItemTimeBar:Be},mixins:[Ne["a"],qe["a"],ze["a"],re["a"],Ve["a"],De["b"]],props:{message:{type:Object,required:!0},nextMessage:{type:Object,default:void 0},chat:{type:Object,default:function(){}},withUser:{type:Object,default:function(){return{}}},post:{type:Object,default:function(){}}},data:function(){return{currentMediaIndex:0,dblClickTimer:void 0,dblClickTimerDelay:300,isPlaying:!1,isBlurFoto:!1,showHoverButtonData:!1,isUnsendConfirmShowQueue:!1,isMediaError:!1,isMediaLessText:!1,isMediaLessAudio:!1,isMediaLessPurchase:!1,unsendConfirmId:null}},computed:We(We(We(We(We({},Object(u["b"])(["authUserId"])),Object(u["tc"])(["getUser"])),Object(u["l"])(["getLikePrevent","getIsMediaPlayed"])),Object(u["n"])(["chatsLoading","mobileVersion","searchIds","currentSearchIndex","searchQuery","messageIdToCentered"])),{},{likePrevent:function(){return!!this.message.id&&this.getLikePrevent(this.message.id)},isMediaPlayed:function(){return!!this.message.id&&this.getIsMediaPlayed(this.message.id)},fromUser:function(){return this.getUser(this.message.fromUser)},isMineMessage:function(){return this.message.fromUser===this.authUserId},isTimeHidden:function(){if(this.message.isLiked)return!1;if(!this.nextMessage)return!1;if(this.nextMessage.fromUser!==this.message.fromUser)return!1;if(!this.message.isFree||!this.nextMessage.isFree)return!1;var e=new Date(this.message.createdAt),t=new Date(this.nextMessage.createdAt),s=3e5;return t-e<s},currentSearchId:function(){return this.searchIds[this.currentSearchIndex]},isNotPaidYet:function(){return!this.message.isFree&&!this.message.isOpened},isCanCancel:function(){return!!this.message.cancelSeconds&&this.isMineMessage},currentMedia:function(){return this.media[this.currentMediaIndex]},computedStyle:function(){return c["isIOS"]?"-webkit-user-select: none;":c["isAndroid"]?"-webkit-touch-callout: none;":""},mHasMedia:function(){return this.message.mediaCount>0||this.media.length},hasAudio:function(){var e=!1;if(this.media.length){var t=this.media.filter((function(e){return e.canView&&"audio"===e.type}));e=!!t.length}return e},mPhoto:function(){var e=!1;if(this.media.length){var t=this.media.filter((function(e){return"photo"===e.type}));e=!!t.length}return e},mText:function(){return this.message.text.length},hasTips:function(){return(this.message.isTip||this.message.isFundRaisingTip)&&this.message.tipAmount},isMessagePurchaseVisible:function(){return!this.isMineMessage&&!this.message.isTip&&(this.media.length||this.message.lockedText)&&(this.message.canPurchase||"unsubscribed"===this.message.canPurchaseReason)},isMessageNotAvailable:function(){return!this.isMineMessage&&this.message.isMediaReady&&"not_available"===this.message.canPurchaseReason&&!this.message.isFree},needAlignMessage:function(){return this.messageIdToCentered===Number(this.message.id)},isMediaProcessing:function(){return!this.message.isMediaReady&&(this.message.mediaCount||this.media.length)}}),watch:{currentSearchIndex:function(e){Number(this.searchIds[e])===Number(this.message.id)&&this.verticallyCenterMessage()},needAlignMessage:function(e){e&&(this.verticallyCenterMessage(),this.setMessageIdToCentered(null))},hasAudioVisible:{handler:function(e){var t=this;e&&this.$nextTick((function(){t.init()}))},deep:!0},"message.media":{handler:function(){this.$nextTick(this.calcMediaLessVariables)},deep:!0,immediate:!0}},mounted:function(){this.updatePlayers(),this.toggleIsBlurFoto(),this.chat.lastMessage===this.message.id&&(this.setChatAsRead(this.chat.withUser),this.setLastReadMessageId(this.message.chatId)),window.addEventListener("resize",this.debouncedCalcMediaVariables)},updated:function(){this.updatePlayers()},beforeDestroy:function(){this.hideUnsendConfirm(),this.$root.$off("destroyPhotoSwipe",this.gallerySlideClicked),window.removeEventListener("resize",this.debouncedCalcMediaVariables)},methods:We(We(We(We({},Object(u["m"])(["decrMessageCancelSeconds","setLikePrevent","deleteMessage","setChatAsRead","setLastReadMessageId","setMessageIdToCentered"])),Object(u["k"])(["deleteMessages","setLikeMessage","setUnlikeMessage","fetchChatsMessages"])),Object(u["R"])(["setReportType"])),{},{unsendConfirmShowCurrent:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.unsendConfirmId=Math.random().toString(36).substr(2,9),e.next=3,window.interact(this.$t("message.dialog_unsend_chat_message_title_new"),{confirmText:this.$t("message.dialog_unsend_chat_message_button"),id:this.unsendConfirmId});case 3:t=e.sent,t?this.unsendMessage():this.cancelUnsendMessage();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),openReportModal:function(){var e=this.message.id;this.setReportType({type:"message",postId:e}),this.$root.$emit("bv::show::modal","ModalReport")},updatePlayers:function(){this.$refs.audio&&Re["a"].init(this.$refs.audio)},verticallyCenterMessage:function(){if(this.$refs.message){var e=this.$refs.message.querySelector(".b-chat__message__text")||this.$refs.message;e.scrollIntoView({block:"center",inline:"nearest"})}},doUnsendMessage:function(){this.mobileVersion&&document.body.classList.add("no-bottom"),this.message.canUnsendQueue&&(this.isUnsendConfirmShowQueue=!0),this.message.canUnsendQueue||this.unsendConfirmShowCurrent()},unsendMessage:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t&&"current"!==t){e.next=8;break}return s=this.chat.withUser,i=this.message.id,e.next=5,this.deleteMessages({chatId:s,messageId:i});case 5:document.body.classList.contains("no-bottom")&&document.body.classList.remove("no-bottom"),window.enableBodyScroll(),this.chat.messages.length||this.$router.replace({name:"Chats"});case 8:"queue"===t&&this.unsendQueue();case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),unsendQueue:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.chat.withUser,e.prev=1,this.isUnsendConfirmShowQueue=!1,e.next=5,Object(U["a"])(this.message.queueId);case 5:s=e.sent,s&&s.success&&(this.deleteMessage({chatId:t,messageId:this.message.id}),this.isUnsendConfirmShowQueue=!1,document.body.classList.contains("no-bottom")&&document.body.classList.remove("no-bottom")),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),Object(He["b"])(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}(),messageText:function(e){if(!this.isMineMessage&&/I\s+sent\s+you\s+a\s+\S*\s*tip/gim.test(e)||(e=Object(Ge["a"])(e)),+this.message.id===+this.currentSearchId){var t=this.searchQuery.toLowerCase();return this.highlight(e,t,"b-chat__message__text-highlighted")}return e},gallerySlideClicked:function(){this.$root.$off("destroyPhotoSwipe",this.gallerySlideClicked);var e=Object(o["get"])(this,"swiper.realIndex")||0,t=Object(o["get"])(this,"visibleMediaWithoutAudio[".concat(e,"].type"));"video"!==t&&"gif"!==t&&this.showPhotoSwipe({index:e})},toggleLikeMessage:function(e,t,s){var i=this;e.target.closest(".js-chat-story")||"a"!==(Object(o["get"])(e,"target.tagName")||"").toLowerCase()&&this.$refs.message&&!this.isMineMessage&&!this.chatsLoading&&(this.message.isFree||this.message.isOpened||s)&&(this.withUser.isRestricted||!this.withUser.canRestrict||this.withUser.isBlocked||(s||e&&e.currentTarget===this.$refs.message.querySelector(".b-chat__message__like")?this.finishLikeEvent():(this.isPlaying||this.isMediaPlayed)&&e.target!==this.$refs.message.querySelector(".b-chat__message__text")||(e.stopPropagation(),e.preventDefault(),this.setLikePrevent({messageId:this.message.id,value:!0}),this.dblClickTimer?this.finishLikeEvent():this.dblClickTimer=setTimeout((function(){clearTimeout(i.dblClickTimer),i.dblClickTimer=void 0,"function"===typeof t&&t.call(),i.setLikePrevent({messageId:i.message.id,value:!1})}),this.dblClickTimerDelay))))},finishLikeEvent:function(){clearTimeout(this.dblClickTimer),this.dblClickTimer=void 0,this.message.isLiked?this.setUnlikeMessage({messageId:this.message.id,withUserId:this.withUser.id}):this.setLikeMessage({messageId:this.message.id,withUserId:this.withUser.id})},clickToPlay:function(e){var t=this;e.stopPropagation(),e.preventDefault(),this.toggleLikeMessage(e,(function(){t.isPlaying=!0,t.$refs.audio&&Re["a"].play(t.$refs.audio)}))},toggleIsBlurFoto:function(){this.isBlurFoto=(!1===this.withUser.isRealPerformer||!this.withUser.isPerformer)&&!this.isMineMessage},mouseover:function(){this.showHoverButtonData=!0},mouseleave:function(){this.showHoverButtonData=!1},cancelUnsendMessage:function(){this.isUnsendConfirmShowQueue=!1,setTimeout((function(){document.body.classList.contains("no-bottom")&&document.body.classList.remove("no-bottom")}),500)},hideUnsendConfirm:function(){this.unsendConfirmId&&(this.$root.$emit("bv::hide::modal",this.unsendConfirmId),this.cancelUnsendMessage())},mediaError:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isMediaError){e.next=2;break}return e.abrupt("return");case 2:return this.isMediaError=!0,t=this.$route.params.chatId,e.next=6,this.fetchChatsMessages({userId:t,firstId:this.message.id,limit:1,more:!0,before:!1});case 6:this.isPhotoSwipeOpen&&(this.$root.$once("destroyPhotoSwipe",this.gallerySlideClicked),this.isPhotoSwipeOpen=!1);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),debouncedCalcMediaVariables:Object(o["debounce"])((function(){this.calcMediaLessVariables()}),100),calcMediaLessVariables:function(){var e=128,t=7,s=this.message.story?e:Object(o["get"])(this,"$refs.itemMedia.$refs.mediaMessage.clientWidth"),i=Object(o["get"])(this,"$refs.itemText.$refs.textMessage.clientWidth"),r=Object(o["get"])(this,"$refs.itemTips.$refs.textMessage.clientWidth"),n=i||r,a=Object(o["get"])(this,"$refs.itemMedia.$refs.audioMessage.clientWidth"),c=Object(o["get"])(this,"$refs.itemMedia.$refs.purchaseMessage.$el.clientWidth");this.message.story&&(s=e),this.isMediaLessText=!!(n&&s&&s<n&&Math.abs(s-n)>t),this.isMediaLessAudio=!!(a&&s&&s<a&&Math.abs(s-a)>t),this.isMediaLessPurchase=!!(c&&s&&s<c&&Math.abs(s-c)>t)},init:function(){this.updatePlayers()}})},Ye=Ze,Ke=Object(O["a"])(Ye,L,T,!1,null,null,null),Je=Ke.exports;function Xe(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function et(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Xe(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var tt={name:"MessagesList",components:{MessagesItem:Je,UtilsTime:h["a"],InfiniteLoading:I.a,SpinnerLoader:$["a"],Avatar:N["a"]},mixins:[g["a"]],props:{chat:{type:Object,default:function(){return{}}}},data:function(){return{infiniteIdTop:+new Date,isLoadingTop:!1,infiniteIdBottom:+new Date,isLoadingBottom:!1,scrollPosition:0,isPreventScroll:!1,isFirstIdCentered:!Object(o["get"])(this,"$route.query.firstId"),isFirstLoading:!1}},computed:et(et(et(et(et(et(et({},Object(u["rb"])(["route"])),Object(u["tc"])(["getUser"])),Object(u["l"])(["getMessages"])),Object(u["n"])(["mobileVersion","emptyMessagesList","firstLoadingMessagesList","messagesHasMore"])),Object(u["b"])(["authUserId","authUser"])),Object(u["xc"])(["currentFiltersIds"])),{},{messages:function(){return this.getMessages(this.chat.messages).filter((function(e){return!e.isReportedByMe&&!(0===e.text.length&&!1===e.isTip&&0===e.mediaCount&&!0===e.isFree)}))},groupByDate:function(){return Object(o["groupBy"])(this.messages,(function(e){return j()(e.createdAt).startOf("date").format()}))},withUser:function(){return this.getUser(this.chat.withUser)},isIOS:function(){return c["isIOS"]},computedStyle:function(){return this.isIOS?"-webkit-user-select: none;":""},hasChatWith:function(){return this.isEmptyChats&&this.firstLoadingMessagesList&&!this.chat.canNotSendReason},messagesIdList:function(){return this.messages.map((function(e){return e.id}))},newMessageText:function(){var e=this.messagesIdList.length,t=this.messagesIdList.indexOf(this.chat.newMessageId);return e-t>1?this.$t("message.new_messages"):this.$t("message.new_message")},hasMoreMessages:function(){var e=this.$route.params.chatId;return this.messagesHasMore[e]||{}},hasMoreMessagesTop:function(){return!!this.hasMoreMessages.top},hasMoreMessagesBottom:function(){return!!this.hasMoreMessages.bottom},isEmptyChats:function(){return!this.messages.length&&this.emptyMessagesList}}),watch:{messagesIdList:function(e){var t=this;if(!this.isFirstIdCentered){var s=Number(this.$route.query.firstId);e.includes(s)&&(this.$nextTick((function(){t.scrollToBottomChats()})),e[e.length-1]===s&&this.hasMoreMessagesBottom||(this.isFirstLoading=!0,this.isFirstIdCentered=!0,this.$nextTick((function(){t.setMessageIdToCentered(s)}))))}},messages:function(e,t){this.scrollStateChatsHandler(e,t),this.readNewMsg()},"chat.typing":function(e){e&&this.scrollToBottomChats()},route:{handler:function(e){var t=this,s=e.to,i=e.from;s&&s.params.chatId&&this.currentFiltersIds.includes("priority")&&(this.chat.unreadMessagesCount&&this.setChatMessagesCountPushNotifications({userId:this.authUserId}),this.authUser.countPriorityChat&&this.setChatPriorityCountPushNotifications({userId:this.authUserId})),s&&i&&+s.params.chatId!==+i.params.chatId&&(this.setFirstLoadingMessagesList(!1),this.removeAllCurrentMedia()),this.$nextTick((function(){t.infiniteIdTop+=1,t.infiniteIdBottom+=1,t.scrollToBottomChats()}))},immediate:!0},mobileVersion:function(){this.scrollToBottomChats()}},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick((function(){t.scrollToBottomChats()}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:et(et(et(et(et({},Object(u["k"])(["fetchChatsMessages","markChatAsRead"])),Object(u["yc"])(["setChatMessagesCountPushNotifications","setChatPriorityCountPushNotifications"])),Object(u["m"])(["setFirstLoadingMessagesList","setMessageIdToCentered"])),Object(u["t"])(["resetCurrentPlayVideo","resetCurrentPlayAudio"])),{},{infiniteHandlerTop:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isLoadingTop){e.next=2;break}return e.abrupt("return");case 2:if(!document.documentElement.classList.contains("m-prevent-scrolling")){e.next=5;break}return this.infiniteIdTop+=1,e.abrupt("return");case 5:return this.isLoadingTop=!0,e.next=8,this.loadMoreTop();case 8:this.isLoadingTop=!1,this.hasMoreMessagesTop?t.loaded():t.complete(),this.scrollMessagesList();case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),infiniteHandlerBottom:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isLoadingBottom){e.next=2;break}return e.abrupt("return");case 2:if(!document.documentElement.classList.contains("m-prevent-scrolling")){e.next=5;break}return this.infiniteIdBottom+=1,e.abrupt("return");case 5:return this.isLoadingBottom=!0,e.next=8,this.loadMoreBottom();case 8:this.isLoadingBottom=!1,this.hasMoreMessagesBottom?t.loaded():t.complete();case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),loadMoreTop:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.chatId,s=this.chat.messages[0],e.abrupt("return",this.fetchChatsMessages({userId:t,id:s,more:!0}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),loadMoreBottom:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.chatId,s=this.chat.messages[this.chat.messages.length-1],e.abrupt("return",this.fetchChatsMessages({userId:t,lastId:s,order:"asc",before:!1,more:!0}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),readNewMsg:function(){var e=this,t=this.messages.filter((function(t){return t.isNew&&t.fromUser!==e.authUserId&&t.needMarkChatAsRead}));t.length&&this.chat.unreadMessagesCount&&this.markChatAsRead(this.withUser.id)},scrollStateChatsHandler:function(e,t){if(t.length){if(e.length&&t.length){var s=e[e.length-1],i=t[t.length-1];(s.id>i.id||s.id===i.id&&s.mediaCount>0&&s.isMediaReady&&i.mediaCount>0&&!i.isMediaReady)&&this.scrollToBottomChats()}}else this.scrollToBottomChats();this.$refs.listScroller&&(this.scrollPosition=this.$refs.listScroller.scrollHeight-this.$refs.listScroller.scrollTop)},scrollToBottomChats:function(){var e=this.$refs.listScroller;(e&&!this.hasMoreMessagesBottom||!this.isFirstLoading)&&this.$nextTick((function(){e.scrollTop=e.scrollHeight}))},isShowMessageItem:function(e){return e.mediaCount>0||e.media.length>0||e.text.length>0},onScroll:function(){this.$root.$emit("chat::list::scroll")},removeAllCurrentMedia:function(){this.resetCurrentPlayVideo(),this.resetCurrentPlayAudio()},scrollMessagesList:function(){var e=this,t=this.$refs.listScroller;if(t){this.isPreventScroll=!0;var s=t.scrollTop,i=t.scrollHeight,r=t.offsetHeight;this.$nextTick((function(){e.isPreventScroll=!1,s+r+100>i?e.scrollToBottomChats():t.scrollTop=i-e.scrollPosition}))}}})},st=tt,it=Object(O["a"])(st,x,P,!1,null,null,null),rt=it.exports,nt=s("9307"),at=s("a2fa"),ot=s("f747"),ct=s("998d");function ut(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function lt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ut(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var dt={name:"PageChat",components:{ChatHeader:k,MessagesList:rt,MakePost:function(){return{component:Promise.all([s.e("MakeFeedPost~live~mediaVault"),s.e("streaming"),s.e("MakeFeedPost")]).then(s.bind(null,"f108")),delay:10}},SubscribeBtn:at["a"],AlertOF:nt["a"]},mixins:[g["a"],pe["a"],ot["a"]],data:function(){return{error:!1,viewPortHeight:"",diff:""}},computed:lt(lt(lt(lt(lt(lt(lt({},Object(u["l"])(["getChat"])),Object(u["n"])(["mobileVersion"])),Object(u["tc"])(["getUser"])),Object(u["b"])(["authUserId","authUser","isAuth"])),Object(u["rb"])(["route"])),Object(u["v"])(["draftMessageById"])),{},{draftMessage:function(){return this.$route.query.scheduleMessageId||this.isHideForm||this.withUser.isRestricted?null:this.draftMessageById(this.$route.params.chatId)},chat:function(){return this.getChat(this.$route.params.chatId)},withUser:function(){return this.chat?this.getUser(this.chat.withUser):null},isHideForm:function(){return!Object(ct["a"])(this.authUser,this.chat)},isIOS:function(){return c["isIOS"]},userIdToSubscribe:function(){return this.withUser&&this.withUser.id?this.withUser.id:null},isNeedAndCanSubscribeToChat:function(){return this.chat&&"unsubscribed"===this.chat.canNotSendReason&&this.withUser&&this.withUser.id&&this.withUser.canAddSubscriber&&!this.withUser.subscribedBy&&!this.withUser.isBlocked&&"deleted_user"!==this.chat.canNotSendReason&&"user_inactive"!==this.chat.canNotSendReason},hasNewMessages:function(){return Object(o["get"])(this,"chat.lastReadMessageId")&&Object(o["get"])(this,"chat.lastReadMessageId")!==Object(o["get"])(this,"chat.lastMessage")}}),watch:{route:function(e){var t=this,s=e.to,i=e.from;this.$nextTick((function(){t.infiniteId+=1})),this.mobileVersion&&("Chat"===s.name&&"Chats"===i.name&&document.documentElement.classList.add("p-personal-chats-chat"),"Chats"===s.name&&"Chat"===i.name&&document.documentElement.classList.remove("p-personal-chats-chat")),"Chat"===s.name&&"Chat"===i.name&&s.params.chatId!==i.params.chatId&&this.getUsersIfNeeded({entities:{users:Object(a["a"])({},s.params.chatId,{_views:["m"]})}}),this.setCurrentChat(s.params.chatId),"Chat"===s.name&&s.params.chatId!==i.params.chatId&&this.clearNewMessageId(i.params.chatId)},mobileVersion:function(e){document.documentElement.classList.toggle("p-personal-chats-chat",!(!e||!this.$route.params.chatId))},viewPortHeight:function(e,t){var s=document.getElementById("make_post_form");s&&(this.diff=t-e,s.classList.toggle("chats-emoji-form",this.diff<70&&this.diff>5))}},created:function(){this.setCurrentChat(this.$route.params.chatId)},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$route.params.chatId,s=this.$route.query.firstId,!t){e.next=23;break}if(Number(t)!==this.authUserId){e.next=7;break}return this.$router.replace({name:"Chats"}),alert(this.$t("message.cannot_chating_with_yourself")),e.abrupt("return");case 7:if(this.getChat(t)){e.next=19;break}return e.prev=8,e.next=11,this.fetchChat(t);case 11:e.next=19;break;case 13:return e.prev=13,e.t0=e["catch"](8),this.$router.replace({name:"Chats"}),this.error=!0,Sentry.captureException(e.t0),e.abrupt("return");case 19:return e.next=21,this.getUsersIfNeeded({entities:{users:Object(a["a"])({},t,{_views:["m"]})}});case 21:this.hasNewMessages&&this.setNewMessageIds(this.chat.lastReadMessageId),s?this.fetchChatsMessages({userId:t,firstId:s}):this.fetchChatsMessages({userId:t});case 23:this.mobileVersion&&document.documentElement.classList.toggle("p-personal-chats-chat",!!t),document.getElementById("content")&&document.getElementById("content").classList.add("no-padding"),this.isIOS&&window.visualViewport&&window.visualViewport.addEventListener("resize",this.viewportHandler);case 26:case"end":return e.stop()}}),e,this,[[8,13]])})));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){document.getElementById("content")&&document.documentElement.classList.contains("no-padding")&&document.getElementById("content").classList.remove("no-padding"),this.mobileVersion&&document.documentElement.classList.remove("p-personal-chats-chat"),this.isIOS&&window.visualViewport&&window.visualViewport.removeEventListener("resize",this.viewportHandler)},methods:lt(lt(lt(lt({},Object(u["k"])(["fetchChatsMessages","fetchChat"])),Object(u["m"])(["setCurrentChat","clearNewMessageId","setNewMessageIds"])),Object(u["sc"])(["getUsersIfNeeded"])),{},{viewportHandler:function(){this.isIOS&&window.visualViewport&&(this.viewPortHeight=window.visualViewport.height)}})},ht=dt,pt=Object(O["a"])(ht,i,r,!1,null,null,null);t["default"]=pt.exports},e1f3:function(e,t,s){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},e265:function(e,t,s){e.exports=s("ed33")},e43a:function(e,t,s){"use strict";var i=s("8121");t["a"]=function(e){var t=e.block,s=e.isRestrict,r=e.user,n=s?"RestrictUser":"BlockUser",a=s?!r.isRestricted:!r.isBlocked;a&&Object(i["h"])({page:n,eventTime:(new Date).toISOString(),block:t})}},e4ca:function(e,t,s){"use strict";var i=s("0068").unescapeAll;e.exports=function(e,t,s){var r,n,a=0,o=t,c={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){t++;while(t<s){if(r=e.charCodeAt(t),10===r)return c;if(60===r)return c;if(62===r)return c.pos=t+1,c.str=i(e.slice(o+1,t)),c.ok=!0,c;92===r&&t+1<s?t+=2:t++}return c}n=0;while(t<s){if(r=e.charCodeAt(t),32===r)break;if(r<32||127===r)break;if(92===r&&t+1<s){if(32===e.charCodeAt(t+1))break;t+=2}else{if(40===r&&(n++,n>32))return c;if(41===r){if(0===n)break;n--}t++}}return o===t||0!==n||(c.str=i(e.slice(o,t)),c.lines=a,c.pos=t,c.ok=!0),c}},e4f9:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-chats__conversations m-create-chat"},[e.isShowList?s("div",{staticClass:"b-chats__conversations-list form-step"},[s("div",{staticClass:"b-chats__header g-page__header m-new m-real-sticky m-reset-sides-gaps"},[s("go-back",{attrs:{default:{name:"Chats"}}}),s("header-with-back-to-top",{attrs:{text:e.$t("message.new_message_button")},on:{action:function(t){return e.scrollToTop("smooth")}}}),s("page-title",{attrs:{title:e.$t("message.new_message_button")}}),e.mobileVersion?s("button",{staticClass:"g-btn m-rounded chat_next_button m-sm",attrs:{"at-attr":"chat_next_button",type:"button",disabled:!e.usersCount&&!e.selectedUsers.length||e.isUsersLoading},on:{click:e.goToNextStep}},[e._v(" "+e._s(e.$t("message.next_button"))+" ")]):e._e()],1),e.authUser.canSendChatToAll&&e.showGroups?[s("div",{staticClass:"b-content-filter"},[s("h3",{staticClass:"b-content-filter__title"},[e._v(" "+e._s(e.$t("message.send_to_btn"))+" ")]),s("div",{staticClass:"b-content-filter__group-btns"},[s("button",{staticClass:"g-btn m-flat m-link m-no-uppercase m-reset-width m-default-font-weight",on:{click:e.viewAllListInclude}},[e._v(" "+e._s(e.$t("message.view_all_btn"))+" ")])])]),s("div",{staticClass:"b-tabs__nav m-tab-rounded"},[s("swiper",{directives:[{name:"swiper-mousewheel",rawName:"v-swiper-mousewheel"}],ref:"swiperInclude",staticClass:"m-gaps-inside m-gaps-outside m-slide-width-auto",class:{"m-reset-center":"sms"!==e.$mq||e.mobileVersion},attrs:{options:e.swiperOptions},on:{reachEnd:function(t){return e.reachEnd(e.$refs.swiperInclude)}}},[e.userRecentListId?s("swiper-slide",{key:e.userRecentListId},[s("button",{staticClass:"b-tabs__nav__item",class:{"m-current":e.hasIncludedRecentList},attrs:{type:"button",disabled:e.disabledListInclude(e.userRecentListId)},on:{click:e.openScheduleDate}},[e.scheduledSubscribedOn&&"include"===e.currentRecent?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-done"}):e._e(),s("span",{staticClass:"b-tabs__nav__text"},[e._v(" "+e._s(e.titleRecentFilter)+" ")])])]):e._e(),e._l(e.usersListsInclude,(function(t){return s("swiper-slide",{key:t.id},[s("button",{staticClass:"b-tabs__nav__item",class:{"m-current":e.hasIncludedListId(t.id)},attrs:{type:"button",disabled:e.disabledListInclude(t.id)},on:{click:function(s){return e.includeUsersList(t.id)}}},[e.hasIncludedListId(t.id)?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-done"}):e._e(),s("span",{staticClass:"b-tabs__nav__text"},[e._v(" "+e._s(e._f("encodeHtml")(t.name))+" "+e._s(t.usersCount)+" ")])])])})),e.isListsLoading?s("spinner-loader"):e._e()],2)],1),e.usersListsInclude.length?s("div",{staticClass:"b-chat__collapse-section"},[s("div",{staticClass:"b-content-filter"},[s("h3",{staticClass:"b-content-filter__title"},[e._v(" "+e._s(e.$t("message.exclude"))+" ")]),s("div",{staticClass:"b-content-filter__group-btns"},[s("button",{staticClass:"g-btn m-flat m-link m-no-uppercase m-reset-width m-default-font-weight",attrs:{disabled:!e.usersListsExclude.length},on:{click:e.viewAllListExclude}},[e._v(" "+e._s(e.$t("message.view_all_btn"))+" ")]),s("button",{staticClass:"g-btn m-flat m-gray m-semi-light m-with-round-hover m-btn-arrow m-reset-width m-default-icon-size m-reset-width",class:{"m-selected":e.excludeListIds.length&&!e.isShowExcludeLists},attrs:{type:"button",disabled:!!e.excludeListIds.length||!e.usersListsExclude.length}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],class:"icon-arrow-"+(e.isShowExcludeLists?"up":"down"),on:{click:function(t){e.isShowExcludeLists=!e.isShowExcludeLists}}})])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowExcludeLists,expression:"isShowExcludeLists"}],staticClass:"b-chat__collapse-section__body"},[s("div",{staticClass:"b-tabs__nav m-tab-rounded"},[s("swiper",{directives:[{name:"swiper-mousewheel",rawName:"v-swiper-mousewheel"}],ref:"swiperExclude",staticClass:"m-gaps-inside m-gaps-outside m-reset-center m-slide-width-auto",attrs:{options:e.swiperOptions},on:{reachEnd:function(t){return e.reachEnd(e.$refs.swiperExclude)}}},[e._l(e.usersListsExclude,(function(t){return s("swiper-slide",{key:t.id},[s("button",{staticClass:"b-tabs__nav__item",class:{"m-current":e.hasExcludedListId(t.id)},attrs:{type:"button",disabled:e.disabledListExclude(t.id)},on:{click:function(s){return e.excludeUsersList(t.id)}}},[e.hasExcludedListId(t.id)?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-done"}):e._e(),s("span",{staticClass:"b-tabs__nav__text"},[e._v(" "+e._s(e._f("encodeHtml")(t.name))+" "+e._s(t.usersCount)+" ")])])])})),e.isListsLoading?s("spinner-loader"):e._e()],2)],1)])]):e._e()]:e._e(),s("div",{staticClass:"b-chats__search-users-wrapper",class:{"m-active-filter":e.isShowSelectedCountList}},[e.isShowSelectedCountList?s("filter-counter",{attrs:{"count-text":e.usersCountText,"is-loading":e.isUsersLoading&&!e.offset&&!e.searchQuery},on:{remove:e.removeSelectedUsers}}):e._e(),s("datetime",{ref:"scheduledSubscribedOn",staticClass:"b-chats__datepicker custom-datepicker",attrs:{"input-id":"scheduledSubscribedOn",format:{year:"numeric",month:"long",day:"numeric",timeZoneName:"short"},type:"date",title:e.$t("message.subscribed_on"),"max-datetime":(new Date).toISOString(),"min-datetime":e.minDate},on:{input:e.onChangedRecentDate,close:e.closeScheduleDate},scopedSlots:e._u([{key:"button-cancel",fn:function(){return[s("button",{staticClass:"g-btn m-flat m-btn-gaps m-no-uppercase",attrs:{type:"button"},on:{click:e.cancelScheduledSubscribedOn}},[e._v(" "+e._s(e.$t("message.cancel_button"))+" ")])]},proxy:!0},{key:"button-confirm",fn:function(){return[s("button",{staticClass:"g-btn m-flat m-btn-gaps m-no-uppercase",attrs:{type:"button"}},[e._v(" "+e._s(e.$t("message.save"))+" ")])]},proxy:!0}],null,!1,3690510684),model:{value:e.scheduledSubscribedOn,callback:function(t){e.scheduledSubscribedOn=t},expression:"scheduledSubscribedOn"}}),s("div",{staticClass:"b-chats__search-users-form"},[e.isUsersLoading&&e.searchQuery?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-loading",attrs:{"extra-class":"b-chats__search-users-icon"}}):s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-search",attrs:{"extra-class":"b-chats__search-users-icon"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchUsersInput,expression:"searchUsersInput"}],staticClass:"form-control b-chats__search-users-input js-chats__search-users-input",attrs:{type:"text",maxlength:100,autocomplete:"chats-send-input",placeholder:e.$t("message.chats_new_messg"),autocorrect:"off",autocapitalize:"off",spellcheck:"false"},domProps:{value:e.searchUsersInput},on:{input:function(t){t.target.composing||(e.searchUsersInput=t.target.value)}}}),s("button",{staticClass:"b-chats__search-users-clear js-chats__search-users-clear m-with-round-hover m-size-sm-hover",class:{"g-invisible":0===e.searchUsersInput.length},attrs:{type:"button"},on:{click:e.clearSearchUsersInput}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})])])],1),s("div",{staticClass:"chat-users-section"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowFilter,expression:"isShowFilter"}],staticClass:"b-content-filter"},[s("h2",{staticClass:"b-content-filter__title"},[e._v(" "+e._s(e.chatsSendTitle)+" ")]),s("div",{staticClass:"b-content-filter__group-btns"},[s("subscribers-filter",{attrs:{"chats-filter-priority":""}})],1)]),s("div",{staticClass:"b-users-lists-wrapper"},[!e.isUsersLoading||e.offset&&!e.searchQuery?s("div",{staticClass:"b-chats__available-users__list"},[s("div",{ref:"listScroller",staticClass:"b-chats__scroller",class:{"m-native-custom-scrollbar m-scrollbar-y m-invisible-scrollbar":!e.mobileVersion}},[e.renderChatListUsers.length?e._l(e.renderChatListUsers,(function(t){return s("button",{key:t.id,staticClass:"b-chats__available-users__item b-input-radio__container",class:{selected:e.inSelected(t.id)},attrs:{type:"button"},on:{click:function(s){return e.selectUser(t.id)}}},[s("avatar",{staticClass:"m-border-line-theme m-chat-avatar m-valign-center m-absolute",attrs:{"user-id":t.id,size:50,"is-link":!1}}),s("span",{staticClass:"b-chats__available-users__value"},[s("span",{staticClass:"b-username-row m-width-limit m-gap-more"},[s("span",{staticClass:"b-username m-flex"},[s("span",{staticClass:"g-user-name m-md-size"},[e._v(" "+e._s(e._f("encodeHtml")(t.displayName||t.name))+" ")]),t.displayName&&t.name!==""+e.userLoginPrefix+t.id?s("span",{staticClass:"g-user-realname"},[e._v(" ("+e._s(e._f("encodeHtml")(t.name))+") ")]):e._e()]),t.isVerified?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-verified",attrs:{"extra-class":"m-verified-icon"}}):e._e()]),s("span",{staticClass:"b-username-row m-width-limit m-gap-clear"},[s("span",{staticClass:"b-username"},[s("span",{staticClass:"g-user-username"},[e._v(" @"+e._s(t.username)+" ")])])]),e.authUser.isPerformer&&e.authUser.canSendChatToAll?s("span",{staticClass:"b-input-radio__label b-chats__available-users__item__checkbox",class:{"m-active":e.inSelected(t.id)}},[e.inSelected(t.id)?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-done"}):e._e(),s("span",{staticClass:"b-input-ripple"})]):e._e()])],1)})):e._e(),e.hasMoreUsers?s("infinite-loading",{attrs:{identifier:e.infiniteId},on:{infinite:e.infiniteHandler},scopedSlots:e._u([{key:"spinner",fn:function(){return[s("div",{staticClass:"b-posts_preloader_container show_more_container"},[s("spinner-loader")],1)]},proxy:!0},{key:"no-more",fn:function(){return[s("div")]},proxy:!0},{key:"no-results",fn:function(){return[s("div")]},proxy:!0}],null,!1,1173538536)}):e._e()],2),e.messageEmptyResult?s("div",{staticClass:"b-chat__search-nothing"},[e._v(" "+e._s(e.messageEmptyResult)+" ")]):e._e()]):s("div",{staticClass:"b-posts_preloader_container show_more_container"},[s("spinner-loader")],1)])])],2):e._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowMessage,expression:"isShowMessage"}],staticClass:"b-chats__conversations-content"},[s("div",{ref:"dragUploadArea",staticClass:"b-chat step2 has-advanced-upload"},[s("div",{staticClass:"b-chat__header g-page__header g-sides-gaps"},[e.mobileVersion?s("button",{staticClass:"g-page__header__btn m-with-round-hover",attrs:{type:"button"},on:{click:e.goToPrevStep}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-back"})]):e._e(),s("header-with-back-to-top",{attrs:{text:e.newMessageTitle}}),s("page-title",{attrs:{title:e.newMessageTitle}})],1),s("div",{staticClass:"b-chat__messages"}),e.isScheduleMessageLoading?e._e():[e.isAuth&&e.authUser.isPerformer?s("make-post",{staticClass:"m-chat-footer",attrs:{"users-ids-to-send":e.usersIdsToSend,"user-ids":e.userIds,"list-ids":e.listIds,"exclude-list-ids":e.excludeListIds,"excluded-users-ids":e.excludedUsersIds,"user-id-to-send":e.userIdToSend,"fund-raising-post-id":e.fundRaisingPostId,awards:e.awards,"post-donators":e.postDonators,"post-buyers":e.postBuyers,"post-likes":e.postLikes,"post-voters":e.postVoters,"send-to-queue":e.sendToQueue,"users-count":e.usersCount,"is-chat":"",chat:e.chat,"schedule-queue-message":e.scheduleQueueMessage,"scheduled-subscribed-on":e.scheduledSubscribedOn,"swiper-key":e.step,"chats-send-list":e.chatsSendList}}):s("div",{staticClass:"chat-footer__alert"},[s("alert-o-f",{attrs:{text:e.$t("message.please_select_one_recepient")}})],1)]],2)])])},r=[],n=(s("8e6e"),s("456d"),s("a481"),s("28a5"),s("c5f6"),s("ee1d"),s("96cf"),s("3b8d")),a=(s("6762"),s("2fdb"),s("ac6a"),s("5df3"),s("4f7f"),s("75fc")),o=s("bd86"),c=s("2ef0"),u=s("5a0c"),l=s.n(u),d=s("a836"),h=s("5892"),p=s("1cf1"),m=s("d634"),f=s("859b"),b=s("e166"),g=s.n(b),v=s("6ea3"),_=s("e528"),y=s("0c3f"),w=s("b6ee"),O=s("b48d"),C=s("9307"),k=s("c34a"),x=s("1560"),P=s("ad97"),S=s("4ead"),j=s("09e4"),M=s("b775"),I=(s("d355"),s("709f"));function $(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function L(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?$(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var T={name:"ChatsSendPage",components:{HeaderWithBackToTop:v["a"],InfiniteLoading:g.a,SpinnerLoader:_["a"],SubscribersFilter:y["a"],GoBack:w["a"],MakePost:function(){return{component:Promise.all([s.e("MakeFeedPost~live~mediaVault"),s.e("streaming"),s.e("MakeFeedPost")]).then(s.bind(null,"f108")),delay:10}},Datetime:f["Datetime"],Avatar:O["a"],AlertOF:C["a"],FilterCounter:k["a"]},mixins:[x["a"],P["a"],S["a"]],data:function(){return{step:1,searchUsersInput:"",isUsersLoading:!1,chatUsersIds:[],isShow:!0,infiniteId:+new Date,swiperOptions:{slidesPerView:"auto",watchOverflow:!0,spaceBetween:8,watchSlidesVisibility:!0,mousewheel:!0,threshold:5},limit:M["e"],offset:0,showGroups:!0,contributorsCount:0,fundRaisingPostId:0,sendToQueue:0,isScheduleMessageLoading:!!this.$route.query.scheduleMessageId,postDonators:void 0,postBuyers:void 0,postVoters:void 0,postLikes:void 0,scheduledSubscribedOn:"",isShowExcludeListsProxy:null,currentRecent:"",listIds:[],awards:[],excludeListIds:[],excludedUsersIds:[],userIds:[],chatsSendList:["userIds","chatUsersIds","listIds","awards","excludeListIds","excludedUsersIds","fundRaisingPostId","sendToQueue","postDonators","postBuyers","postLikes","postVoters","scheduledSubscribedOn"],searchedUsersIds:[],isListsLoading:!1,hasMoreLists:!1}},computed:L(L(L(L(L(L(L(L(L({},Object(m["b"])(["authUser","isAuth"])),Object(m["n"])(["showViewAllInclude","selectViewAllInclude","showViewAllExclude","selectViewAllExclude","mobileVersion","usersTotal","hasMoreUsers","scheduleQueueMessage"])),Object(m["vc"])(["getUsersList"])),Object(m["xc"])(["usersListsIds"])),Object(m["tc"])(["getUser"])),Object(m["Cb"])(["userLoginPrefix"])),Object(m["rb"])(["route"])),Object(m["v"])(["draftMessageById"])),{},{draftMessage:function(){return this.$route.query.scheduleMessageId?null:this.draftMessageById(this.$route.params.chatId||"queue")},isShowSelectedCountList:function(){return(!!this.selectedUsers.length&&void 0!==this.selectedUsers[0]||this.sendToGroup)&&!this.isBigModel},chatsOrderField:function(){var e=this.$route.query.chats_field,t=void 0===e?"recent":e;return t},chatsOrderDir:function(){var e=this.$route.query.order_dir,t=void 0===e?"desc":e;return t},usersLists:function(){var e=this;return this.usersListsIds.map((function(t){return e.getUsersList(t)}))},usersListsInclude:function(){var e=this;return this.usersLists.filter((function(t){return t&&t.type&&"recent"!==t.type&&t.usersCount>0&&!e.hasExcludedListId(t.id)}))},usersListsExclude:function(){var e=this;return this.usersLists.filter((function(t){return t&&t.type&&"recent"!==t.type&&t.usersCount>0&&!e.hasIncludedListId(t.id)}))},usersCountText:function(){switch(!0){case this.specificBulkMessage:return"".concat(this.usersTotal," ").concat(this.$t("message.selected"));case this.sendToGroup:return"".concat(this.usersTotal," ").concat(this.$t("message.selected"));case!this.listIds.length&&!!this.userIds.length:return"".concat(this.userIds.length," ").concat(this.$t("message.selected"));default:return""}},chat:function(){return{canSendMessage:!0}},totalUsersIds:function(){return Object(a["a"])(new Set([].concat(Object(a["a"])(this.chatUsersIds),Object(a["a"])(this.userIds))))},totalWithoutExcludedUsersIds:function(){var e=this;return this.totalUsersIds.filter((function(t){return!e.excludedUsersIds.includes(t)}))},specificBulkMessage:function(){return!!(this.fundRaisingPostId||this.awards.length||this.sendToQueue||this.postDonators||this.postBuyers||this.postVoters||this.postLikes)},selectedUsers:function(){return this.isGroupMessage?this.mapUsersByIds(this.totalWithoutExcludedUsersIds):this.mapUsersByIds(this.userIds)},usersIdsToSend:function(){return this.isGroupMessage?this.selectedUsers.map((function(e){return e.id})):this.userIds},countUsersByGroup:function(){return this.isGroupMessage?this.usersTotal:0},usersCount:function(){return this.isGroupMessage?this.sendToGroup&&this.isBigModel?2:this.countUsersByGroup:0},newMessageTitle:function(){return this.isGroupMessage?this.sendToGroup?(this.setSelectedUsersIds(0),this.$tc("message.new_message_to_count_users_lists_message_plural",this.listIds.length)):this.countUsersByGroup>0?(this.setSelectedUsersIds(this.countUsersByGroup),this.$tc("message.new_message_to_count_users_message_plural",this.countUsersByGroup,{COUNT:this.countUsersByGroup})):this.$t("message.new_message_to_users_message"):this.userIds.length?(this.setSelectedUsersIds(this.userIds.length),this.$tc("message.new_message_to_count_users_message_plural",this.userIds.length,{COUNT:this.userIds.length})):this.$t("message.new_message_to_users_message")},chatsSendTitle:function(){return this.$t("message.chats_send_title_".concat(this.chatsOrderField))},isShowList:function(){return!(!0===this.mobileVersion&&2===this.step)},isShowMessage:function(){return!(!0===this.mobileVersion&&1===this.step)},userIdToSend:function(){return this.sendToGroup&&1===this.selectedUsers.length?this.selectedUsers[0].id:0},minDate:function(){return l()().subtract(1,"months").toISOString()},isShowExcludeLists:{get:function(){return null!==this.isShowExcludeListsProxy?this.isShowExcludeListsProxy:"true"===I["a"].getItem("chatShowExcludeLists")},set:function(e){this.isShowExcludeListsProxy=e,I["a"].setItem("chatShowExcludeLists",e)}},titleRecentFilter:function(){if(!this.scheduledSubscribedOn||"include"!==this.currentRecent)return"".concat(this.$t("message.chats_send_filter_recent"),"...");if(l()(this.scheduledSubscribedOn).isSame(l()(),"day"))return this.$t("message.chat_recent_today");var e=l()().diff(this.scheduledSubscribedOn,"days")+1;return this.$t("message.chat_last_day_recent",{DAYS:e})},isBigModel:function(){return this.authUser.subscribersCount>200||this.authUser.subscribesCount>200&&this.authUser.isPerformer},sendToGroup:function(){return!(!this.listIds||!this.listIds.length)},isShowFilter:function(){return!this.isBigModel||this.specificBulkMessage||this.searchQuery},searchQuery:function(){return this.searchUsersInput.length>2?this.searchUsersInput:void 0},hasIncludedRecentList:function(){return this.hasIncludedListId("recent")},renderChatListUsers:function(){var e=this.searchQuery?this.searchedUsersIds:this.totalUsersIds;return this.mapUsersByIds(e)},messageEmptyResult:function(){return this.isUsersLoading?"":this.renderChatListUsers.length||!this.hasIncludedRecentList||this.isBigModel?this.searchQuery?this.searchedUsersIds.length?"":"".concat(this.$t("message.not_search_user_chat"),' "').concat(this.searchQuery,'"'):this.chatUsersIds.length?"":this.isBigModel?this.sendToGroup?"":this.$t("message.please_select_list"):this.sendToGroup?"":this.$t("message.big_model_not_users_chats"):this.$t("message.users_not_found")},isGroupMessage:function(){return this.sendToGroup||this.specificBulkMessage},userRecentList:function(){return this.getUsersList("recent")||{}},userRecentListId:function(){return this.userRecentList.id||0},userRecentListDate:function(){return this.searchQuery||!this.scheduledSubscribedOn?void 0:l()(this.scheduledSubscribedOn).subtract(1,"days").toISOString()}}),watch:{step:function(e){2===e&&this.mobileVersion&&document.documentElement.classList.add("p-personal-chats-chat"),2!==e&&document.documentElement.classList.remove("p-personal-chats-chat")},route:{handler:function(e){var t=e.to,s=e.from;Object(c["isEqual"])(t,s)||(Object(c["get"])(this,"$refs.listScroller")&&(this.$root.$emit("message::to::draft",s.params.chatId||"queue"),this.scrollToTop()),this.debouncedGetChatsUsers(),this.infiniteId+=1)}},mobileVersion:function(e){e?(this.isShow=!1,2===this.step&&document.documentElement.classList.add("p-personal-chats-chat")):(this.isShow=!0,document.documentElement.classList.remove("p-personal-chats-chat"))},searchUsersInput:function(e,t){e===t||e.length>0&&e.length<3||!e.length&&t.length?this.searchedUsersIds=[]:(this.isUsersLoading=!0,this.debouncedSearchChatsUsers())},showViewAllInclude:function(e){var t=this;if(!e&&this.listIds.join(",")!==this.selectViewAllInclude.join(",")){var s=[].concat(Object(a["a"])(this.listIds.filter((function(e){return!t.selectViewAllInclude.includes(e)}))),Object(a["a"])(this.selectViewAllInclude.filter((function(e){return!t.hasIncludedListId(e)}))));s.forEach((function(e){return t.includeUsersList(e)}))}},showViewAllExclude:function(e){var t=this;if(!e&&this.excludeListIds.join(",")!==this.selectViewAllExclude.join(",")){var s=[].concat(Object(a["a"])(this.excludeListIds.filter((function(e){return!t.selectViewAllExclude.includes(e)}))),Object(a["a"])(this.selectViewAllExclude.filter((function(e){return!t.hasExcludedListId(e)}))));s.forEach((function(e){return t.excludeUsersList(e)}))}}},created:function(){this.setHasMoreUsers(!1),this.$route.query.scheduleMessageId?this.$root.$on("message::from::draft",this.getMessageFromDraft):this.getMessageFromDraft()},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r,n,a,o,u,l,m,f,b,g,v,_,y,w,O,C;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(document.getElementById("content").classList.add("no-padding"),this.isBigModel||(this.isUsersLoading=!0),!this.authUser.canSendChatToAll){e.next=5;break}return e.next=5,this.getUsersLists();case 5:if(t=this.$route.query.scheduleMessageId,!t){e.next=10;break}return e.next=9,this.getScheduleMessageId(t);case 9:this.setDataSchedule();case 10:if(s=+this.$route.query.fundraising_post_id,Number.isNaN(s)||!this.authUser.canSendChatToAll){e.next=29;break}return e.prev=12,e.next=15,Object(h["n"])(s);case 15:if(i=e.sent,!i||!i.count){e.next=23;break}return this.contributorsCount=i.count,this.fundRaisingPostId=s,this.showGroups=!1,this.listIds=[],this.getChatsUsers(),e.abrupt("return");case 23:alert("There is no one to send"),e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](12),Object(j["b"])(e.t0);case 29:if(r=this.$route.query.post_donators,!+r||!this.authUser.canSendChatToAll){e.next=46;break}return e.prev=31,this.postDonators=+r,this.showGroups=!1,this.listIds=[],e.next=37,this.getChatsUsers();case 37:if(!this.usersTotal){e.next=39;break}return e.abrupt("return");case 39:this.postDonators=void 0,alert("There is no one to send"),e.next=46;break;case 43:e.prev=43,e.t1=e["catch"](31),Object(j["b"])(e.t1);case 46:if(n=this.$route.query.post_buyers,!+n||!this.authUser.canSendChatToAll){e.next=63;break}return e.prev=48,this.postBuyers=+n,this.showGroups=!1,this.listIds=[],e.next=54,this.getChatsUsers();case 54:if(!this.usersTotal){e.next=56;break}return e.abrupt("return");case 56:this.postBuyers=void 0,alert("There is no one to send"),e.next=63;break;case 60:e.prev=60,e.t2=e["catch"](48),Object(j["b"])(e.t2);case 63:if(a=this.$route.query.post_likes,!+a||!this.authUser.canSendChatToAll){e.next=80;break}return e.prev=65,this.postLikes=+a,this.showGroups=!1,this.listIds=[],e.next=71,this.getChatsUsers();case 71:if(!this.usersTotal){e.next=73;break}return e.abrupt("return");case 73:this.postLikes=void 0,alert("There is no one to send"),e.next=80;break;case 77:e.prev=77,e.t3=e["catch"](65),Object(j["b"])(e.t3);case 80:if(o=this.$route.query.post_voters,!o||!this.authUser.canSendChatToAll){e.next=97;break}return e.prev=82,this.postVoters=o,this.showGroups=!1,this.listIds=[],e.next=88,this.getChatsUsers();case 88:if(!this.usersTotal){e.next=90;break}return e.abrupt("return");case 90:this.postVoters=void 0,alert("There is no one to send"),e.next=97;break;case 94:e.prev=94,e.t4=e["catch"](82),Object(j["b"])(e.t4);case 97:if(u=this.$route.query,l=u.fans_top,m=u.year,f=u.month,!(l&&+m&&+f&&this.authUser.canSendChatToAll)){e.next=116;break}return e.prev=99,e.next=102,Object(p["i"])({year:m,month:f,chat:1});case 102:if(b=e.sent,!b||!b.count){e.next=110;break}return this.contributorsCount=b.count,this.awards=[m,f],this.showGroups=!1,this.listIds=[],this.getChatsUsers(),e.abrupt("return");case 110:alert("There is no one to send"),e.next=116;break;case 113:e.prev=113,e.t5=e["catch"](99),Object(j["b"])(e.t5);case 116:if(g=+this.$route.query.queue,Number.isNaN(g)||!this.authUser.canSendChatToAll){e.next=136;break}return e.prev=118,e.next=121,Object(d["n"])(g);case 121:if(v=e.sent,_=v.size,!_){e.next=130;break}return this.contributorsCount=_,this.sendToQueue=g,this.showGroups=!1,this.listIds=[],this.getChatsUsers(),e.abrupt("return");case 130:alert("There is no one to send"),e.next=136;break;case 133:e.prev=133,e.t6=e["catch"](118),Object(j["b"])(e.t6);case 136:if(y=Object(c["get"])(this.$route.params,"sendList"),!y){e.next=145;break}if(this.usersListsIds.length){e.next=141;break}return e.next=141,this.getUsersLists();case 141:w=this.idToNumber(y),O=this.getUsersList(w),C=O?O.id:void 0,C&&this.includeUsersList(C);case 145:if(this.setSelectViewAllInclude(this.listIds),this.setSelectViewAllExclude(this.excludeListIds),t){e.next=151;break}this.debouncedGetChatsUsers(),e.next=154;break;case 151:return e.next=153,this.getChatsUsers();case 153:this.isScheduleMessageLoading=!1;case 154:case"end":return e.stop()}}),e,this,[[12,26],[31,43],[48,60],[65,77],[82,94],[99,113],[118,133]])})));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){document.documentElement.classList.remove("p-personal-chats-send"),document.querySelector(".l-header")&&document.querySelector(".l-header").classList.remove("g-hidden"),this.setMessageScheduledQueue(null),this.$root.$off("message::from::draft",this.getMessageFromDraft)},methods:L(L(L(L(L({},Object(m["k"])(["fetchChatsUsers","getMessageScheduledQueue"])),Object(m["uc"])(["fetchUsersLists"])),Object(m["m"])(["setSelectedUsersIds","setUsersTotal","setShowViewAllInclude","setSelectViewAllInclude","setShowViewAllExclude","setSelectViewAllExclude","setMessageScheduledQueue","setHasMoreUsers"])),Object(m["yc"])(["setModalUser"])),{},{idToNumber:function(e){return Number(e)||e},mapUsersByIds:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t&&Array.isArray(t)&&t.length?t.reduce((function(t,s){var i=e.getUser(s)||{};return i.id?[].concat(Object(a["a"])(t),[i]):t}),[]):[]},getMessageFromDraft:function(){this.draftMessage?this.setDataSchedule():this.clearDraft()},getChatsUsers:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r,n,o,c,u,l,d,h,p,m,f,b,g,v=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=v.length>0&&void 0!==v[0]&&v[0],this.searchQuery||this.specificBulkMessage||!this.isBigModel){e.next=5;break}return this.isUsersLoading=!1,this.chatUsersIds=[],e.abrupt("return");case 5:return t||(this.searchQuery?this.searchedUsersIds=[]:this.chatUsersIds=[],this.offset=0,this.infiniteId=+new Date),this.isUsersLoading=!0,s=this.$route.query,i=s.total_spent,r=s.tips,n=s.duration,o=s.inactive,c=s.recommenders,u=s.signed_up_before,l=s.signed_up_after,d={total_spent:i,tips:r,duration:n,inactive:o,recommenders:c,signed_up_before:u,signed_up_after:l},this.searchQuery||(this.postDonators&&(d.post_donators=this.postDonators),this.postBuyers&&(d.post_buyers=this.postBuyers),this.postLikes&&(d.post_liked=this.postLikes),this.postVoters&&(h="string"===typeof this.postVoters?this.postVoters.split(","):[],d.post_voters=h.length>1?h:this.postVoters),this.listIds.length&&(p=this.listIds.filter((function(e){return e===Number(e)})).join(),p&&(d.list_id=p)),this.excludeListIds.length&&(m=this.excludeListIds.filter((function(e){return e===Number(e)})).join(),m&&(d.excluded_lists=m)),this.userIds.length&&(d.included_users=this.userIds.join()),this.excludedUsersIds.length&&(d.excluded_users=this.excludedUsersIds.join()),this.sendToQueue&&(d.queue_buyers=this.sendToQueue),this.fundRaisingPostId&&(d.fundraising_post=this.fundRaisingPostId),this.awards.length&&(d.awards=this.awards.join("/")),this.userRecentListDate&&(d.recent=1)),f={offset:this.offset,field:this.chatsOrderField,sort:this.chatsOrderDir,filter:d,query:this.searchQuery,scheduledSubscribedOn:this.userRecentListDate},e.prev=11,e.next=14,this.fetchChatsUsers(f);case 14:b=e.sent,e.next=20;break;case 17:return e.prev=17,e.t0=e["catch"](11),e.abrupt("return");case 20:this.offset+=this.limit,g=this.searchQuery?"searchedUsersIds":"chatUsersIds",this[g]=t?Object(a["a"])(new Set([].concat(Object(a["a"])(this[g]),Object(a["a"])(b)))):Object(a["a"])(b),this.isUsersLoading=!1;case 24:case"end":return e.stop()}}),e,this,[[11,17]])})));function t(){return e.apply(this,arguments)}return t}(),debouncedSearchChatsUsers:Object(c["debounce"])((function(){this.getChatsUsers()}),500),debouncedGetChatsUsers:Object(c["debounce"])((function(){this.getChatsUsers()}),0),selectUser:function(e){this.authUser.isPerformer&&this.authUser.canSendChatToAll?this.inSelected(e)?(this.removeUserFromSelected(e),this.setUsersTotal(this.usersTotal-1)):this.isGroupMessage?(this.chatUsersIds.includes(e)||(this.userIds=Object(a["a"])(new Set([].concat(Object(a["a"])(this.userIds),[e])))),this.excludedUsersIds=this.excludedUsersIds.filter((function(t){return t!==e})),this.setUsersTotal(this.usersTotal+1)):(this.userIds=[].concat(Object(a["a"])(this.userIds),[e]),this.setUsersTotal(this.usersTotal+1)):this.$router.push({name:"Chat",params:{chatId:e}})},inSelected:function(e){return this.isGroupMessage?this.totalWithoutExcludedUsersIds.includes(e):this.userIds.includes(e)},removeUserFromSelected:function(e){this.isGroupMessage&&this.chatUsersIds.includes(e)&&(this.excludedUsersIds=Object(a["a"])(new Set([].concat(Object(a["a"])(this.excludedUsersIds),[e])))),this.userIds=this.userIds.filter((function(t){return e!==t}))},clearSearchUsersInput:function(){this.searchUsersInput="",this.searchedUsersIds=[],this.getChatsUsers()},goToNextStep:function(){if(this.sendToGroup)this.step=2;else if(this.selectedUsers.length>1)this.step=2;else if(1===this.selectedUsers.length){var e={name:"Chat",params:{chatId:this.selectedUsers[0].id}},t=this.$route.params,s=t.forwardMessageId,i=t.vaultFiles,r=t.scheduleDate;s&&(e.params.forwardMessageId=s),i&&i.length?e.params.vaultFiles=i:r&&(e.params.scheduleDate=r),this.$router.replace(e)}},goToPrevStep:function(){if(this.specificBulkMessage)return document.documentElement.classList.remove("p-personal-chats-chat"),void this.goBack({name:"Chats"});this.step=1},infiniteHandler:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getChatsUsers(!0);case 2:this.hasMoreUsers?t.loaded():t.complete();case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),scrollToTop:function(e){var t=Object(c["get"])(this,"$refs.listScroller");t&&t.scrollTop&&this.$nextTick((function(){t.scrollTo({top:0,behavior:e})}))},getUsersLists:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]&&i[0],this.isListsLoading=!0,e.next=4,this.fetchUsersLists({more:t,view:"queue"});case 4:s=e.sent,this.hasMoreLists=!!s.length,this.isListsLoading=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),includeUsersList:function(e){var t=this.idToNumber(e);this.hasIncludedListId(t)?this.listIds=this.listIds.filter((function(e){return e!==t})):(this.listIds=Object(a["a"])(new Set([].concat(Object(a["a"])(this.listIds),[t]))),this.excludeListIds=this.excludeListIds.filter((function(e){return e!==t}))),this.listIds.length||(this.excludedUsersIds=[]),this.debouncedGetChatsUsers()},hasIncludedListId:function(e){return this.listIds.includes(e)},setDataSchedule:function(){var e=this;if(this.scheduleQueueMessage){var t={userIds:"userIds",excludedUsersIds:"excludeUserIds",excludeListIds:"excludedLists",listIds:"userLists"};this.chatsSendList.forEach((function(s){var i=t[s];i in e.scheduleQueueMessage&&e.scheduleQueueMessage[i]&&(e[s]=e.scheduleQueueMessage[i].map((function(e){return Number(e)})))}))}else this.draftMessage&&this.chatsSendList.forEach((function(t){t in e.draftMessage&&e.draftMessage[t]&&(e[t]=e.draftMessage[t])}));this.excludeListIds&&this.excludeListIds.length&&(this.isShowExcludeLists=!0);var s=this.scheduleQueueMessage||this.draftMessage,i=s.scheduledSubscribedOn;i&&(this.listIds.includes("recent")||this.listIds.push("recent"),this.currentRecent="include",this.scheduleQueueMessage?this.scheduledSubscribedOn=l()(i).subtract(-1,"days").toISOString():this.scheduledSubscribedOn=i)},clearDraft:function(){this.listIds=[],this.userIds=[],this.awards=[],this.excludeListIds=[],this.excludedUsersIds=[],this.fundRaisingPostId=0,this.sendToQueue=0,this.postDonators=void 0,this.postBuyers=void 0,this.postLikes=void 0,this.postVoters=void 0},getScheduleMessageId:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getMessageScheduledQueue({id:t});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),disabledListInclude:function(e){return this.searchQuery||this.isUsersLoading||this.hasExcludedListId(e)},disabledListExclude:function(e){return this.searchQuery||this.isUsersLoading||this.hasIncludedListId(e)},excludeUsersList:function(e){var t=this.idToNumber(e);this.hasExcludedListId(t)?this.excludeListIds=this.excludeListIds.filter((function(e){return e!==t})):this.excludeListIds=Object(a["a"])(new Set([].concat(Object(a["a"])(this.excludeListIds),[t]))),this.isShowExcludeLists=!!this.excludeListIds.length,this.debouncedGetChatsUsers()},hasExcludedListId:function(e){return this.excludeListIds.includes(e)},openScheduleDate:function(){this.currentRecent="",this.scheduledSubscribedOn?this.onChangedRecentDate():(this.currentRecent="include",this.$refs.scheduledSubscribedOn.isOpen=!0)},cancelScheduledSubscribedOn:function(){this.currentRecent=""},removeSelectedUsers:function(){this.specificBulkMessage&&this.getUsersLists(),this.listIds=[],this.excludeListIds=[],this.excludedUsersIds=[],this.userIds=[],this.sendToQueue=0,this.showGroups=!0,this.postBuyers=void 0,this.postLikes=void 0,this.postDonators=void 0,this.postVoters=void 0,this.scheduledSubscribedOn="",this.currentRecent="",this.setUsersTotal(0),this.setSelectViewAllInclude([]),this.setSelectViewAllExclude([]),this.$router.replace({name:"ChatsSend"}),this.debouncedGetChatsUsers()},closeScheduleDate:function(){this.scheduledSubscribedOn.length||(this.currentRecent="")},viewAllListInclude:function(){var e=this;this.setModalUser({userId:null}),this.setShowViewAllInclude(!0),this.setSelectViewAllInclude(this.listIds),this.setSelectViewAllExclude(this.excludeListIds),this.$nextTick((function(){e.$root.$emit("bv::show::modal","ModalUsersLists")}))},viewAllListExclude:function(){var e=this;this.setModalUser({userId:null}),this.setShowViewAllExclude(!0),this.setSelectViewAllInclude(this.listIds),this.setSelectViewAllExclude(this.excludeListIds),this.$nextTick((function(){e.$root.$emit("bv::show::modal","ModalUsersLists")}))},onChangedRecentDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$refs.scheduledSubscribedOn&&(e||this.scheduledSubscribedOn)&&(this.scheduledSubscribedOn=e,this.includeUsersList("recent"))},reachEnd:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.hasMoreLists||this.isListsLoading){e.next=4;break}return e.next=3,this.getUsersLists(1);case 3:this.$nextTick((function(){t&&t.$swiper&&t.$swiper.isEnd&&s.reachEnd(t)}));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()})},U=T,D=s("2877"),E=Object(D["a"])(U,i,r,!1,null,null,null);t["default"]=E.exports},e80e:function(e,t,s){"use strict";var i=s("0068").isSpace;e.exports=function(e,t,s,r){var n,a,o,c,u,l,d,h,p,m,f,b,g,v,_,y,w,O,C,k,x=e.lineMax,P=e.bMarks[t]+e.tShift[t],S=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(P++))return!1;if(r)return!0;c=p=e.sCount[t]+1,32===e.src.charCodeAt(P)?(P++,c++,p++,n=!1,y=!0):9===e.src.charCodeAt(P)?(y=!0,(e.bsCount[t]+p)%4===3?(P++,c++,p++,n=!1):n=!0):y=!1,m=[e.bMarks[t]],e.bMarks[t]=P;while(P<S){if(a=e.src.charCodeAt(P),!i(a))break;9===a?p+=4-(p+e.bsCount[t]+(n?1:0))%4:p++,P++}for(f=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(y?1:0),l=P>=S,v=[e.sCount[t]],e.sCount[t]=p-c,_=[e.tShift[t]],e.tShift[t]=P-e.bMarks[t],O=e.md.block.ruler.getRules("blockquote"),g=e.parentType,e.parentType="blockquote",h=t+1;h<s;h++){if(k=e.sCount[h]<e.blkIndent,P=e.bMarks[h]+e.tShift[h],S=e.eMarks[h],P>=S)break;if(62!==e.src.charCodeAt(P++)||k){if(l)break;for(w=!1,o=0,u=O.length;o<u;o++)if(O[o](e,h,s,!0)){w=!0;break}if(w){e.lineMax=h,0!==e.blkIndent&&(m.push(e.bMarks[h]),f.push(e.bsCount[h]),_.push(e.tShift[h]),v.push(e.sCount[h]),e.sCount[h]-=e.blkIndent);break}m.push(e.bMarks[h]),f.push(e.bsCount[h]),_.push(e.tShift[h]),v.push(e.sCount[h]),e.sCount[h]=-1}else{c=p=e.sCount[h]+1,32===e.src.charCodeAt(P)?(P++,c++,p++,n=!1,y=!0):9===e.src.charCodeAt(P)?(y=!0,(e.bsCount[h]+p)%4===3?(P++,c++,p++,n=!1):n=!0):y=!1,m.push(e.bMarks[h]),e.bMarks[h]=P;while(P<S){if(a=e.src.charCodeAt(P),!i(a))break;9===a?p+=4-(p+e.bsCount[h]+(n?1:0))%4:p++,P++}l=P>=S,f.push(e.bsCount[h]),e.bsCount[h]=e.sCount[h]+1+(y?1:0),v.push(e.sCount[h]),e.sCount[h]=p-c,_.push(e.tShift[h]),e.tShift[h]=P-e.bMarks[h]}}for(b=e.blkIndent,e.blkIndent=0,C=e.push("blockquote_open","blockquote",1),C.markup=">",C.map=d=[t,0],e.md.block.tokenize(e,t,h),C=e.push("blockquote_close","blockquote",-1),C.markup=">",e.lineMax=x,e.parentType=g,d[1]=e.line,o=0;o<_.length;o++)e.bMarks[o+t]=m[o],e.tShift[o+t]=_[o],e.sCount[o+t]=v[o],e.bsCount[o+t]=f[o];return e.blkIndent=b,!0}},ebdc:function(e,t,s){"use strict";s("ac6a"),s("6b54"),s("7514"),s("c5f6");var i=s("d225"),r=s("b0b4"),n=s("bd86"),a=s("5a0c"),o=s.n(a),c=s("9029"),u=s("709f"),l=s("56d7"),d=[],h={},p=null,m=function(){function e(t,s){var r=this;Object(i["a"])(this,e),Object(n["a"])(this,"loadStart",(function(){r.playbutton.querySelector("use").setAttribute("xlink:href","#icon-loading")})),Object(n["a"])(this,"canPlay",(function(){r.playbutton.querySelector("use").setAttribute("xlink:href","#icon-play")})),Object(n["a"])(this,"canPlayThrough",(function(){var e=o()(1e3*Math.round(r.audio.duration-r.audio.currentTime));e.isValid()&&(r.currenttime.innerText="-".concat(e.format("mm:ss"))),r.duration=r.audio.duration,r.audio.paused&&r.playbutton.querySelector("use").setAttribute("xlink:href","#icon-play"),r.isLoaded=!0})),Object(n["a"])(this,"durationChange",(function(){r.duration=r.duration})),Object(n["a"])(this,"pressPlay",(function(e){e.stopPropagation(),e.preventDefault(),r.play()})),Object(n["a"])(this,"onEnded",(function(e){r.playbutton.querySelector("use").setAttribute("xlink:href","#icon-play"),void 0!==r.playPromise&&r.playPromise.then((function(e){r.audio.pause()})).catch((function(e){})),r.audio.currentTime=0,p=null})),Object(n["a"])(this,"onError",(function(e){console.log("arg error",e),console.log("elm1 error",r.error),console.log("elm2 error",r.audio.error),r.errormessage.innerText="Error",r.errormessage.classList.remove("g-hidden"),r.errormessage.querySelector("use").setAttribute("xlink:href","#icon-alert")})),Object(n["a"])(this,"timelineMouseDown",(function(e){r.audio.paused?r.currentPlayingState="paused":(r.currentPlayingState="playing",r.play()),r.audioplayer.classList.add("m-audio-rewind"),r.timeline.id;var t=r.audio.duration*r.clickPercent(e,r.timeline,r.timelineWidth),s=t/r.audio.duration*100;r.timelineProgressUpdate(s),window.addEventListener("mousemove",r.moveplayhead,!0),window.addEventListener("mouseup",r.mouseUp,!1),r.audio.removeEventListener("timeupdate",r.timeUpdate,!1)})),Object(n["a"])(this,"mouseUp",(function(e){"playing"===r.currentPlayingState&&r.play(),window.removeEventListener("mousemove",r.moveplayhead,!0),window.removeEventListener("mouseup",r.mouseUp,!1),r.audio.currentTime=r.audio.duration*r.clickPercent(e,r.timeline,r.timelineWidth),r.audio.addEventListener("timeupdate",r.timeUpdate,!1),r.audioplayer.classList.remove("m-audio-rewind")})),Object(n["a"])(this,"moveplayhead",(function(e){var t=r.audio.duration*r.clickPercent(e,r.timeline,r.timelineWidth),s=t/r.audio.duration*100;s=Math.max(s,0),s=Math.min(s,100),r.timelineProgressUpdate(s)})),Object(n["a"])(this,"timeUpdate",(function(){var e=r.audio.currentTime/r.audio.duration*100;r.timelineProgressUpdate(e),r.currenttime.innerText="-".concat(o()(1e3*Math.round(r.audio.duration-r.audio.currentTime)).format("mm:ss"))})),Object(n["a"])(this,"timelineProgressUpdate",(function(e){var t="".concat(e,"%");r.playhead.style.left=t,r.progress.style.width=t})),Object(n["a"])(this,"onVolumeButtonClick",(function(e){e.preventDefault(),r.audio.volume&&!r.audio.muted?(r.lastSavedVolume=r.audio.volume,r.audio.volume=0,r.volume.value=0):(r.audio.volume=r.lastSavedVolume,r.volume.value=r.lastSavedVolume),r.applyVolumeState()})),Object(n["a"])(this,"onVolumeControlMouseEnter",(function(){r.volume.classList.remove("g-invisible"),r.volumeControl.classList.add("m-visible-volume-control")})),Object(n["a"])(this,"onVolumeControlMouseLeave",(function(){r.volume.classList.add("g-invisible"),r.volumeControl.classList.remove("m-visible-volume-control")})),Object(n["a"])(this,"onVolumeInput",(function(){r.audio.volume=r.volume.value})),Object(n["a"])(this,"onVolumeInputChanged",(function(){r.audio.volume&&(r.lastSavedVolume=r.audio.volume)})),Object(n["a"])(this,"onVolumeChange",(function(){r.applyVolumeState(),c["isIOS"]||r.updateVolumeInputStyle(),r.volumeChangeCallback&&r.volumeChangeCallback(r.audio.volume)})),Object(n["a"])(this,"updateVolumeInputStyle",(function(){var e=100*+r.volume.value;r.volume.style.backgroundImage="linear-gradient(to right, #00AFF0 ".concat(e,"%, rgba(138, 150, 163, .25) ").concat(e,"%)")})),Object(n["a"])(this,"updateVolumeIcon",(function(){var e,t=+r.volume.value;0===t?e="off":t>.5?e="high":t<=.5&&(e="low"),r.volumeButton.querySelector("use").setAttribute("xlink:href","#icon-volume-".concat(e))})),Object(n["a"])(this,"applyVolumeState",(function(){r.audio.muted=!+r.volume.value,r.updateVolumeIcon()})),Object(n["a"])(this,"setVolume",(function(e){r.volume.value!=e&&(r.volume.value=e,r.onVolumeInput(),r.onVolumeInputChanged())})),this.audio=t,this.id=t.id,this.duration=s,this.isLoaded=!1,this.currentPlayingState="paused",this.lastSavedVolume=t.volume,this.volumeChangeCallback=function(e){}}return Object(r["a"])(e,[{key:"bindAudioPlayer",value:function(e){this.audioplayer=document.getElementById("audioplayer-".concat(e)),this.playbutton=document.getElementById("playbutton-".concat(e)),this.timeline=document.getElementById("timeline-".concat(e)),this.playhead=document.getElementById("playhead-".concat(e)),this.progress=document.getElementById("progress-".concat(e)),this.currenttime=document.getElementById("currenttime-".concat(e)),this.errormessage=document.getElementById("errormessage-".concat(e)),this.timelineWidth=this.timeline.offsetWidth,this.volumeControl=document.getElementById("volumecontrol-".concat(e)),this.volumeButton=document.getElementById("volumebutton-".concat(e)),this.volume=document.getElementById("volumeinput-".concat(e)),this.volume.value=this.audio.volume,c["isIOS"]||(this.onVolumeInput(),this.onVolumeChange())}},{key:"addEventListeners",value:function(){this.audio.addEventListener("loadedmetadata",this.timeUpdate,!1),this.audio.addEventListener("canplaythrough",this.canPlayThrough,!1),this.audio.addEventListener("onerror",this.onError,!1),this.audio.addEventListener("ended",this.onEnded,!1),this.timeline.addEventListener("mousedown",this.timelineMouseDown,!1),this.playbutton.addEventListener("click",this.pressPlay,!1),this.volumeButton.addEventListener("click",this.onVolumeButtonClick,!1),this.audio.addEventListener("volumechange",this.onVolumeChange,!1),c["isIOS"]||(this.volumeControl.addEventListener("mouseenter",this.onVolumeControlMouseEnter,!1),this.volumeControl.addEventListener("mouseleave",this.onVolumeControlMouseLeave,!1),this.volume.addEventListener("input",this.onVolumeInput,!1),this.volume.addEventListener("change",this.onVolumeInputChanged,!1))}},{key:"play",value:function(){var e=this;this.audio.addEventListener("timeupdate",this.timeUpdate,!1),this===p?(p=null,void 0!==this.playPromise&&this.playPromise.then((function(t){e.audio.pause(),e.playbutton.querySelector("use").setAttribute("xlink:href","#icon-play")})).catch((function(e){}))):p?void 0!==p.playPromise&&p.playPromise.then((function(t){p.audio.pause(),p.playbutton.querySelector("use").setAttribute("xlink:href","#icon-play"),e.playPromise=e.audio.play(),l["default"].$root.$emit("currentPlayAudio",e.audio),p=e,e.playbutton.querySelector("use").setAttribute("xlink:href","#icon-pause")})).catch((function(e){})):(this.playPromise=this.audio.play(),l["default"].$root.$emit("currentPlayAudio",this.audio),p=this,this.playbutton.querySelector("use").setAttribute("xlink:href","#icon-pause"))}},{key:"clickPercent",value:function(e,t,s){return(e.clientX-this.getPosition(t))/s}},{key:"getPosition",value:function(e){return e.getBoundingClientRect().left}}]),e}(),f={init:function(e){var t=Number(u["a"].getItem("postMediaVolume",1));if(e.id){var s=d.find((function(t){return t.audio.id==e.id}));return s&&s.setVolume(t),e.id}e.setAttribute("preload","metadata");var i=(new Date).getTime().toString(36),r=new m(e,0),n=f.getPlayersHtml(i,c["isIOS"]);return setTimeout((function(){r.isLoaded||e.load()}),1e3),e.id="audio-".concat(i),e.classList.add("g-hidden"),e.insertAdjacentHTML("afterend",n),d.push(r),r.bindAudioPlayer(i),r.addEventListeners(),r.volumeChangeCallback=f.onVolumeChanged.bind(r),r&&r.setVolume(t),f.populateComponentDictionary(),e.id},getPlayersHtml:function(e){return'<div id="audioplayer-'.concat(e,'" class="b-audioplayer">\n\t\t\t\t<button type="button" id="playbutton-').concat(e,'" class="b-audioplayer__btn-play m-with-round-hover m-btn-player">\n\t\t\t\t\t<svg aria-hidden="true" class="g-icon">\n\t\t\t\t\t\t<use xlink:href="#icon-loading"></use>\n\t\t\t\t\t</svg>\n        </button>\n        <div id="volumecontrol-').concat(e,'" class="b-volume-btn m-btn-player m-with-round-hover">\n          <input\n            id="volumeinput-').concat(e,'"\n            class="b-volume-btn__range-control m-horizontal g-invisible"\n            type="range"\n            min="0"\n            max="1"\n            step="0.05"\n          />\n          <button type="button" id="volumebutton-').concat(e,'" class="b-audioplayer__btn-volume m-btn-player">\n            <svg aria-hidden="true" class="g-icon">\n              <use xlink:href="#icon-volume-high"></use>\n            </svg>\n          </button>\n        </div>\n        <div id="timeline-').concat(e,'" class="b-audioplayer__timeline">\n          <div id="playhead-').concat(e,'" class="b-audioplayer__playhead"></div>\n          <div id="progress-').concat(e,'" class="b-audioplayer__progress"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="b-audioplayer__timing">\n          <span id="currenttime-').concat(e,'">00:00</span>\n        </div>\n        <div id="errormessage-').concat(e,'" class="g-hidden b-audioplayer__error-msg"></div>\n\t\t\t</div>')},populateComponentDictionary:function(){for(var e=0;e<d.length;e++)h[d[e].audio.id]=e,h[d[e].playbutton.id]=e},onVolumeChanged:function(e){u["a"].setItem("postMediaVolume",e),f.syncVolume.call(this,e)},syncVolume:function(e){var t=this;d.filter((function(e){return e.audio.id!=t.audio.id})).forEach((function(t){t&&t.setVolume(e)}))},pauseAudio:function(e){null!==p&&(p.playPromise=p.play())}};t["a"]=f},ed33:function(e,t,s){s("014b"),e.exports=s("584a").Object.getOwnPropertySymbols},f006:function(e,t,s){"use strict";s("94ad")},f747:function(e,t,s){"use strict";t["a"]={computed:{isMutedStateTooltip:function(){if(this.chat.canNotSendReason){if(this.isNeedAndCanSubscribeToChat)return this.$t("message.cannot_write_need_subscribe_message",{URL:"#"});if("unsubscribed"===this.chat.canNotSendReason)return this.$t("message.cannot_write_need_subscribe_message",{URL:"/".concat(this.withUser.username)});if("deleted_user"===this.chat.canNotSendReason)return this.$t("message.user_was_deleted");if("user_inactive"===this.chat.canNotSendReason)return this.$t("message.chat_user_inactive");if("chat_unavailable"===this.chat.canNotSendReason||!this.authUser.canChat)return this.$t("message.chat_unavailable");if("muted"===this.chat.canNotSendReason)return this.$t("message.chat_user_restrict");if("user_blocked"===this.chat.canNotSendReason)return this.$t("message.chat_user_blocked")}return""}}}},f847:function(e,t,s){"use strict";s.d(t,"e",(function(){return n})),s.d(t,"c",(function(){return a})),s.d(t,"f",(function(){return o})),s.d(t,"d",(function(){return c}));s("a481"),s("ac6a"),s("456d"),s("7514");var i=s("bd0a");s.d(t,"a",(function(){return i["a"]})),s.d(t,"b",(function(){return i["c"]}));var r={data:function(){return{defaultOrderDir:"desc"}},computed:{defaultOrderField:function(){return"Promotions"===this.$route.name?"create_date":"last_activity"}}},n={mixins:[r],methods:{getQueryOrderField:function(){var e=this.$route.query;e=void 0===e?{}:e;var t=e.order_field;return t||this.defaultOrderField},getQueryOrderDir:function(){var e=this.$route.query;e=void 0===e?{}:e;var t=e.order_dir;return t||this.defaultOrderDir},getQueryUsersFilters:function(e){return Object(i["h"])(this.$route,e)}}},a={mixins:[r],computed:{currentOrderField:function(){var e=this.$route.query;e=void 0===e?{}:e;var t=e.order_field;return t||this.defaultOrderField},currentOrderDir:function(){var e=this.$route.query;e=void 0===e?{}:e;var t=e.order_dir;return t||this.defaultOrderDir}}},o={mixins:[a],computed:{isUsersSorted:function(){return this.currentOrderField!==this.defaultOrderField||this.currentOrderDir!==this.defaultOrderDir},usersSortOptions:function(){return Object(i["e"])(this.$route)},selectedSortOption:function(){var e=this;return this.usersSortOptions.find((function(t){return t.name===e.currentOrderField}))},usersFiltersListType:function(){return this.usersFiltersType?this.usersFiltersType:"Subscribes"===this.$route.name||"SubscribesByType"===this.$route.name?i["c"]:i["b"]},queryUsersFilters:function(){return Object(i["h"])(this.$route,this.usersFiltersListType)},isUsersFiltered:function(){return!!Object.keys(this.queryUsersFilters).length}},methods:{clearQueryUsersFilters:function(){var e=Object(i["f"])(this.$route,this.usersFiltersListType);this.$router.replace({query:e})}}},c={methods:{getFieldsFromQuery:function(e){var t=this;return e&&Array.isArray(e)&&e.length?e.reduce((function(e,s){var i=t.$route.query[s];return i&&(e[s]=i),e}),{}):{}}}}},f950:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var i=function(e){var t=null;switch(e){case"Subscribers":case"SubscribersByType":t="fans";break;default:t=e?e.toLowerCase():null}return t}},fa8d:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-dropdown",{directives:[{name:"dropdown-autohide",rawName:"v-dropdown-autohide"}],ref:"profileDropdown",staticClass:"m-default-hover-color",class:e.classBtn,attrs:{right:"","toggle-class":"m-dark","menu-class":e.menuClass,variant:e.variant,offset:"4",boundary:e.boundary,lazy:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("message.tooltip_more"),classes:e.isAdditionalClass?"m-tooltip-higher m-moved-dropdown-more":"m-tooltip-higher"},expression:"{ content: $t('message.tooltip_more'), classes: isAdditionalClass ? 'm-tooltip-higher m-moved-dropdown-more' : 'm-tooltip-higher' }"}],staticClass:"icon-more"})]},proxy:!0}])},[e.userAvailable?[e.isAuthUser||e.isProfileMenu?e._e():[s("li",{staticClass:"m-user-data-item",attrs:{role:"presentation"}},[s("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"Profile",params:{userId:e.user.username}}}},[s("avatar",{staticClass:"m-border-line",attrs:{"user-id":e.user.id,size:24,"is-link":!1}}),s("div",{staticClass:"b-username-row"},[s("div",{staticClass:"g-user-username m-md-size"},[e._v(" @"+e._s(e.user.username)+" ")])])],1)],1),s("b-dropdown-divider")],e.isAuthUser&&e.isProfilePage&&e.user.isPerformer?[s("b-dropdown-item-button",{staticClass:"m-capitalize",on:{click:e.openProfileStatistics}},[e._v(" "+e._s(e.$t("message.stat_modal_title"))+" ")]),s("b-dropdown-item-button",{on:{click:e.openQRCodeModal}},[e._v(" "+e._s(e.$t("message.qr_code"))+" ")])]:e._e(),s("b-dropdown-item-button",{on:{click:e.doCopyProfileLink}},[e._v(" "+e._s(e.doCopyProfileLinkText)+" ")]),e.canSetCustomName?s("b-dropdown-item-button",{on:{click:function(t){return e.openCustomNamePopup(e.user.id)}}},[e._v(" "+e._s(e.$t("message.title_rename_user"))+" ")]):e._e(),e.isBlockedPage||!e.isAuth||e.isAuthUser?e._e():[e.user.isBlocked?e._e():s("b-dropdown-item-button",{staticClass:"g-nowrap",on:{click:e.openUsersListsModal}},[e._v(" "+e._s(e.$t("message.add_to_lists_dropdown_btn"))+" ")]),e.canRemoveFromFriends?s("b-dropdown-item-button",{attrs:{disabled:e.disabledFriendUser},on:{click:e.removeFromFriends}},[e._v(" "+e._s(e.$t("message.remove_from_friends_btn_label"))+" ")]):e._e(),e.canTogglePostsInFeed?s("b-dropdown-item-button",{attrs:{disabled:e.disabledHideUserPost},on:{click:function(t){return e.doHideUserPosts({userId:e.user.id})}}},[e._v(" "+e._s(e.hideUserPostsText(e.user.showPostsInFeed))+" ")]):e._e(),e.canGiveDiscount?s("b-dropdown-item-button",{on:{click:e.openDiscountModal}},[e._v(" "+e._s(e.$t("message.give_user_a_discount_profile_dropdown_btn_label"))+" ")]):e._e(),e.authUser.isPerformer&&e.isSubscriber?s("li",{attrs:{role:"presentation"}},[s("router-link",{staticClass:"dropdown-item",attrs:{to:e.usersCommentsRoute}},[e._v(" "+e._s(e.$t("message.view_user_s_comments"))+" ")])],1):e._e()],e.canMakeNotes?s("b-dropdown-item-button",{on:{click:e.openNoteModal}},[e._v(" "+e._s(e.user.notice?e.$t("message.edit_notes"):e.$t("message.add_notes"))+" ")]):e._e()]:e._e(),e.chat&&!e.isBlockedPage?[e.user.canAddSubscriber&&!e.user.subscribedBy&&e.userAvailable?s("b-dropdown-item",[s("subscribe-btn",{attrs:{id:e.user.id,chat:e.chat},on:{"hide-dropdown":e.hideDropdown}})],1):e._e(),e.chat.hasPurchasedFeed?s("li",{attrs:{role:"presentation"}},[s("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"Purchased",query:{user:e.user.username}}}},[e._v(" "+e._s(e.$t("message.message_type_purchases"))+" ")])],1):e._e(),e.isProfilePage?e._e():[s("b-dropdown-divider"),s("b-dropdown-item-button",{on:{click:e.hideChat}},[e._v(" "+e._s(e.$t("message.hide_chat"))+" ")]),e.userAvailable?s("b-dropdown-item-button",{attrs:{disabled:e.disabledMuteNotifications},on:{click:e.muteNotifications}},[e._v(" "+e._s(e.muteNotificationsTitle)+" ")]):e._e()]]:e._e(),e.isAuth&&e.userAvailable?[e.isAuthUser?e._e():[e.isBlockedPage?e._e():[!e.user.isBlocked&&(e.user.canRestrict||e.user.isRestricted)||e.authUser.isPerformer||e.user.subscribedBy||e.user.subscribedOn?s("b-dropdown-divider"):e._e(),e.user.isBlocked||!e.user.canRestrict&&!e.user.isRestricted?e._e():s("b-dropdown-text",{staticClass:"m-clear-gap-link m-danger m-btn-with-hint"},[s("button",{staticClass:"dropdown-item",attrs:{disabled:e.user.disabledRestrict,role:"menuitem",type:"button"},on:{click:e.doMuteUser}},[e._v(" "+e._s(e.muteTitle)+" ")]),s("span",{staticClass:"g-icon-info m-with-round-hover"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip.enabled",value:{content:e.$t("message.info_ignore_user"),classes:"m-tooltip-higher",container:".b-dropdown-wrapper"},expression:"{\n                content: $t('message.info_ignore_user'),\n                classes: 'm-tooltip-higher',\n                container: '.b-dropdown-wrapper'\n              }",modifiers:{enabled:!0}}],staticClass:"icon-info",on:{click:function(t){return t.preventDefault(),e.prevent(t)}}})])])],e.isBlockedPage?s("b-dropdown-divider"):e._e(),s("b-dropdown-item-button",{staticClass:"m-danger",attrs:{disabled:e.user.disabledBlock},on:{click:e.doBlockUser}},[e._v(" "+e._s(e.user.isBlocked?e.$t("message.unblock_label"):e.$t("message.block_label"))+" ")]),s("b-dropdown-item-button",{staticClass:"m-danger",on:{click:e.openReportModal}},[e._v(" "+e._s(e.$t("message.report"))+" ")])],e.isBlockedPage||e.isProfilePage||!e.isAuthUser?e._e():[s("b-dropdown-divider"),s("user-visibility")]]:e._e()],2)},r=[],n=(s("8e6e"),s("96cf"),s("3b8d")),a=(s("7514"),s("6762"),s("2fdb"),s("ac6a"),s("456d"),s("bd86")),o=s("d634"),c=s("e43a"),u=s("a2fa"),l=s("b48d"),d=s("8f2f"),h=s("b6a4"),p=s("0687"),m=s("2779"),f=s("09e4"),b=s("bd0a"),g=s("88f4");function v(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function _(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?v(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):v(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var y={name:"UsersAction",components:{SubscribeBtn:u["a"],Avatar:l["a"],UserVisibility:d["a"]},mixins:[h["a"],p["a"],m["a"]],props:{user:{type:Object,default:function(){}},classBtn:{type:String,default:""},chat:{type:Object,default:function(){}},subscriberItem:{type:Object,default:function(){}},subscribeItem:{type:Object,default:function(){}},isSubscriberCard:{type:Boolean,default:!1},menuClass:{type:[String,Object],default:""},isFriendWidget:{type:Boolean,default:!1},isProfileMenu:{type:Boolean,default:!1},boundary:{type:String,default:"scrollParent"},variant:{type:String,default:"link"},isUserListModal:{type:Boolean,default:!1},isAdditionalClass:{type:Boolean,default:!1}},data:function(){return{disabledMuteNotifications:!1,disabledFriendUser:!1}},computed:_(_(_(_({},Object(o["b"])(["isAuth","authUser"])),Object(o["ic"])(["getSubscriber"])),Object(o["kc"])(["minDiscountPercent","minSubscriptionPrice"])),{},{subscriber:function(){return this.getSubscriber(this.user.id)},isAuthUser:function(){return this.isAuth&&this.user.id&&this.authUser.id&&this.user.id===this.authUser.id},isSubscriber:function(){return this.subscriber&&Object.keys(this.subscriber).length},muteTitle:function(){return this.user.isRestricted?this.$t("message.unrestrict_user_username"):this.$t("message.user_restrict_button_label_")},muteNotificationsTitle:function(){return this.chat.isMutedNotifications?this.$t("message.unmute_notifications"):this.$t("message.mute_notifications")},canGiveDiscount:function(){var e=this.authUser.subscribePrice&&this.authUser.subscribePrice*(100-this.minDiscountPercent)/100>=this.minSubscriptionPrice;return(this.user.canTrialSend||e)&&!this.user.isBlocked},isProfilePage:function(){return"Profile"===this.$route.name||"ProfileInner"===this.$route.name},isSearchUsersPage:function(){return"Search"===this.$route.name},isListPage:function(){return b["l"].includes(this.$route.name)},userAvailable:function(){return!!(this.isProfilePage||this.isListPage||this.isFriendWidget||this.isSearchUsersPage||this.isUserListModal)||(!(!this.chat||!this.user||this.user.isBlocked||"deleted_user"===this.chat.canNotSendReason||"user_inactive"===this.chat.canNotSendReason)||(!(this.chat||!this.subscriberItem)||!(this.chat||!this.subscribeItem)))},canMakeNotes:function(){return!this.user.isBlocked&&this.isSubscriberCard&&this.isSubscriber},isBlockedPage:function(){return"BlockedUsers"===this.$route.name},canRemoveFromFriends:function(){return this.isFriendWidget&&(this.isProfilePage||["Friends","MyFriends"].includes(this.$route.name))&&!this.isAuthUser&&((this.user.listsStates||[]).find((function(e){return"friends"===e.type}))||{}).hasUser},canTogglePostsInFeed:function(){return this.user.subscribedBy&&!this.user.isBlocked&&this.isProfilePage&&!this.isFriendWidget},usersCommentsRoute:function(){return{name:"NotificationsByType",params:{type:g["k"]},query:{related_user:this.user.username}}}}),methods:_(_(_(_(_(_({},Object(o["yc"])(["setModalUser","setUserField"])),Object(o["sc"])(["toggleRestrictUser","toggleBlockUser","unFriendUser"])),Object(o["R"])(["setReportType"])),Object(o["k"])(["fetchChat","hideChats","toggleMuteNotifications"])),Object(o["nb"])(["fetchStat"])),{},{doMuteUser:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.user.disabledRestrict){e.next=2;break}return e.abrupt("return");case 2:this.sendClickUserStat(!0),this.$nextTick(Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.toggleRestrictUser(t.user.id);case 2:"Chat"===t.$route.name&&!t.user.isRestricted&&t.$route.params.chatId&&t.$root.$emit("message::from::draft",t.$route.params.chatId);case 3:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),openReportModal:function(){var e=this;this.setModalUser({userId:this.user.id}),this.setReportType({type:"user"}),this.$nextTick((function(){e.$root.$emit("bv::show::modal","ModalReport")}))},doBlockUser:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.user.disabledBlock){e.next=2;break}return e.abrupt("return");case 2:if(!this.user.isBlocked){e.next=11;break}return this.sendClickUserStat(),e.next=6,this.toggleBlockUser(this.user.id);case 6:if(!this.chat){e.next=9;break}return e.next=9,this.fetchChat(this.user.id);case 9:e.next=13;break;case 11:this.setModalUser({userId:this.user.id}),this.$nextTick((function(){t.$root.$emit("bv::show::modal","ModalBlockUser")}));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),sendClickUserStat:function(e){var t="UsersAction_".concat(this.$route.name),s=this.user;Object(c["a"])({user:s,isRestrict:e,block:t})},openDiscountModal:function(){var e=this;this.setModalUser({userId:this.user.id}),this.$nextTick((function(){e.$root.$emit("bv::set::modal::promoType","discount"),e.$root.$emit("bv::show::modal","ModalPersonalOffer")}))},openNoteModal:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.setModalUser({userId:this.user.id});case 2:this.$nextTick((function(){t.$root.$emit("bv::show::modal","ModalSubscriberNotes")}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),hideDropdown:function(){this.$refs.profileDropdown&&this.$refs.profileDropdown.hide()},hideChat:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$nextTick(Object(n["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.hideChats(t.user.id);case 3:s=e.sent,s&&s.success&&t.$router.push({name:"Chats"}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),Object(f["b"])(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),muteNotifications:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.disabledMuteNotifications=!0,e.prev=1,e.next=4,this.toggleMuteNotifications(this.user.id);case 4:t=e.sent,t&&t.success&&this.$bvToast.toast(this.$t(this.chat.isMutedNotifications?this.$t("message.mute_notifications_chats_toast",{USERNAME:this.user.username}):this.$t("message.unmute_notifications_chats_toast",{USERNAME:this.user.username})),{toastClass:"b-toaster__only_msg settings-toast",toaster:"b-toaster-bottom-left",autoHideDelay:1e3}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),alert(e.t0.data);case 11:return e.prev=11,this.disabledMuteNotifications=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[1,8,11,14]])})));function t(){return e.apply(this,arguments)}return t}(),openUsersListsModal:function(){var e=this;this.setModalUser({userId:this.user.id}),this.$nextTick((function(){e.$root.$emit("bv::show::modal","ModalUsersLists")}))},openProfileStatistics:function(){var e=this;this.fetchStat(),this.$nextTick((function(){e.$root.$emit("bv::show::modal","ProfileStatModal")}))},prevent:function(e){e.preventDefault(),e.stopPropagation()},openQRCodeModal:function(){this.$root.$emit("bv::show::modal","ModalQRCode")},removeFromFriends:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$window.showPreloader(),this.disabledFriendUser=!0,e.next=4,this.unFriendUser(this.user.id);case 4:this.$window.hidePreloader(),this.disabledFriendUser=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()})},w=y,O=s("2877"),C=Object(O["a"])(w,i,r,!1,null,null,null);t["a"]=C.exports},fb31:function(e,t,s){"use strict";s("19ad")},fbcd:function(e,t,s){"use strict";function i(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(s){e[s]=t[s]}))})),e}function r(e){return Object.prototype.toString.call(e)}function n(e){return"[object String]"===r(e)}function a(e){return"[object Object]"===r(e)}function o(e){return"[object RegExp]"===r(e)}function c(e){return"[object Function]"===r(e)}function u(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var l={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function d(e){return Object.keys(e||{}).reduce((function(e,t){return e||l.hasOwnProperty(t)}),!1)}var h={"http:":{validate:function(e,t,s){var i=e.slice(t);return s.re.http||(s.re.http=new RegExp("^\\/\\/"+s.re.src_auth+s.re.src_host_port_strict+s.re.src_path,"i")),s.re.http.test(i)?i.match(s.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,s){var i=e.slice(t);return s.re.no_http||(s.re.no_http=new RegExp("^"+s.re.src_auth+"(?:localhost|(?:(?:"+s.re.src_domain+")\\.)+"+s.re.src_domain_root+")"+s.re.src_port+s.re.src_host_terminator+s.re.src_path,"i")),s.re.no_http.test(i)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:i.match(s.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,s){var i=e.slice(t);return s.re.mailto||(s.re.mailto=new RegExp("^"+s.re.src_email_name+"@"+s.re.src_host_strict,"i")),s.re.mailto.test(i)?i.match(s.re.mailto)[0].length:0}}},p="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",m="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function f(e){e.__index__=-1,e.__text_cache__=""}function b(e){return function(t,s){var i=t.slice(s);return e.test(i)?i.match(e)[0].length:0}}function g(){return function(e,t){t.normalize(e)}}function v(e){var t=e.re=s("b117")(e.__opts__),i=e.__tlds__.slice();function r(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||i.push(p),i.push(t.src_xn),t.src_tlds=i.join("|"),t.email_fuzzy=RegExp(r(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(r(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(r(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(r(t.tpl_host_fuzzy_test),"i");var l=[];function d(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var s=e.__schemas__[t];if(null!==s){var i={validate:null,link:null};if(e.__compiled__[t]=i,a(s))return o(s.validate)?i.validate=b(s.validate):c(s.validate)?i.validate=s.validate:d(t,s),void(c(s.normalize)?i.normalize=s.normalize:s.normalize?d(t,s):i.normalize=g());n(s)?l.push(t):d(t,s)}})),l.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:g()};var h=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(u).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+h+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+h+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),f(e)}function _(e,t){var s=e.__index__,i=e.__last_index__,r=e.__text_cache__.slice(s,i);this.schema=e.__schema__.toLowerCase(),this.index=s+t,this.lastIndex=i+t,this.raw=r,this.text=r,this.url=r}function y(e,t){var s=new _(e,t);return e.__compiled__[s.schema].normalize(s,e),s}function w(e,t){if(!(this instanceof w))return new w(e,t);t||d(e)&&(t=e,e={}),this.__opts__=i({},l,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=i({},h,e),this.__compiled__={},this.__tlds__=m,this.__tlds_replaced__=!1,this.re={},v(this)}w.prototype.add=function(e,t){return this.__schemas__[e]=t,v(this),this},w.prototype.set=function(e){return this.__opts__=i(this.__opts__,e),this},w.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,s,i,r,n,a,o,c,u;if(this.re.schema_test.test(e)){o=this.re.schema_search,o.lastIndex=0;while(null!==(t=o.exec(e)))if(r=this.testSchemaAt(e,t[2],o.lastIndex),r){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+r;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&null!==(s=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(n=s.index+s[1].length,(this.__index__<0||n<this.__index__)&&(this.__schema__="",this.__index__=n,this.__last_index__=s.index+s[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(u=e.indexOf("@"),u>=0&&null!==(i=e.match(this.re.email_fuzzy))&&(n=i.index+i[1].length,a=i.index+i[0].length,(this.__index__<0||n<this.__index__||n===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=n,this.__last_index__=a))),this.__index__>=0},w.prototype.pretest=function(e){return this.re.pretest.test(e)},w.prototype.testSchemaAt=function(e,t,s){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,s,this):0},w.prototype.match=function(e){var t=0,s=[];this.__index__>=0&&this.__text_cache__===e&&(s.push(y(this,t)),t=this.__last_index__);var i=t?e.slice(t):e;while(this.test(i))s.push(y(this,t)),i=i.slice(this.__last_index__),t+=this.__last_index__;return s.length?s:null},w.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,s){return e!==s[t-1]})).reverse(),v(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,v(this),this)},w.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},w.prototype.onCompile=function(){},e.exports=w},fca0:function(e,t,s){var i=s("5ca1"),r=s("7726").isFinite;i(i.S,"Number",{isFinite:function(e){return"number"==typeof e&&r(e)}})},fcd9:function(e,t,s){"use strict";var i={getDurationFormat:function(e){return e<3600?"m:ss":"H:mm:ss"}};t["a"]=i},fdfe:function(e,t,s){"use strict";var i=s("0068").isSpace;e.exports=function(e,t,s,r){var n,a,o,c,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(n=e.src.charCodeAt(u++),42!==n&&45!==n&&95!==n)return!1;a=1;while(u<l){if(o=e.src.charCodeAt(u++),o!==n&&!i(o))return!1;o===n&&a++}return!(a<3)&&(r||(e.line=t+1,c=e.push("hr","hr",0),c.map=[t,e.line],c.markup=Array(a+1).join(String.fromCharCode(n))),!0)}}}]);